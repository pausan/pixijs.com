/*! For license information please see common.e38fdfaa.js.LICENSE.txt */
(self.webpackChunkpixi_docusaurus=self.webpackChunkpixi_docusaurus||[]).push([[8592],{3905:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>h,kt:()=>f});var i=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=i.createContext({}),c=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},h=function(e){var t=c(e.components);return i.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,h=a(e,["components","mdxType","originalType","parentName"]),p=c(n),u=r,f=p["".concat(l,".").concat(u)]||p[u]||d[u]||o;return n?i.createElement(f,s(s({ref:t},h),{},{components:n})):i.createElement(f,s({ref:t},h))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=u;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a[p]="string"==typeof e?e:r,s[1]=a;for(var c=2;c<o;c++)s[c]=n[c];return i.createElement.apply(null,s)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},91262:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});n(67294);var i=n(72389),r=n(85893);function o(e){let{children:t,fallback:n}=e;return(0,i.Z)()?(0,r.jsx)(r.Fragment,{children:null==t?void 0:t()}):n??null}},58010:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(35166);const r="wrapper_bEOe",o="embedded_9xAA";var s=n(91262),a=n(93039),l=n(53874),c=n(94184),h=n.n(c),p=n(85893);function d(e){let{id:t,pixiVersion:n,mode:c}=e;const d=(0,a.Y)(n.version,t),u=(null==d?void 0:d.source)??d,{indexCode:f,extraFiles:m}=(0,l.K7)(u);return(0,p.jsx)("div",{className:h()(r,"embedded"===c&&o),children:(0,p.jsx)(s.Z,{children:()=>(0,p.jsx)(i.Z,{code:f,extraFiles:m,pixiVersion:n.version,isPixiDevVersion:n.dev,isPixiWebWorkerVersion:null==d?void 0:d.usesWebWorkerLibrary,mode:c??"example"})})})}},35166:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Cg});var i=n(92949),r=n(67294),o=n(94184),s=n.n(o),a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},l=(0,r.createContext)({});function c(e){var t=e.classes,n=e.children,i=p((0,r.useContext)(l),t);return r.createElement(l.Provider,{value:i,children:n})}function h(e,t){var n=p((0,r.useContext)(l),t);return(0,r.useCallback)(function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=n.map((function(t){return e+(e&&t?"-":"")+t})),o=r.slice();return r.forEach((function(e){e in t&&o.push(t[e])})),o.join(" ")}}(e,n),[e,n])}function p(e,t){return(0,r.useMemo)((function(){return a(a({},e),t)}),[e,t])}var d=n(17770),u=n(72307),f=n.n(u),m='[sandpack-client]: "dependencies" was not specified - provide either a package.json or a "dependencies" value';function g(e={},t={},n="/index.js"){return JSON.stringify({name:"sandpack-project",main:n,dependencies:e,devDependencies:t},null,2)}function O(e,t,n,i){var r,o;let s=y(e),a=s["/package.json"];if(!a){if(!t)throw new Error(m);if(!i)throw new Error('[sandpack-client]: "entry" was not specified - provide either a package.json with the "main" field or an "entry" value');return s["/package.json"]={code:g(t,n,i)},s}if(a){let e=JSON.parse(a.code);if(!t&&!e.dependencies)throw new Error(m);t&&(e.dependencies={...null!=(r=e.dependencies)?r:{},...null!=t?t:{}}),n&&(e.devDependencies={...null!=(o=e.devDependencies)?o:{},...null!=n?n:{}}),i&&(e.main=i),s["/package.json"]={code:JSON.stringify(e,null,2)}}return s}function x(e){if("SyntaxError"===e.title){let{title:t,path:n,message:i,line:r,column:o}=e;return{title:t,path:n,message:i,line:r,column:o}}let t=function(e){if(e)return e.find((e=>!!e._originalFileName))}(e.payload.frames);if(!t)return{message:e.message};let n=function(e){let t=e._originalScriptCode[e._originalScriptCode.length-1].lineNumber.toString().length,n=2,i=3,r=n+t+i+e._originalColumnNumber;return e._originalScriptCode.reduce(((e,n)=>{let i=n.highlight?">":" ",o=n.lineNumber.toString().length===t?`${n.lineNumber}`:` ${n.lineNumber}`,s=n.highlight?"\n"+" ".repeat(r)+"^":"";return e+"\n"+i+" "+o+" | "+n.content+s}),"")}(t),i=function(e){return e?` (${e._originalLineNumber}:${e._originalColumnNumber})`:""}(t);return{message:b(t._originalFileName,e.message,i,n),title:e.title,path:t._originalFileName,line:t._originalLineNumber,column:t._originalColumnNumber}}function b(e,t,n,i){return`${e}: ${t}${n}\n${i}`}var v,y=e=>"string"==typeof e?e.startsWith("/")?e:`/${e}`:Array.isArray(e)?e.map((e=>e.startsWith("/")?e:`/${e}`)):"object"==typeof e&&null!==e?Object.entries(e).reduce(((e,[t,n])=>(e[t.startsWith("/")?t:`/${t}`]=n,e)),{}):null,w=`https://${"1.18.0".replace(/\./g,"-")}-sandpack.codesandbox.io/`,S=class{constructor(e,t,n={}){if(this.getTranspilerContext=()=>new Promise((e=>{let t=this.listen((n=>{"transpiler-context"===n.type&&(e(n.data),t())}));this.dispatch({type:"get-transpiler-context"})})),this.options=n,this.sandboxInfo=t,this.bundlerURL=n.bundlerURL||w,this.bundlerState=void 0,this.errors=[],this.status="initializing","string"==typeof e){this.selector=e;let t=document.querySelector(e);if(!t)throw new Error(`[sandpack-client]: the element '${e}' was not found`);this.element=t,this.iframe=document.createElement("iframe"),this.initializeElement()}else this.element=e,this.iframe=e;this.iframe.getAttribute("sandbox")||this.iframe.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"),this.setLocationURLIntoIFrame(),this.iframeProtocol=new class{constructor(e,t){this.globalListeners={},this.globalListenersCount=0,this.channelListeners={},this.channelListenersCount=0,this.channelId=Math.floor(1e6*Math.random()),this.frameWindow=e.contentWindow,this.origin=t,this.globalListeners=[],this.channelListeners=[],this.eventListener=this.eventListener.bind(this),"undefined"!=typeof window&&window.addEventListener("message",this.eventListener)}cleanup(){window.removeEventListener("message",this.eventListener),this.globalListeners={},this.channelListeners={},this.globalListenersCount=0,this.channelListenersCount=0}register(){!this.frameWindow||this.frameWindow.postMessage({type:"register-frame",origin:document.location.origin,id:this.channelId},this.origin)}dispatch(e){!this.frameWindow||this.frameWindow.postMessage({$id:this.channelId,codesandbox:!0,...e},this.origin)}globalListen(e){if("function"!=typeof e)return()=>{};let t=this.globalListenersCount;return this.globalListeners[t]=e,this.globalListenersCount++,()=>{delete this.globalListeners[t]}}channelListen(e){if("function"!=typeof e)return()=>{};let t=this.channelListenersCount;return this.channelListeners[t]=e,this.channelListenersCount++,()=>{delete this.channelListeners[t]}}eventListener(e){if(e.source!==this.frameWindow)return;let t=e.data;!t.codesandbox||(Object.values(this.globalListeners).forEach((e=>e(t))),t.$id===this.channelId&&Object.values(this.channelListeners).forEach((e=>e(t))))}}(this.iframe,this.bundlerURL),this.unsubscribeGlobalListener=this.iframeProtocol.globalListen((e=>{"initialized"!==e.type||!this.iframe.contentWindow||(this.iframeProtocol.register(),this.options.fileResolver&&(this.fileResolverProtocol=new class{constructor(e,t,n){this.type=e,this.handleMessage=t,this.protocol=n,this._disposeMessageListener=this.protocol.channelListen((async e=>{if(e.type===this.getTypeId()&&e.method){let t=e;try{let e=await this.handleMessage(t),n={type:this.getTypeId(),msgId:t.msgId,result:e};this.protocol.dispatch(n)}catch($){let n={type:this.getTypeId(),msgId:t.msgId,error:{message:$.message}};this.protocol.dispatch(n)}}}))}getTypeId(){return`protocol-${this.type}`}dispose(){this._disposeMessageListener()}}("fs",(async e=>{if("isFile"===e.method)return this.options.fileResolver.isFile(e.params[0]);if("readFile"===e.method)return this.options.fileResolver.readFile(e.params[0]);throw new Error("Method not supported")}),this.iframeProtocol)),this.updatePreview(this.sandboxInfo,!0))})),this.unsubscribeChannelListener=this.iframeProtocol.channelListen((e=>{switch(e.type){case"start":this.errors=[];break;case"status":this.status=e.status;break;case"action":"show-error"===e.action&&(this.errors=[...this.errors,x(e)]);break;case"state":this.bundlerState=e.state}}))}setLocationURLIntoIFrame(){var e;let t=this.options.startRoute?new URL(this.options.startRoute,this.bundlerURL).toString():this.bundlerURL;null==(e=this.iframe.contentWindow)||e.location.replace(t)}cleanup(){this.unsubscribeChannelListener(),this.unsubscribeGlobalListener(),this.iframeProtocol.cleanup()}updateOptions(e){f()(this.options,e)||(this.options=e,this.updatePreview())}updatePreview(e=this.sandboxInfo,t){var n,i,r,o;this.sandboxInfo={...this.sandboxInfo,...e};let s=this.getFiles(),a=Object.keys(s).reduce(((e,t)=>({...e,[t]:{code:s[t].code,path:t}})),{}),l=JSON.parse(g(this.sandboxInfo.dependencies,this.sandboxInfo.devDependencies,this.sandboxInfo.entry));try{l=JSON.parse(s["/package.json"].code)}catch(E){console.error("[sandpack-client]: could not parse package.json file: "+E.message)}let c=Object.keys(s).reduce(((e,t)=>({...e,[t]:{content:s[t].code,path:t}})),{});this.dispatch({type:"compile",codesandbox:!0,version:3,isInitializationCompile:t,modules:a,reactDevTools:this.options.reactDevTools,externalResources:this.options.externalResources||[],hasFileResolver:Boolean(this.options.fileResolver),disableDependencyPreprocessing:this.sandboxInfo.disableDependencyPreprocessing,template:this.sandboxInfo.template||(0,d.t4)(l,c),showOpenInCodeSandbox:null==(n=this.options.showOpenInCodeSandbox)||n,showErrorScreen:null==(i=this.options.showErrorScreen)||i,showLoadingScreen:null==(r=this.options.showLoadingScreen)||r,skipEval:this.options.skipEval||!1,clearConsoleDisabled:!this.options.clearConsoleOnFirstCompile,logLevel:null!=(o=this.options.logLevel)?o:v.Info,customNpmRegistries:this.options.customNpmRegistries})}dispatch(e){"refresh"===e.type&&this.setLocationURLIntoIFrame(),this.iframeProtocol.dispatch(e)}listen(e){return this.iframeProtocol.channelListen(e)}getCodeSandboxURL(){let e=this.getFiles(),t=Object.keys(e).reduce(((t,n)=>({...t,[n.replace("/","")]:{content:e[n].code,isBinary:!1}})),{});return fetch("https://codesandbox.io/api/v1/sandboxes/define?json=1",{method:"POST",body:JSON.stringify({files:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>({sandboxId:e.sandbox_id,editorUrl:`https://codesandbox.io/s/${e.sandbox_id}`,embedUrl:`https://codesandbox.io/embed/${e.sandbox_id}`})))}getFiles(){let{sandboxInfo:e}=this;return void 0===e.files["/package.json"]?O(e.files,e.dependencies,e.devDependencies,e.entry):this.sandboxInfo.files}initializeElement(){if(this.iframe.style.border="0",this.iframe.style.width=this.options.width||"100%",this.iframe.style.height=this.options.height||"100%",this.iframe.style.overflow="hidden",!this.element.parentNode)throw new Error("[sandpack-client]: the given iframe does not have a parent.");this.element.parentNode.replaceChild(this.iframe,this.element)}};!function(e){e[e.None=0]="None",e[e.Error=10]="Error",e[e.Warning=20]="Warning",e[e.Info=30]="Info",e[e.Debug=40]="Debug"}(v||(v={}));var k="colors",T="sizes",Q="space",P={gap:Q,gridGap:Q,columnGap:Q,gridColumnGap:Q,rowGap:Q,gridRowGap:Q,inset:Q,insetBlock:Q,insetBlockEnd:Q,insetBlockStart:Q,insetInline:Q,insetInlineEnd:Q,insetInlineStart:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,marginBlock:Q,marginBlockEnd:Q,marginBlockStart:Q,marginInline:Q,marginInlineEnd:Q,marginInlineStart:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,paddingBlock:Q,paddingBlockEnd:Q,paddingBlockStart:Q,paddingInline:Q,paddingInlineEnd:Q,paddingInlineStart:Q,top:Q,right:Q,bottom:Q,left:Q,scrollMargin:Q,scrollMarginTop:Q,scrollMarginRight:Q,scrollMarginBottom:Q,scrollMarginLeft:Q,scrollMarginX:Q,scrollMarginY:Q,scrollMarginBlock:Q,scrollMarginBlockEnd:Q,scrollMarginBlockStart:Q,scrollMarginInline:Q,scrollMarginInlineEnd:Q,scrollMarginInlineStart:Q,scrollPadding:Q,scrollPaddingTop:Q,scrollPaddingRight:Q,scrollPaddingBottom:Q,scrollPaddingLeft:Q,scrollPaddingX:Q,scrollPaddingY:Q,scrollPaddingBlock:Q,scrollPaddingBlockEnd:Q,scrollPaddingBlockStart:Q,scrollPaddingInline:Q,scrollPaddingInlineEnd:Q,scrollPaddingInlineStart:Q,fontSize:"fontSizes",background:k,backgroundColor:k,backgroundImage:k,borderImage:k,border:k,borderBlock:k,borderBlockEnd:k,borderBlockStart:k,borderBottom:k,borderBottomColor:k,borderColor:k,borderInline:k,borderInlineEnd:k,borderInlineStart:k,borderLeft:k,borderLeftColor:k,borderRight:k,borderRightColor:k,borderTop:k,borderTopColor:k,caretColor:k,color:k,columnRuleColor:k,fill:k,outline:k,outlineColor:k,stroke:k,textDecorationColor:k,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:T,minBlockSize:T,maxBlockSize:T,inlineSize:T,minInlineSize:T,maxInlineSize:T,width:T,minWidth:T,maxWidth:T,height:T,minHeight:T,maxHeight:T,flexBasis:T,gridTemplateColumns:T,gridTemplateRows:T,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},C=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,$=()=>{const e=Object.create(null);return(t,n,...i)=>{const r=(e=>JSON.stringify(e,C))(t);return r in e?e[r]:e[r]=n(t,...i)}},I=Symbol.for("sxs.internal"),R=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),A=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:M}=Object.prototype,j=e=>e.includes("-")?e:e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),E=/\s+(?![^()]*\))/,X=e=>t=>e(..."string"==typeof t?String(t).split(E):[t]),z={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:X(((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e}))),marginInline:X(((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e}))),maxSize:X(((e,t)=>({maxBlockSize:e,maxInlineSize:t||e}))),minSize:X(((e,t)=>({minBlockSize:e,minInlineSize:t||e}))),paddingBlock:X(((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e}))),paddingInline:X(((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e})))},W=/([\d.]+)([^]*)/,_=(e,t)=>e.length?e.reduce(((e,n)=>(e.push(...t.map((e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?`:is(${n})`:n):n+" "+e))),e)),[]):t,L=(e,t)=>e in D&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,((t,n,i,r)=>n+("stretch"===i?`-moz-available${r};${j(e)}:${n}-webkit-fill-available`:`-moz-fit-content${r};${j(e)}:${n}fit-content`)+r)):String(t),D={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},B=e=>e?e+"-":"",U=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,((e,i,r,o,s)=>"$"==o==!!r?e:(i||"--"==o?"calc(":"")+"var(--"+("$"===o?B(t)+(s.includes("$")?"":B(n))+s.replace(/\$/g,"-"):s)+")"+(i||"--"==o?"*"+(i||"")+(r||"1")+")":""))),Z=/\s*,\s*(?![^()]*\))/,N=Object.prototype.toString,F=(e,t,n,i,r)=>{let o,s,a;const l=(e,t,n)=>{let c,h;const p=e=>{for(c in e){const f=64===c.charCodeAt(0),m=f&&Array.isArray(e[c])?e[c]:[e[c]];for(h of m){const e=/[A-Z]/.test(u=c)?u:u.replace(/-[^]/g,(e=>e[1].toUpperCase())),m="object"==typeof h&&h&&h.toString===N&&(!i.utils[e]||!t.length);if(e in i.utils&&!m){const t=i.utils[e];if(t!==s){s=t,p(t(h)),s=null;continue}}else if(e in z){const t=z[e];if(t!==a){a=t,p(t(h)),a=null;continue}}if(f&&(d=c.slice(1)in i.media?"@media "+i.media[c.slice(1)]:c,c=d.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,((e,t,n,i,r,o)=>{const s=W.test(t),a=.0625*(s?-1:1),[l,c]=s?[i,t]:[t,i];return"("+("="===n[0]?"":">"===n[0]===s?"max-":"min-")+l+":"+("="!==n[0]&&1===n.length?c.replace(W,((e,t,i)=>Number(t)+a*(">"===n?1:-1)+i)):c)+(r?") and ("+(">"===r[0]?"min-":"max-")+l+":"+(1===r.length?o.replace(W,((e,t,n)=>Number(t)+a*(">"===r?-1:1)+n)):o):"")+")"}))),m){const e=f?n.concat(c):[...n],i=f?[...t]:_(t,c.split(Z));void 0!==o&&r(G(...o)),o=void 0,l(h,i,e)}else void 0===o&&(o=[[],t,n]),c=f||36!==c.charCodeAt(0)?c:`--${B(i.prefix)}${c.slice(1).replace(/\$/g,"-")}`,h=m?h:"number"==typeof h?h&&e in q?String(h)+"px":String(h):U(L(e,null==h?"":h),i.prefix,i.themeMap[e]),o[0].push(`${f?`${c} `:`${j(c)}:`}${h}`)}}var d,u};p(e),void 0!==o&&r(G(...o)),o=void 0};l(e,t,n)},G=(e,t,n)=>`${n.map((e=>`${e}{`)).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,q={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},V=e=>String.fromCharCode(e+(e>25?39:97)),Y=e=>(e=>{let t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=V(t%52)+n;return V(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(e))>>>0),H=["themed","global","styled","onevar","resonevar","allvar","inline"],J=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},K=e=>{let t;const n=()=>{const{cssRules:e}=t.sheet;return[].map.call(e,((n,i)=>{const{cssText:r}=n;let o="";if(r.startsWith("--sxs"))return"";if(e[i-1]&&(o=e[i-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(const e in t.rules)if(t.rules[e].group===n)return`--sxs{--sxs:${[...t.rules[e].cache].join(" ")}}${r}`;return n.cssRules.length?`${o}${r}`:""}return r})).join("")},i=()=>{if(t){const{rules:e,sheet:n}=t;if(!n.deleteRule){for(;3===Object(Object(n.cssRules)[0]).type;)n.cssRules.splice(0,1);n.cssRules=[]}for(const t in e)delete e[t]}const r=Object(e).styleSheets||[];for(const e of r)if(J(e)){for(let r=0,o=e.cssRules;o[r];++r){const s=Object(o[r]);if(1!==s.type)continue;const a=Object(o[r+1]);if(4!==a.type)continue;++r;const{cssText:l}=s;if(!l.startsWith("--sxs"))continue;const c=l.slice(14,-3).trim().split(/\s+/),h=H[c[0]];h&&(t||(t={sheet:e,reset:i,rules:{},toString:n}),t.rules[h]={group:a,index:r,cache:new Set(c)})}if(t)break}if(!t){const r=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,r(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?`@media{${[].map.call(this.cssRules,(e=>e.cssText)).join("")}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:r("","text/css"),rules:{},reset:i,toString:n}}const{sheet:o,rules:s}=t;for(let e=H.length-1;e>=0;--e){const t=H[e];if(!s[t]){const n=H[e+1],i=s[n]?s[n].index:o.cssRules.length;o.insertRule("@media{}",i),o.insertRule(`--sxs{--sxs:${e}}`,i),s[t]={group:o.cssRules[i+1],index:i,cache:new Set([e])}}ee(s[t])}};return i(),t},ee=e=>{const t=e.group;let n=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,n),++n}catch(e){}}},te=Symbol(),ne=$(),ie=(e,t)=>ne(e,(()=>(...n)=>{let i={type:null,composers:new Set};for(const t of n)if(null!=t)if(t[I]){null==i.type&&(i.type=t[I].type);for(const e of t[I].composers)i.composers.add(e)}else t.constructor!==Object||t.$$typeof?null==i.type&&(i.type=t):i.composers.add(re(t,e));return null==i.type&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),oe(e,i,t)})),re=({variants:e,compoundVariants:t,defaultVariants:n,...i},r)=>{const o=`${B(r.prefix)}c-${Y(i)}`,s=[],a=[],l=Object.create(null),c=[];for(const d in n)l[d]=String(n[d]);if("object"==typeof e&&e)for(const d in e){h=l,p=d,M.call(h,p)||(l[d]="undefined");const t=e[d];for(const e in t){const n={[d]:String(e)};"undefined"===String(e)&&c.push(d);const i=t[e],r=[n,i,!A(i)];s.push(r)}}var h,p;if("object"==typeof t&&t)for(const d of t){let{css:e,...t}=d;e="object"==typeof e&&e||{};for(const i in t)t[i]=String(t[i]);const n=[t,e,!A(e)];a.push(n)}return[o,i,s,a,l,c]},oe=(e,t,n)=>{const[i,r,o,s]=se(t.composers),a="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let n=0;n<t[te].length;n++){const[i,r]=t[te][n];e.rules[i].apply(r)}return t[te]=[],null}return t[te]=[],t.rules={},H.forEach((e=>t.rules[e]={apply:n=>t[te].push([e,n])})),t})(n):null,l=(a||n).rules,c=`.${i}${r.length>1?`:where(.${r.slice(1).join(".")})`:""}`,h=h=>{h="object"==typeof h&&h||le;const{css:p,...d}=h,u={};for(const e in o)if(delete d[e],e in h){let t=h[e];"object"==typeof t&&t?u[e]={"@initial":o[e],...t}:(t=String(t),u[e]="undefined"!==t||s.has(e)?t:o[e])}else u[e]=o[e];const f=new Set([...r]);for(const[i,r,o,s]of t.composers){n.rules.styled.cache.has(i)||(n.rules.styled.cache.add(i),F(r,[`.${i}`],[],e,(e=>{l.styled.apply(e)})));const t=ae(o,u,e.media),a=ae(s,u,e.media,!0);for(const r of t)if(void 0!==r)for(const[t,o,s]of r){const r=`${i}-${Y(o)}-${t}`;f.add(r);const a=(s?n.rules.resonevar:n.rules.onevar).cache,c=s?l.resonevar:l.onevar;a.has(r)||(a.add(r),F(o,[`.${r}`],[],e,(e=>{c.apply(e)})))}for(const r of a)if(void 0!==r)for(const[t,o]of r){const r=`${i}-${Y(o)}-${t}`;f.add(r),n.rules.allvar.cache.has(r)||(n.rules.allvar.cache.add(r),F(o,[`.${r}`],[],e,(e=>{l.allvar.apply(e)})))}}if("object"==typeof p&&p){const t=`${i}-i${Y(p)}-css`;f.add(t),n.rules.inline.cache.has(t)||(n.rules.inline.cache.add(t),F(p,[`.${t}`],[],e,(e=>{l.inline.apply(e)})))}for(const e of String(h.className||"").trim().split(/\s+/))e&&f.add(e);const m=d.className=[...f].join(" ");return{type:t.type,className:m,selector:c,props:d,toString:()=>m,deferredInjector:a}};return R(h,{className:i,selector:c,[I]:t,toString:()=>(n.rules.styled.cache.has(i)||h(),i)})},se=e=>{let t="";const n=[],i={},r=[];for(const[o,,,,s,a]of e){""===t&&(t=o),n.push(o),r.push(...a);for(const e in s){const t=s[e];(void 0===i[e]||"undefined"!==t||a.includes(t))&&(i[e]=t)}}return[t,n,i,new Set(r)]},ae=(e,t,n,i)=>{const r=[];e:for(let[o,s,a]of e){if(a)continue;let e,l=0,c=!1;for(e in o){const i=o[e];let r=t[e];if(r!==i){if("object"!=typeof r||!r)continue e;{let e,t,o=0;for(const s in r){if(i===String(r[s])){if("@initial"!==s){const e=s.slice(1);(t=t||[]).push(e in n?n[e]:s.replace(/^@media ?/,"")),c=!0}l+=o,e=!0}++o}if(t&&t.length&&(s={["@media "+t.join(", ")]:s}),!e)continue e}}}(r[l]=r[l]||[]).push([i?"cv":`${e}-${o[e]}`,s,c])}return r},le={},ce=$(),he=(e,t)=>ce(e,(()=>(...n)=>{const i=()=>{for(let i of n){i="object"==typeof i&&i||{};let n=Y(i);if(!t.rules.global.cache.has(n)){if(t.rules.global.cache.add(n),"@import"in i){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let n of[].concat(i["@import"]))n=n.includes('"')||n.includes("'")?n:`"${n}"`,t.sheet.insertRule(`@import ${n};`,e++);delete i["@import"]}F(i,[],[],e,(e=>{t.rules.global.apply(e)}))}}return""};return R(i,{toString:i})})),pe=$(),de=(e,t)=>pe(e,(()=>n=>{const i=`${B(e.prefix)}k-${Y(n)}`,r=()=>{if(!t.rules.global.cache.has(i)){t.rules.global.cache.add(i);const r=[];F(n,[],[],e,(e=>r.push(e)));const o=`@keyframes ${i}{${r.join("")}}`;t.rules.global.apply(o)}return i};return R(r,{get name(){return r()},toString:r})})),ue=class{constructor(e,t,n,i){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==n?"":String(n),this.prefix=null==i?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+B(this.prefix)+B(this.scale)+this.token}toString(){return this.computedValue}},fe=$(),me=(e,t)=>fe(e,(()=>(n,i)=>{i="object"==typeof n&&n||Object(i);const r=`.${n=(n="string"==typeof n?n:"")||`${B(e.prefix)}t-${Y(i)}`}`,o={},s=[];for(const t in i){o[t]={};for(const n in i[t]){const r=`--${B(e.prefix)}${t}-${n}`,a=U(String(i[t][n]),e.prefix,t);o[t][n]=new ue(n,a,t,e.prefix),s.push(`${r}:${a}`)}}const a=()=>{if(s.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);const r=`${i===e.theme?":root,":""}.${n}{${s.join(";")}}`;t.rules.themed.apply(r)}return n};return{...o,get className(){return a()},selector:r,toString:a}})),ge=$(),Oe=e=>{let t=!1;const n=ge(e,(e=>{t=!0;const n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",i="object"==typeof e.media&&e.media||{},r="object"==typeof e.root?e.root||null:globalThis.document||null,o="object"==typeof e.theme&&e.theme||{},s={prefix:n,media:i,theme:o,themeMap:"object"==typeof e.themeMap&&e.themeMap||{...P},utils:"object"==typeof e.utils&&e.utils||{}},a=K(r),l={css:ie(s,a),globalCss:he(s,a),keyframes:de(s,a),createTheme:me(s,a),reset(){a.reset(),l.theme.toString()},theme:{},sheet:a,config:s,prefix:n,getCssText:a.toString,toString:a.toString};return String(l.theme=l.createTheme(o)),l}));return t||n.reset(),n};let xe="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let Ig=1;Ig<xe.length;Ig++)xe[Ig]+=xe[Ig-1];function be(e){for(let t=1;t<xe.length;t+=2)if(xe[t]>e)return xe[t-1]<=e;return!1}function ve(e){return e>=127462&&e<=127487}function ye(e,t,n=!0,i=!0){return(n?we:Se)(e,t,i)}function we(e,t,n){if(t==e.length)return t;t&&ke(e.charCodeAt(t))&&Te(e.charCodeAt(t-1))&&t--;let i=Qe(e,t);for(t+=Ce(i);t<e.length;){let r=Qe(e,t);if(8205==i||8205==r||n&&be(r))t+=Ce(r),i=r;else{if(!ve(r))break;{let n=0,i=t-2;for(;i>=0&&ve(Qe(e,i));)n++,i-=2;if(n%2==0)break;t+=2}}}return t}function Se(e,t,n){for(;t>0;){let i=we(e,t-2,n);if(i<t)return i;t--}return 0}function ke(e){return e>=56320&&e<57344}function Te(e){return e>=55296&&e<56320}function Qe(e,t){let n=e.charCodeAt(t);if(!Te(n)||t+1==e.length)return n;let i=e.charCodeAt(t+1);return ke(i)?i-56320+(n-55296<<10)+65536:n}function Pe(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Ce(e){return e<65536?1:2}function $e(e,t,n=e.length){let i=0;for(let r=0;r<n;)9==e.charCodeAt(r)?(i+=t-i%t,r++):(i++,r=ye(e,r));return i}class Ie{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(t,this.length,i,1),Ae.from(i,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let n=[];return this.decompose(e,t,n,0),Ae.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new Ee(this),r=new Ee(e);for(let o=t,s=t;;){if(i.next(o),r.next(o),o=0,i.lineBreak!=r.lineBreak||i.done!=r.done||i.value!=r.value)return!1;if(s+=i.value.length,i.done||s>=n)return!0}}iter(e=1){return new Ee(this,e)}iterRange(e,t=this.length){return new Xe(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new ze(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new Re(e):Ae.from(Re.split(e,[])):Ie.empty}}class Re extends Ie{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,i){for(let r=0;;r++){let o=this.text[r],s=i+o.length;if((t?n:s)>=e)return new We(i,s,n,o);i=s+1,n++}}decompose(e,t,n,i){let r=e<=0&&t>=this.length?this:new Re(je(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){let e=n.pop(),t=Me(r.text,e.text.slice(),0,r.length);if(t.length<=32)n.push(new Re(t,e.length+r.length));else{let e=t.length>>1;n.push(new Re(t.slice(0,e)),new Re(t.slice(e)))}}else n.push(r)}replace(e,t,n){if(!(n instanceof Re))return super.replace(e,t,n);let i=Me(this.text,Me(n.text,je(this.text,0,e)),t),r=this.length+n.length-(t-e);return i.length<=32?new Re(i,r):Ae.from(Re.split(i,[]),r)}sliceString(e,t=this.length,n="\n"){let i="";for(let r=0,o=0;r<=t&&o<this.text.length;o++){let s=this.text[o],a=r+s.length;r>e&&o&&(i+=n),e<a&&t>r&&(i+=s.slice(Math.max(0,e-r),t-r)),r=a+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],i=-1;for(let r of e)n.push(r),i+=r.length+1,32==n.length&&(t.push(new Re(n,i)),n=[],i=-1);return i>-1&&t.push(new Re(n,i)),t}}class Ae extends Ie{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,i){for(let r=0;;r++){let o=this.children[r],s=i+o.length,a=n+o.lines-1;if((t?a:s)>=e)return o.lineInner(e,t,n,i);i=s+1,n=a+1}}decompose(e,t,n,i){for(let r=0,o=0;o<=t&&r<this.children.length;r++){let s=this.children[r],a=o+s.length;if(e<=a&&t>=o){let r=i&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!r?n.push(s):s.decompose(e-o,t-o,n,r)}o=a+1}}replace(e,t,n){if(n.lines<this.lines)for(let i=0,r=0;i<this.children.length;i++){let o=this.children[i],s=r+o.length;if(e>=r&&t<=s){let a=o.replace(e-r,t-r,n),l=this.lines-o.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let r=this.children.slice();return r[i]=a,new Ae(r,this.length-(t-e)+n.length)}return super.replace(r,s,a)}r=s+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){let i="";for(let r=0,o=0;r<this.children.length&&o<=t;r++){let s=this.children[r],a=o+s.length;o>e&&r&&(i+=n),e<a&&t>o&&(i+=s.sliceString(e-o,t-o,n)),o=a+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Ae))return 0;let n=0,[i,r,o,s]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,r+=t){if(i==o||r==s)return n;let a=this.children[i],l=e.children[r];if(a!=l)return n+a.scanIdentical(l,t);n+=a.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let d of e)n+=d.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new Re(n,t)}let i=Math.max(32,n>>5),r=i<<1,o=i>>1,s=[],a=0,l=-1,c=[];function h(e){let t;if(e.lines>r&&e instanceof Ae)for(let n of e.children)h(n);else e.lines>o&&(a>o||!a)?(p(),s.push(e)):e instanceof Re&&a&&(t=c[c.length-1])instanceof Re&&e.lines+t.lines<=32?(a+=e.lines,l+=e.length+1,c[c.length-1]=new Re(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>i&&p(),a+=e.lines,l+=e.length+1,c.push(e))}function p(){0!=a&&(s.push(1==c.length?c[0]:Ae.from(c,l)),l=-1,a=c.length=0)}for(let d of e)h(d);return p(),1==s.length?s[0]:new Ae(s,t)}}function Me(e,t,n=0,i=1e9){for(let r=0,o=0,s=!0;o<e.length&&r<=i;o++){let a=e[o],l=r+a.length;l>=n&&(l>i&&(a=a.slice(0,i-r)),r<n&&(a=a.slice(n-r)),s?(t[t.length-1]+=a,s=!1):t.push(a)),r=l+1}return t}function je(e,t,n){return Me(e,[""],t,n)}Ie.empty=new Re([""],0);class Ee{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Re?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],r=this.offsets[n],o=r>>1,s=i instanceof Re?i.text.length:i.children.length;if(o==(t>0?s:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&r)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(i instanceof Re){let r=i.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,r.length>Math.max(0,e))return this.value=0==e?r:t>0?r.slice(e):r.slice(0,r.length-e),this;e-=r.length}else{let r=i.children[o+(t<0?-1:0)];e>r.length?(e-=r.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(r),this.offsets.push(t>0?1:(r instanceof Re?r.text.length:r.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Xe{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new Ee(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=n?i:t<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class ze{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:i}=this.inner.next(e);return t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(Ie.prototype[Symbol.iterator]=function(){return this.iter()},Ee.prototype[Symbol.iterator]=Xe.prototype[Symbol.iterator]=ze.prototype[Symbol.iterator]=function(){return this});class We{constructor(e,t,n,i){this.from=e,this.to=t,this.number=n,this.text=i}get length(){return this.to-this.from}}const _e=/\r\n?|\n/;var Le=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(Le||(Le={}));class De{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,i=0;t<this.sections.length;){let r=this.sections[t++],o=this.sections[t++];o<0?(e(n,i,r),i+=r):i+=o,n+=r}}iterChangedRanges(e,t=!1){Ne(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];i<0?e.push(n,i):e.push(i,n)}return new De(e)}composeDesc(e){return this.empty?e:e.empty?this:Ge(this,e)}mapDesc(e,t=!1){return e.empty?this:Fe(this,e,t)}mapPos(e,t=-1,n=Le.Simple){let i=0,r=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++],l=i+s;if(a<0){if(l>e)return r+(e-i);r+=s}else{if(n!=Le.Simple&&l>=e&&(n==Le.TrackDel&&i<e&&l>e||n==Le.TrackBefore&&i<e||n==Le.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!s)return e==i||t<0?r:r+a;r+=a}i=l}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return r}touchesRange(e,t=e){for(let n=0,i=0;n<this.sections.length&&i<=t;){let r=i+this.sections[n++];if(this.sections[n++]>=0&&i<=t&&r>=e)return!(i<e&&r>t)||"cover";i=r}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new De(e)}}class Be extends De{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ne(this,((t,n,i,r,o)=>e=e.replace(i,i+(n-t),o)),!1),e}mapDesc(e,t=!1){return Fe(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,r=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s>=0){t[i]=s,t[i+1]=o;let a=i>>1;for(;n.length<a;)n.push(Ie.empty);n.push(o?e.slice(r,r+o):Ie.empty)}r+=o}return new Be(t,n)}compose(e){return this.empty?e:e.empty?this:Ge(this,e,!0)}map(e,t=!1){return e.empty?this:Fe(this,e,t,!0)}iterChanges(e,t=!1){Ne(this,e,t)}get desc(){return new De(this.sections)}filter(e){let t=[],n=[],i=[],r=new qe(this);e:for(let o=0,s=0;;){let a=o==e.length?1e9:e[o++];for(;s<a||s==a&&0==r.len;){if(r.done)break e;let e=Math.min(r.len,a-s);Ue(i,e,-1);let o=-1==r.ins?-1:0==r.off?r.ins:0;Ue(t,e,o),o>0&&Ze(n,t,r.text),r.forward(e),s+=e}let l=e[o++];for(;s<l;){if(r.done)break e;let e=Math.min(r.len,l-s);Ue(t,e,-1),Ue(i,e,-1==r.ins?-1:0==r.off?r.ins:0),r.forward(e),s+=e}}return{changes:new Be(t,n),filtered:new De(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],i=this.sections[t+1];i<0?e.push(n):0==i?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],r=[],o=0,s=null;function a(e=!1){if(!e&&!i.length)return;o<t&&Ue(i,t-o,-1);let n=new Be(i,r);s=s?s.compose(n.map(s)):n,i=[],r=[],o=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof Be){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);a(),s=s?s.compose(l.map(s)):l}else{let{from:e,to:s=e,insert:c}=l;if(e>s||e<0||s>t)throw new RangeError(`Invalid change range ${e} to ${s} (in doc of length ${t})`);let h=c?"string"==typeof c?Ie.of(c.split(n||_e)):c:Ie.empty,p=h.length;if(e==s&&0==p)return;e<o&&a(),e>o&&Ue(i,e-o,-1),Ue(i,s-e,p),Ze(r,i,h),o=s}}(e),a(!s),s}static empty(e){return new Be(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let r=e[i];if("number"==typeof r)t.push(r,-1);else{if(!Array.isArray(r)||"number"!=typeof r[0]||r.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==r.length)t.push(r[0],0);else{for(;n.length<i;)n.push(Ie.empty);n[i]=Ie.of(r.slice(1)),t.push(r[0],n[i].length)}}}return new Be(t,n)}}function Ue(e,t,n,i=!1){if(0==t&&n<=0)return;let r=e.length-2;r>=0&&n<=0&&n==e[r+1]?e[r]+=t:0==t&&0==e[r]?e[r+1]+=n:i?(e[r]+=t,e[r+1]+=n):e.push(t,n)}function Ze(e,t,n){if(0==n.length)return;let i=t.length-2>>1;if(i<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<i;)e.push(Ie.empty);e.push(n)}}function Ne(e,t,n){let i=e.inserted;for(let r=0,o=0,s=0;s<e.sections.length;){let a=e.sections[s++],l=e.sections[s++];if(l<0)r+=a,o+=a;else{let c=r,h=o,p=Ie.empty;for(;c+=a,h+=l,l&&i&&(p=p.append(i[s-2>>1])),!(n||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(r,c,o,h,p),r=c,o=h}}}function Fe(e,t,n,i=!1){let r=[],o=i?[]:null,s=new qe(e),a=new qe(t);for(let l=0,c=0;;)if(-1==s.ins)l+=s.len,s.next();else if(-1==a.ins&&c<l){let e=Math.min(a.len,l-c);a.forward(e),Ue(r,e,-1),c+=e}else if(a.ins>=0&&(s.done||c<l||c==l&&(a.len<s.len||a.len==s.len&&!n))){for(Ue(r,a.ins,-1);l>c&&!s.done&&l+s.len<c+a.len;)l+=s.len,s.next();c+=a.len,a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return o?new Be(r,o):new De(r);throw new Error("Mismatched change set lengths")}{let e=0,t=l+s.len;for(;;)if(a.ins>=0&&c>l&&c+a.len<t)e+=a.ins,c+=a.len,a.next();else{if(!(-1==a.ins&&c<t))break;{let n=Math.min(a.len,t-c);e+=n,a.forward(n),c+=n}}Ue(r,e,s.ins),o&&Ze(o,r,s.text),l=t,s.next()}}}function Ge(e,t,n=!1){let i=[],r=n?[]:null,o=new qe(e),s=new qe(t);for(let a=!1;;){if(o.done&&s.done)return r?new Be(i,r):new De(i);if(0==o.ins)Ue(i,o.len,0,a),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let e=Math.min(o.len2,s.len),t=i.length;if(-1==o.ins){let t=-1==s.ins?-1:s.off?0:s.ins;Ue(i,e,t,a),r&&t&&Ze(r,i,s.text)}else-1==s.ins?(Ue(i,o.off?0:o.len,e,a),r&&Ze(r,i,o.textBit(e))):(Ue(i,o.off?0:o.len,s.off?0:s.ins,a),r&&!s.off&&Ze(r,i,s.text));a=(o.ins>e||s.ins>=0&&s.len>e)&&(a||i.length>t),o.forward2(e),s.forward(e)}}else Ue(i,0,s.ins,a),r&&Ze(r,i,s.text),s.next()}}class qe{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Ie.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?Ie.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ve{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new Ve(n,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Ye.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Ye.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Ye.range(e.anchor,e.head)}}class Ye{constructor(e,t=0){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Ye.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Ye([this.main])}addRange(e,t=!0){return Ye.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,Ye.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ye(e.ranges.map((e=>Ve.fromJSON(e))),e.main)}static single(e,t=e){return new Ye([Ye.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let r=e[i];if(r.empty?r.from<=n:r.from<n)return He(e.slice(),t);n=r.to}return new Ye(e,t)}static cursor(e,t=0,n,i){return new Ve(e,e,(0==t?0:t<0?4:8)|(null==n?3:Math.min(2,n))|(null!=i?i:33554431)<<5)}static range(e,t,n){let i=(null!=n?n:33554431)<<5;return t<e?new Ve(t,e,24|i):new Ve(e,t,i|(t>e?4:0))}}function He(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let i=1;i<e.length;i++){let n=e[i],r=e[i-1];if(n.empty?n.from<=r.to:n.from<r.to){let o=r.from,s=Math.max(n.to,r.to);i<=t&&t--,e.splice(--i,2,n.anchor>n.head?Ye.range(s,o):Ye.range(o,s))}}return new Ye(e,t)}function Je(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let Ke=0;class et{constructor(e,t,n,i,r){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=i,this.extensions=r,this.id=Ke++,this.default=e([])}static define(e={}){return new et(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:tt),!!e.static,e.enables)}of(e){return new nt([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new nt(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new nt(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function tt(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class nt{constructor(e,t,n,i){this.dependencies=e,this.facet=t,this.type=n,this.value=i,this.id=Ke++}dynamicSlot(e){var t;let n=this.value,i=this.facet.compareInput,r=this.id,o=e[r]>>1,s=2==this.type,a=!1,l=!1,c=[];for(let h of this.dependencies)"doc"==h?a=!0:"selection"==h?l=!0:0==(1&(null!==(t=e[h.id])&&void 0!==t?t:1))&&c.push(e[h.id]);return{create:e=>(e.values[o]=n(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||c.some((t=>(1&xt(e,t))>0))){let t=n(e);if(s?!it(t,e.values[o],i):!i(t,e.values[o]))return e.values[o]=t,1}return 0},reconfigure(e,t){let a=n(e),l=t.config.address[r];if(null!=l){let n=bt(t,l);if(s?it(a,n,i):i(a,n))return e.values[o]=n,0}return e.values[o]=a,1}}}}function it(e,t,n){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function rt(e,t,n){let i=n.map((t=>e[t.id])),r=n.map((e=>e.type)),o=i.filter((e=>!(1&e))),s=e[t.id]>>1;function a(e){let n=[];for(let t=0;t<i.length;t++){let o=bt(e,i[t]);if(2==r[t])for(let e of o)n.push(e);else n.push(o)}return t.combine(n)}return{create(e){for(let t of i)xt(e,t);return e.values[s]=a(e),1},update(e,n){if(!o.some((t=>1&xt(e,t))))return 0;let i=a(e);return t.compare(i,e.values[s])?0:(e.values[s]=i,1)},reconfigure(e,r){let o=i.some((t=>1&xt(e,t))),l=r.config.facets[t.id],c=r.facet(t);if(l&&!o&&tt(n,l))return e.values[s]=c,0;let h=a(e);return t.compare(h,c)?(e.values[s]=c,0):(e.values[s]=h,1)}}}const ot=et.define({static:!0});class st{constructor(e,t,n,i,r){this.id=e,this.createF=t,this.updateF=n,this.compareF=i,this.spec=r,this.provides=void 0}static define(e){let t=new st(Ke++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(ot).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let i=e.values[t],r=this.updateF(i,n);return this.compareF(i,r)?0:(e.values[t]=r,1)},reconfigure:(e,n)=>null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,ot.of({field:this,create:e})]}get extension(){return this}}const at=4,lt=3,ct=2,ht=1,pt=0;function dt(e){return t=>new ft(t,e)}const ut={lowest:dt(at),low:dt(lt),default:dt(ct),high:dt(ht),highest:dt(pt),fallback:dt(at),extend:dt(ht),override:dt(pt)};class ft{constructor(e,t){this.inner=e,this.prec=t}}class mt{of(e){return new gt(this,e)}reconfigure(e){return mt.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class gt{constructor(e,t){this.compartment=e,this.inner=t}}class Ot{constructor(e,t,n,i,r,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=i,this.staticValues=r,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let i=[],r=Object.create(null),o=new Map;for(let p of function(e,t,n){let i=[[],[],[],[],[]],r=new Map;function o(e,s){let a=r.get(e);if(null!=a){if(a>=s)return;let t=i[a].indexOf(e);t>-1&&i[a].splice(t,1),e instanceof gt&&n.delete(e.compartment)}if(r.set(e,s),Array.isArray(e))for(let t of e)o(t,s);else if(e instanceof gt){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let i=t.get(e.compartment)||e.inner;n.set(e.compartment,i),o(i,s)}else if(e instanceof ft)o(e.inner,e.prec);else if(e instanceof st)i[s].push(e),e.provides&&o(e.provides,s);else if(e instanceof nt)i[s].push(e),e.facet.extensions&&o(e.facet.extensions,s);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(t,s)}}return o(e,ct),i.reduce(((e,t)=>e.concat(t)))}(e,t,o))p instanceof st?i.push(p):(r[p.facet.id]||(r[p.facet.id]=[])).push(p);let s=Object.create(null),a=[],l=[];for(let p of i)s[p.id]=l.length<<1,l.push((e=>p.slot(e)));let c=null==n?void 0:n.config.facets;for(let p in r){let e=r[p],t=e[0].facet,i=c&&c[p]||[];if(e.every((e=>0==e.type)))if(s[t.id]=a.length<<1|1,tt(i,e))a.push(n.facet(t));else{let i=t.combine(e.map((e=>e.value)));a.push(n&&t.compare(i,n.facet(t))?n.facet(t):i)}else{for(let t of e)0==t.type?(s[t.id]=a.length<<1|1,a.push(t.value)):(s[t.id]=l.length<<1,l.push((e=>t.dynamicSlot(e))));s[t.id]=l.length<<1,l.push((n=>rt(n,t,e)))}}let h=l.map((e=>e(s)));return new Ot(e,o,h,s,a,r)}}function xt(e,t){if(1&t)return 2;let n=t>>1,i=e.status[n];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;e.status[n]=4;let r=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|r}function bt(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const vt=et.define(),yt=et.define({combine:e=>e.some((e=>e)),static:!0}),wt=et.define({combine:e=>e.length?e[0]:void 0,static:!0}),St=et.define(),kt=et.define(),Tt=et.define(),Qt=et.define({combine:e=>!!e.length&&e[0]});class Pt{constructor(e,t){this.type=e,this.value=t}static define(){return new Ct}}class Ct{of(e){return new Pt(this,e)}}class $t{constructor(e){this.map=e}of(e){return new It(this,e)}}class It{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new It(this.type,t)}is(e){return this.type==e}static define(e={}){return new $t(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let i of e){let e=i.map(t);e&&n.push(e)}return n}}It.reconfigure=It.define(),It.appendConfig=It.define();class Rt{constructor(e,t,n,i,r,o){this.startState=e,this.changes=t,this.selection=n,this.effects=i,this.annotations=r,this.scrollIntoView=o,this._doc=null,this._state=null,n&&Je(n,t.newLength),r.some((e=>e.type==Rt.time))||(this.annotations=r.concat(Rt.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Rt.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function At(e,t){let n=[];for(let i=0,r=0;;){let o,s;if(i<e.length&&(r==t.length||t[r]>=e[i]))o=e[i++],s=e[i++];else{if(!(r<t.length))return n;o=t[r++],s=t[r++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function Mt(e,t,n){var i;let r,o,s;return n?(r=t.changes,o=Be.empty(t.changes.length),s=e.changes.compose(t.changes)):(r=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(r)),{changes:s,selection:t.selection?t.selection.map(o):null===(i=e.selection)||void 0===i?void 0:i.map(r),effects:It.mapEffects(e.effects,r).concat(It.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function jt(e,t,n){let i=t.selection,r=zt(t.annotations);return t.userEvent&&(r=r.concat(Rt.userEvent.of(t.userEvent))),{changes:t.changes instanceof Be?t.changes:Be.of(t.changes||[],n,e.facet(wt)),selection:i&&(i instanceof Ye?i:Ye.single(i.anchor,i.head)),effects:zt(t.effects),annotations:r,scrollIntoView:!!t.scrollIntoView}}function Et(e,t,n){let i=jt(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let o=1;o<t.length;o++){!1===t[o].filter&&(n=!1);let r=!!t[o].sequential;i=Mt(i,jt(e,t[o],r?i.changes.newLength:e.doc.length),r)}let r=new Rt(e,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return function(e){let t=e.startState,n=t.facet(Tt),i=e;for(let r=n.length-1;r>=0;r--){let o=n[r](e);o&&Object.keys(o).length&&(i=Mt(e,jt(t,o,e.changes.newLength),!0))}return i==e?e:new Rt(t,e.changes,e.selection,i.effects,i.annotations,i.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let r of t.facet(St)){let t=r(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:At(n,t))}if(!0!==n){let i,r;if(!1===n)r=e.changes.invertedDesc,i=Be.empty(t.doc.length);else{let t=e.changes.filter(n);i=t.changes,r=t.filtered.invertedDesc}e=new Rt(t,i,e.selection&&e.selection.map(r),It.mapEffects(e.effects,r),e.annotations,e.scrollIntoView)}let i=t.facet(kt);for(let r=i.length-1;r>=0;r--){let n=i[r](e);e=n instanceof Rt?n:Array.isArray(n)&&1==n.length&&n[0]instanceof Rt?n[0]:Et(t,zt(n),!1)}return e}(r):r)}Rt.time=Pt.define(),Rt.userEvent=Pt.define(),Rt.addToHistory=Pt.define(),Rt.remote=Pt.define();const Xt=[];function zt(e){return null==e?Xt:Array.isArray(e)?e:[e]}var Wt=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(Wt||(Wt={}));const _t=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Lt;try{Lt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch($g){}function Dt(e){return t=>{if(!/\S/.test(t))return Wt.Space;if(function(e){if(Lt)return Lt.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||_t.test(n)))return!0}return!1}(t))return Wt.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return Wt.Word;return Wt.Other}}class Bt{constructor(e,t,n,i,r,o){this.config=e,this.doc=t,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=r,o&&(o._state=this);for(let s=0;s<this.config.dynamicSlots.length;s++)xt(this,s<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return xt(this,n),bt(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return Et(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:i,compartments:r}=n;for(let o of e.effects)o.is(mt.reconfigure)?(n&&(r=new Map,n.compartments.forEach(((e,t)=>r.set(t,e))),n=null),r.set(o.value.compartment,o.value.extension)):o.is(It.reconfigure)?(n=null,i=o.value):o.is(It.appendConfig)&&(n=null,i=zt(i).concat(o.value));if(n)t=e.startState.values.slice();else{n=Ot.resolve(i,r,this),t=new Bt(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values}new Bt(n,e.newDoc,e.newSelection,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:Ye.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),i=this.changes(n.changes),r=[n.range],o=zt(n.effects);for(let s=1;s<t.ranges.length;s++){let n=e(t.ranges[s]),a=this.changes(n.changes),l=a.map(i);for(let e=0;e<s;e++)r[e]=r[e].map(l);let c=i.mapDesc(a,!0);r.push(n.range.map(c)),i=i.compose(l),o=It.mapEffects(o,l).concat(It.mapEffects(zt(n.effects),c))}return{changes:i,selection:Ye.create(r,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Be?e:Be.of(e,this.doc.length,this.facet(Bt.lineSeparator))}toText(e){return Ie.of(e.split(this.facet(Bt.lineSeparator)||_e))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(xt(this,t),bt(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof st&&(t[n]=i.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n)for(let r in n){let t=n[r],o=e[r];i.push(t.init((e=>t.spec.fromJSON(o,e))))}return Bt.create({doc:e.doc,selection:Ye.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=Ot.resolve(e.extensions||[],new Map),n=e.doc instanceof Ie?e.doc:Ie.of((e.doc||"").split(t.staticFacet(Bt.lineSeparator)||_e)),i=e.selection?e.selection instanceof Ye?e.selection:Ye.single(e.selection.anchor,e.selection.head):Ye.single(0);return Je(i,n.length),t.staticFacet(yt)||(i=i.asSingle()),new Bt(t,n,i,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(Bt.tabSize)}get lineBreak(){return this.facet(Bt.lineSeparator)||"\n"}get readOnly(){return this.facet(Qt)}phrase(e){for(let t of this.facet(Bt.phrases))if(Object.prototype.hasOwnProperty.call(t,e))return t[e];return e}languageDataAt(e,t,n=-1){let i=[];for(let r of this.facet(vt))for(let o of r(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return Dt(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:i}=this.doc.lineAt(e),r=this.charCategorizer(e),o=e-n,s=e-n;for(;o>0;){let e=ye(t,o,!1);if(r(t.slice(e,o))!=Wt.Word)break;o=e}for(;s<i;){let e=ye(t,s);if(r(t.slice(s,e))!=Wt.Word)break;s=e}return o==s?null:Ye.range(o+n,s+n)}}function Ut(e,t,n={}){let i={};for(let r of e)for(let e of Object.keys(r)){let t=r[e],o=i[e];if(void 0===o)i[e]=t;else if(o===t||void 0===t);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);i[e]=n[e](o,t)}}for(let r in t)void 0===i[r]&&(i[r]=t[r]);return i}Bt.allowMultipleSelections=yt,Bt.tabSize=et.define({combine:e=>e.length?e[0]:4}),Bt.lineSeparator=wt,Bt.readOnly=Qt,Bt.phrases=et.define(),Bt.languageData=vt,Bt.changeFilter=St,Bt.transactionFilter=kt,Bt.transactionExtender=Tt,mt.reconfigure=It.define();const Zt="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),Nt="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Ft="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Gt{constructor(e,t){this.rules=[];let{finish:n}=t||{};function i(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function r(e,t,o,s){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return o.push(e[0]+";");for(let n in t){let s=t[n];if(/&/.test(n))r(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),s,o);else if(s&&"object"==typeof s){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");r(i(n),s,a,c)}else null!=s&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+s+";")}(a.length||c)&&o.push((!n||l||s?e:e.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let o in e)r(i(o),e[o],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=Ft[Zt]||1;return Ft[Zt]=e+1,"\u037c"+e.toString(36)}static mount(e,t){(e[Nt]||new Vt(e)).mount(Array.isArray(t)?t:[t])}}let qt=null;class Vt{constructor(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(qt)return e.adoptedStyleSheets=[qt.sheet].concat(e.adoptedStyleSheets),e[Nt]=qt;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),qt=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[Nt]=this}mount(e){let t=this.sheet,n=0,i=0;for(let r=0;r<e.length;r++){let o=e[r],s=this.modules.indexOf(o);if(s<i&&s>-1&&(this.modules.splice(s,1),i--,s=-1),-1==s){if(this.modules.splice(i++,0,o),t)for(let e=0;e<o.rules.length;e++)t.insertRule(o.rules[e],n++)}else{for(;i<s;)n+=this.modules[i++].rules.length;n+=o.rules.length,i++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}}class Yt{eq(e){return this==e}range(e,t=e){return new Ht(e,t,this)}}Yt.prototype.startSide=Yt.prototype.endSide=0,Yt.prototype.point=!1,Yt.prototype.mapMode=Le.TrackDel;class Ht{constructor(e,t,n){this.from=e,this.to=t,this.value=n}}function Jt(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Kt{constructor(e,t,n,i){this.from=e,this.to=t,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,i=0){let r=n?this.to:this.from;for(let o=i,s=r.length;;){if(o==s)return o;let i=o+s>>1,a=r[i]-e||(n?this.value[i].endSide:this.value[i].startSide)-t;if(i==o)return a>=0?o:s;a>=0?s=i:o=i+1}}between(e,t,n,i){for(let r=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,r);r<o;r++)if(!1===i(this.from[r]+e,this.to[r]+e,this.value[r]))return!1}map(e,t){let n=[],i=[],r=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,c,h=this.value[a],p=this.from[a]+e,d=this.to[a]+e;if(p==d){let e=t.mapPos(p,h.startSide,h.mapMode);if(null==e)continue;if(l=c=e,h.startSide!=h.endSide&&(c=t.mapPos(p,h.endSide),c<l))continue}else if(l=t.mapPos(p,h.startSide),c=t.mapPos(d,h.endSide),l>c||l==c&&h.startSide>0&&h.endSide<=0)continue;(c-l||h.endSide-h.startSide)<0||(o<0&&(o=l),h.point&&(s=Math.max(s,c-l)),n.push(h),i.push(l-o),r.push(c-o))}return{mapped:n.length?new Kt(i,r,n,s):null,pos:o}}}class en{constructor(e,t,n=en.empty,i){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=i}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:i=0,filterTo:r=this.length}=e,o=e.filter;if(0==t.length&&!o)return this;if(n&&(t=t.slice().sort(Jt)),this.isEmpty)return t.length?en.of(t):this;let s=new rn(this,null,-1).goto(0),a=0,l=[],c=new tn;for(;s.value||a<t.length;)if(a<t.length&&(s.from-t[a].from||s.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(s.chunkIndex)<t[a].from)&&(!o||i>this.chunkEnd(s.chunkIndex)||r<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||i>s.to||r<s.from||o(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||l.push(new Ht(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?en.empty:this.nextLayer.update({add:l,filter:o,filterFrom:i,filterTo:r}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],i=-1;for(let o=0;o<this.chunk.length;o++){let r=this.chunkPos[o],s=this.chunk[o],a=e.touchesRange(r,r+s.length);if(!1===a)i=Math.max(i,s.maxPoint),t.push(s),n.push(e.mapPos(r));else if(!0===a){let{mapped:o,pos:a}=s.map(r,e);o&&(i=Math.max(i,o.maxPoint),t.push(o),n.push(a))}}let r=this.nextLayer.map(e);return 0==t.length?r:new en(n,t,r,i)}between(e,t,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let r=this.chunkPos[i],o=this.chunk[i];if(t>=r&&e<=r+o.length&&!1===o.between(r,e-r,t-r,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return on.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return on.from(e).goto(t)}static compare(e,t,n,i,r=-1){let o=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=r)),s=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=r)),a=nn(o,s,n),l=new an(o,a,r),c=new an(s,a,r);n.iterGaps(((e,t,n)=>ln(l,e,c,t,n,i))),n.empty&&0==n.length&&ln(l,0,c,0,0,i)}static eq(e,t,n=0,i){null==i&&(i=1e9);let r=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),o=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(r.length!=o.length)return!1;if(!r.length)return!0;let s=nn(r,o),a=new an(r,s,0).goto(n),l=new an(o,s,0).goto(n);for(;;){if(a.to!=l.to||!cn(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>i)return!0;a.next(),l.next()}}static spans(e,t,n,i,r=-1){var o;let s=new an(e,null,r,null===(o=i.filterPoint)||void 0===o?void 0:o.bind(i)).goto(t),a=t,l=s.openStart;for(;;){let e=Math.min(s.to,n);if(s.point?(i.point(a,e,s.point,s.activeForPoint(s.to),l),l=s.openEnd(e)+(s.to>e?1:0)):e>a&&(i.span(a,e,s.active,l),l=s.openEnd(e)),s.to>n)break;a=s.to,s.next()}return l}static of(e,t=!1){let n=new tn;for(let i of e instanceof Ht?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let i=e[n];if(Jt(t,i)>0)return e.slice().sort(Jt);t=i}return e}(e):e)n.add(i.from,i.to,i.value);return n.finish()}}en.empty=new en([],[],null,-1),en.empty.nextLayer=en.empty;class tn{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Kt(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new tn)).add(e,t,n)}addInner(e,t,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(en.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=new en(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function nn(e,t,n){let i=new Map;for(let o of e)for(let e=0;e<o.chunk.length;e++)o.chunk[e].maxPoint<=0&&i.set(o.chunk[e],o.chunkPos[e]);let r=new Set;for(let o of t)for(let e=0;e<o.chunk.length;e++){let t=i.get(o.chunk[e]);null==t||(n?n.mapPos(t):t)!=o.chunkPos[e]||(null==n?void 0:n.touchesRange(t,t+o.chunk[e].length))||r.add(o.chunk[e])}return r}class rn{constructor(e,t,n,i=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class on{constructor(e){this.heap=e}static from(e,t=null,n=-1){let i=[];for(let r=0;r<e.length;r++)for(let o=e[r];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&i.push(new rn(o,t,n,r));return 1==i.length?i[0]:new on(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)sn(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)sn(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),sn(this.heap,0)}}}function sn(e,t){for(let n=e[t];;){let i=1+(t<<1);if(i>=e.length)break;let r=e[i];if(i+1<e.length&&r.compare(e[i+1])>=0&&(r=e[i+1],i++),n.compare(r)<0)break;e[i]=n,e[t]=r,t=i}}class an{constructor(e,t,n,i=(()=>!0)){this.minPoint=n,this.filterPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=on.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){hn(this.active,e),hn(this.activeTo,e),hn(this.activeRank,e),this.minActive=dn(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:i,rank:r}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=r;)t++;pn(this.active,t,n),pn(this.activeTo,t,i),pn(this.activeRank,t,r),e&&pn(e,t,this.cursor.from),this.minActive=dn(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null,i=0;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&hn(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let r=this.cursor.value;if(r.point)if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{if(this.filterPoint(this.cursor.from,this.cursor.to,this.cursor.value,this.cursor.rank)){this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.from<e&&(i=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){let t=0;for(;t<n.length&&n[t]<e;)t++;this.openStart=t+i}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function ln(e,t,n,i,r,o){e.goto(t),n.goto(i);let s=i+r,a=i,l=i-t;for(;;){let t=e.to+l-n.to||e.endSide-n.endSide,i=t<0?e.to+l:n.to,r=Math.min(i,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&cn(e.activeForPoint(e.to+l),n.activeForPoint(n.to))||o.comparePoint(a,r,e.point,n.point):r>a&&!cn(e.active,n.active)&&o.compareRange(a,r,e.active,n.active),i>s)break;a=i,t<=0&&e.next(),t>=0&&n.next()}}function cn(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function hn(e,t){for(let n=t,i=e.length-1;n<i;n++)e[n]=e[n+1];e.pop()}function pn(e,t,n){for(let i=e.length-1;i>=t;i--)e[i+1]=e[i];e[t]=n}function dn(e,t){let n=-1,i=1e9;for(let r=0;r<t.length;r++)(t[r]-i||e[r].endSide-e[n].endSide)<0&&(n=r,i=t[r]);return n}for(var un={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},fn={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mn="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),gn=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),On="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),xn=gn||mn&&+mn[1]<57,bn=0;bn<10;bn++)un[48+bn]=un[96+bn]=String(bn);for(bn=1;bn<=24;bn++)un[bn+111]="F"+bn;for(bn=65;bn<=90;bn++)un[bn]=String.fromCharCode(bn+32),fn[bn]=String.fromCharCode(bn);for(var vn in un)fn.hasOwnProperty(vn)||(fn[vn]=un[vn]);function yn(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function wn(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function Sn(e,t){if(!t.anchorNode)return!1;try{return wn(e,t.anchorNode)}catch($g){return!1}}function kn(e){return 3==e.nodeType?Xn(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function Tn(e,t,n,i){return!!n&&(Pn(e,t,n,i,-1)||Pn(e,t,n,i,1))}function Qn(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function Pn(e,t,n,i,r){for(;;){if(e==n&&t==i)return!0;if(t==(r<0?0:Cn(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=Qn(e)+(r<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(r<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=r<0?Cn(e):0}}}function Cn(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}const $n={left:0,right:0,top:0,bottom:0};function In(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function Rn(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class An{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,n,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=i}}let Mn,jn=null;function En(e){if(e.setActive)return e.setActive();if(jn)return e.focus(jn);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==jn?{get preventScroll(){return jn={preventScroll:!0},!0}}:void 0),!jn){jn=!1;for(let e=0;e<t.length;){let n=t[e++],i=t[e++],r=t[e++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=r&&(n.scrollLeft=r)}}}function Xn(e,t,n=t){let i=Mn||(Mn=document.createRange());return i.setEnd(e,n),i.setStart(e,t),i}function zn(e,t,n){let i={key:t,code:t,keyCode:n,which:n,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,e.dispatchEvent(r);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,e.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function Wn(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}class _n{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new _n(e.parentNode,Qn(e),t)}static after(e,t){return new _n(e.parentNode,Qn(e)+1,t)}}const Ln=[];class Dn{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(2&this.dirty){let t,n=this.dom,i=null;for(let r of this.children){if(r.dirty){if(!r.dom&&(t=i?i.nextSibling:n.firstChild)){let e=Dn.get(t);e&&(e.parent||e.constructor!=r.constructor)||r.reuseDOM(t)}r.sync(e),r.dirty=0}if(t=i?i.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&t!=r.dom&&(e.written=!0),r.dom.parentNode==n)for(;t&&t!=r.dom;)t=Bn(t);else n.insertBefore(r.dom,t);i=r.dom}for(t=i?i.nextSibling:n.firstChild,t&&e&&e.node==n&&(e.written=!0);t;)t=Bn(t)}else if(1&this.dirty)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let i=0==Cn(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==i&&t.firstChild!=t.lastChild&&(i=e==t.firstChild?-1:1),e=t}n=i<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Dn.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,r=0;;i++){let e=this.children[i];if(e.dom==n)return r;r+=e.length+e.breakAfter}}domBoundsAround(e,t,n=0){let i=-1,r=-1,o=-1,s=-1;for(let a=0,l=n,c=n;a<this.children.length;a++){let n=this.children[a],h=l+n.length;if(l<e&&h>t)return n.domBoundsAround(e,t,l);if(h>=e&&-1==i&&(i=a,r=l),l>t&&n.dom.parentNode==this.dom){o=a,s=c;break}c=h,l=h+n.breakAfter}return{from:r,to:s<0?n+this.length:s,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=Ln){this.markDirty();for(let i=e;i<t;i++){let e=this.children[i];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...n);for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Un(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,n,i,r,o){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}function Bn(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}Dn.prototype.breakAfter=0;class Un{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function Zn(e,t,n,i,r,o,s,a,l){let{children:c}=e,h=c.length?c[t]:null,p=o.length?o[o.length-1]:null,d=p?p.breakAfter:s;if(!(t==i&&h&&!s&&!d&&o.length<2&&h.merge(n,r,o.length?p:null,0==n,a,l))){if(i<c.length){let e=c[i];e&&r<e.length?(t==i&&(e=e.split(r),r=0),!d&&p&&e.merge(0,r,p,!0,0,l)?o[o.length-1]=e:(r&&e.merge(0,r,null,!1,0,l),o.push(e))):(null==e?void 0:e.breakAfter)&&(p?p.breakAfter=1:s=1),i++}for(h&&(h.breakAfter=s,n>0&&(!s&&o.length&&h.merge(n,h.length,o[0],!1,a,0)?h.breakAfter=o.shift().breakAfter:(n<h.length||h.children.length&&0==h.children[h.children.length-1].length)&&h.merge(n,h.length,null,!1,a,0),t++));t<i&&o.length;)if(c[i-1].become(o[o.length-1]))i--,o.pop(),l=o.length?0:a;else{if(!c[t].become(o[0]))break;t++,o.shift(),a=o.length?0:l}!o.length&&t&&i<c.length&&!c[t-1].breakAfter&&c[i].merge(0,0,c[t-1],!1,a,l)&&t--,(t<i||o.length)&&e.replaceChildren(t,i,o)}}function Nn(e,t,n,i,r,o){let s=e.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:h}=s.findPos(t,-1),p=t-n;for(let d of i)p+=d.length;e.length+=p,Zn(e,c,h,a,l,i,0,r,o)}let Fn="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Gn="undefined"!=typeof document?document:{documentElement:{style:{}}};const qn=/Edge\/(\d+)/.exec(Fn.userAgent),Vn=/MSIE \d/.test(Fn.userAgent),Yn=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Fn.userAgent),Hn=!!(Vn||Yn||qn),Jn=!Hn&&/gecko\/(\d+)/i.test(Fn.userAgent),Kn=!Hn&&/Chrome\/(\d+)/.exec(Fn.userAgent),ei="webkitFontSmoothing"in Gn.documentElement.style,ti=!Hn&&/Apple Computer/.test(Fn.vendor),ni=ti&&(/Mobile\/\w+/.test(Fn.userAgent)||Fn.maxTouchPoints>2);var ii={mac:ni||/Mac/.test(Fn.platform),windows:/Win/.test(Fn.platform),linux:/Linux|X11/.test(Fn.platform),ie:Hn,ie_version:Vn?Gn.documentMode||6:Yn?+Yn[1]:qn?+qn[1]:0,gecko:Jn,gecko_version:Jn?+(/Firefox\/(\d+)/.exec(Fn.userAgent)||[0,0])[1]:0,chrome:!!Kn,chrome_version:Kn?+Kn[1]:0,ios:ni,android:/Android\b/.test(Fn.userAgent),webkit:ei,safari:ti,webkit_version:ei?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Gn.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class ri extends Dn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return(!n||n instanceof ri&&!(this.length-(t-e)+n.length>256))&&(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new ri(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new _n(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return si(this.dom,e,t)}}class oi extends Dn{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let i of t)i.setParent(this)}setAttrs(e){if(Wn(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,n,i,r,o){return(!n||!(!(n instanceof oi&&n.mark.eq(this.mark))||e&&r<=0||t<this.length&&o<=0))&&(Nn(this,e,t,n?n.children:[],r-1,o-1),this.markDirty(),!0)}split(e){let t=[],n=0,i=-1,r=0;for(let s of this.children){let o=n+s.length;o>e&&t.push(n<e?s.split(e-n):s),i<0&&n>=e&&(i=r),n=o,r++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new oi(this.mark,t,o)}domAtPos(e){return di(this.dom,this.children,e)}coordsAt(e,t){return fi(this,e,t)}}function si(e,t,n){let i=e.nodeValue.length;t>i&&(t=i);let r=t,o=t,s=0;0==t&&n<0||t==i&&n>=0?ii.chrome||ii.gecko||(t?(r--,s=1):(o++,s=-1)):n<0?r--:o++;let a=Xn(e,r,o).getClientRects();if(!a.length)return $n;let l=a[(s?s<0:n>=0)?0:a.length-1];return ii.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l),s?In(l,s<0):l||null}class ai extends Dn{constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}static create(e,t,n){return new(e.customView||ai)(e,t,n)}split(e){let t=ai.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,i,r,o){return!(n&&(!(n instanceof ai&&this.widget.compare(n.widget))||e>0&&r<=0||t<this.length&&o<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof ai&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return Ie.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,n=t&&t.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):Ie.empty}domAtPos(e){return 0==e?_n.before(this.dom):_n.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.dom.getClientRects(),i=null;if(!n.length)return $n;for(let r=e>0?n.length-1:0;i=n[r],!(e>0?0==r:r==n.length-1||i.top<i.bottom);r+=e>0?-1:1);return 0==e&&t>0||e==this.length&&t<=0?i:In(i,0==e)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class li extends ai{domAtPos(e){let{topView:t,text:n}=this.widget;return t?ci(e,0,t,n,((e,t)=>e.domAtPos(t)),(e=>new _n(n,Math.min(e,n.nodeValue.length)))):new _n(n,Math.min(e,n.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:n,text:i}=this.widget;return n?hi(e,t,n,i):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:n,text:i}=this.widget;return n?ci(e,t,n,i,((e,t,n)=>e.coordsAt(t,n)),((e,t)=>si(i,e,t))):si(i,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}}function ci(e,t,n,i,r,o){if(n instanceof oi){for(let s of n.children){let n=wn(s.dom,i),a=n?i.nodeValue.length:s.length;if(e<a||e==a&&s.getSide()<=0)return n?ci(e,t,s,i,r,o):r(s,e,t);e-=a}return r(n,n.length,-1)}return n.dom==i?o(e,t):r(n,e,t)}function hi(e,t,n,i){if(n instanceof oi)for(let r of n.children){let n=0,o=wn(r.dom,i);if(wn(r.dom,e))return n+(o?hi(e,t,r,i):r.localPosFromDOM(e,t));n+=o?i.nodeValue.length:r.length}else if(n.dom==i)return Math.min(t,i.nodeValue.length);return n.localPosFromDOM(e,t)}class pi extends Dn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof pi&&e.side==this.side}split(){return new pi(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return _n.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),n=function(e,t){let n=e.parent,i=n?n.children.indexOf(e):-1;for(;n&&i>=0;)if(t<0?i>0:i<n.children.length){let e=n.children[i+t];if(e instanceof ri){let n=e.coordsAt(t<0?e.length:0,t);if(n)return n}i+=t}else{if(!(n instanceof oi&&n.parent)){let e=n.dom.lastChild;if(e&&"BR"==e.nodeName)return e.getClientRects()[0];break}i=n.parent.children.indexOf(n)+(t<0?0:1),n=n.parent}return}(this,this.side>0?-1:1);return n&&n.top<t.bottom&&n.bottom>t.top?{left:t.left,right:t.right,top:n.top,bottom:n.bottom}:t}get overrideDOMText(){return Ie.empty}}function di(e,t,n){let i=0;for(let r=0;i<t.length;i++){let o=t[i],s=r+o.length;if(!(s==r&&o.getSide()<=0)){if(n>r&&n<s&&o.dom.parentNode==e)return o.domAtPos(n-r);if(n<=r)break;r=s}}for(;i>0;i--){let n=t[i-1].dom;if(n.parentNode==e)return _n.after(n)}return new _n(e,0)}function ui(e,t,n){let i,{children:r}=e;n>0&&t instanceof oi&&r.length&&(i=r[r.length-1])instanceof oi&&i.mark.eq(t.mark)?ui(i,t.children[0],n-1):(r.push(t),t.setParent(e)),e.length+=t.length}function fi(e,t,n){for(let o=0,s=0;s<e.children.length;s++){let i,r=e.children[s],a=o+r.length;if((n<=0||a==e.length||r.getSide()>0?a>=t:a>t)&&(t<a||s+1==e.children.length||(i=e.children[s+1]).length||i.getSide()>0)){let e=0;if(a==o){if(r.getSide()<=0)continue;e=n=-r.getSide()}let i=r.coordsAt(Math.max(0,t-o),n);return e&&i?In(i,n<0):i}o=a}let i=e.dom.lastChild;if(!i)return e.dom.getBoundingClientRect();let r=kn(i);return r[r.length-1]||null}function mi(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}function gi(e,t){if(e==t)return!0;if(!e||!t)return!1;let n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r of n)if(-1==i.indexOf(r)||e[r]!==t[r])return!1;return!0}function Oi(e,t,n){if(t)for(let i in t)n&&i in n||e.removeAttribute(i);if(n)for(let i in n)t&&t[i]==n[i]||e.setAttribute(i,n[i])}ri.prototype.children=ai.prototype.children=pi.prototype.children=Ln;class xi{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var bi=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(bi||(bi={}));class vi extends Yt{constructor(e,t,n,i){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new yi(e)}static widget(e){let t=e.side||0,n=!!e.block;return t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,new Si(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,i=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:r,end:o}=ki(e,i);t=(r?i?-3e8:-1:5e8)-1,n=1+(o?i?2e8:1:-6e8)}return new Si(e,t,n,i,e.widget||null,!0)}static line(e){return new wi(e)}static set(e,t=!1){return en.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}vi.none=en.empty;class yi extends vi{constructor(e){let{start:t,end:n}=ki(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof yi&&this.tagName==e.tagName&&this.class==e.class&&gi(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}yi.prototype.point=!1;class wi extends vi{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof wi&&gi(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}wi.prototype.mapMode=Le.TrackBefore,wi.prototype.point=!0;class Si extends vi{constructor(e,t,n,i,r,o){super(t,n,r,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?Le.TrackBefore:Le.TrackAfter:Le.TrackDel}get type(){return this.startSide<this.endSide?bi.WidgetRange:this.startSide<=0?bi.WidgetBefore:bi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Si&&function(e,t){return e==t||!!(e&&t&&e.compare(t))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function ki(e,t=!1){let{inclusiveStart:n,inclusiveEnd:i}=e;return null==n&&(n=e.inclusive),null==i&&(i=e.inclusive),{start:null!=n?n:t,end:null!=i?i:t}}function Ti(e,t,n,i=0){let r=n.length-1;r>=0&&n[r]+i>=e?n[r]=Math.max(n[r],t):n.push(e,t)}Si.prototype.point=!0;class Qi extends Dn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,i,r,o){if(n){if(!(n instanceof Qi))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),Nn(this,e,t,n?n.children:[],r,o),!0}split(e){let t=new Qi;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:i}=this.childPos(e);i&&(t.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let r=n;r<this.children.length;r++)t.append(this.children[r],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){gi(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){ui(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=mi(t,this.attrs||{})),n&&(this.attrs=mi({class:n},this.attrs||{}))}domAtPos(e){return di(this.dom,this.children,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?4&this.dirty&&(Wn(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Oi(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let n=this.dom.lastChild;for(;n&&Dn.get(n)instanceof oi;)n=n.lastChild;if(!(n&&this.length&&("BR"==n.nodeName||0!=(null===(t=Dn.get(n))||void 0===t?void 0:t.isEditable)||ii.ios&&this.children.some((e=>e instanceof ri))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof ri))return null;let n=kn(t.dom);if(1!=n.length)return null;e+=n[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return fi(this,e,t)}become(e){return!1}get type(){return bi.Text}static find(e,t){for(let n=0,i=0;n<e.children.length;n++){let r=e.children[n],o=i+r.length;if(o>=t){if(r instanceof Qi)return r;if(o>t)break}i=o+r.breakAfter}return null}}class Pi extends Dn{constructor(e,t,n){super(),this.widget=e,this.length=t,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,i,r,o){return!(n&&(!(n instanceof Pi&&this.widget.compare(n.widget))||e>0&&r<=0||t<this.length&&o<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?_n.before(this.dom):_n.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Pi(this.widget,t,this.type);return n.breakAfter=this.breakAfter,n}get children(){return Ln}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ie.empty}domBoundsAround(){return null}become(e){return e instanceof Pi&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ci{constructor(e,t,n,i){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsBelow=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Pi&&e.type==bi.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Qi),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append($i(new pi(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:i}=this.cursor.next(this.skip);if(this.skip=0,i)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=t,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,n)),this.getLine().append($i(new ri(this.text.slice(this.textOff,this.textOff+i)),t),n),this.atCursorPos=!0,this.textOff+=i,e-=i,n=0}}span(e,t,n,i){this.buildText(t-e,n,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,n,i,r){let o=t-e;if(n instanceof Si)if(n.block){let{type:e}=n;e!=bi.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new Pi(n.widget||new Ii("div"),o,e))}else{let s=ai.create(n.widget||new Ii("span"),o,n.startSide),a=this.atCursorPos&&!s.isEditable&&r<=i.length&&(e<t||n.startSide>0),l=!s.isEditable&&(e<t||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||(this.pendingBuffer=0),this.flushBuffer(i),a&&(c.append($i(new pi(1),i),r),r=i.length+Math.max(0,r-i.length)),c.append($i(s,i),r),this.atCursorPos=l,this.pendingBuffer=l?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=r)}filterPoint(e,t,n,i){if(i<this.disallowBlockEffectsBelow&&n instanceof Si){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}return!0}static build(e,t,n,i,r){let o=new Ci(e,t,n,r);return o.openEnd=en.spans(i,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function $i(e,t){for(let n of t)e=new oi(n,[e],e.length);return e}class Ii extends xi{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const Ri=[],Ai=et.define(),Mi=et.define(),ji=et.define(),Ei=et.define(),Xi=et.define(),zi=et.define(),Wi=It.define({map:(e,t)=>e.map(t)}),_i=It.define({map:(e,t)=>e.map(t)});class Li{constructor(e,t="nearest",n="nearest",i=5,r=5){this.range=e,this.y=t,this.x=n,this.yMargin=i,this.xMargin=r}map(e){return e.empty?this:new Li(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Di=It.define({map:(e,t)=>e.map(t)});function Bi(e,t,n){let i=e.facet(Ei);i.length?i[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const Ui=et.define({combine:e=>!e.length||e[0]});class Zi{constructor(e,t){this.field=e,this.get=t}}class Ni{from(e){return new Zi(this,e)}static define(){return new Ni}}Ni.decorations=Ni.define(),Ni.atomicRanges=Ni.define(),Ni.scrollMargins=Ni.define();let Fi=0;const Gi=et.define();class qi{constructor(e,t,n){this.id=e,this.create=t,this.fields=n,this.extension=Gi.of(this)}static define(e,t){let{eventHandlers:n,provide:i,decorations:r}=t||{},o=[];if(i)for(let s of Array.isArray(i)?i:[i])o.push(s);return n&&o.push(Vi.from((e=>({plugin:e,handlers:n})))),r&&o.push(Ni.decorations.from(r)),new qi(Fi++,e,o)}static fromClass(e,t){return qi.define((t=>new e(t)),t)}}const Vi=Ni.define();class Yi{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}takeField(e,t){if(this.spec)for(let{field:n,get:i}of this.spec.fields)n==e&&t.push(i(this.value))}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(Bi(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch($g){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Bi(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(n){Bi(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Hi=et.define(),Ji=et.define(),Ki=et.define(),er=et.define();class tr{constructor(e,t,n,i){this.fromA=e,this.toA=t,this.fromB=n,this.toB=i}join(e){return new tr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let i=0,r=0,o=0,s=0;;i++){let a=i==e.length?null:e[i],l=o-s,c=a?a.fromB:1e9;for(;r<t.length&&t[r]<c;){let e=t[r],i=t[r+1],o=Math.max(s,e),a=Math.min(c,i);if(o<=a&&new tr(o+l,a+l,o,a).addToSet(n),i>c)break;r+=2}if(!a)return n;new tr(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),o=a.toA,s=a.toB}}}class nr{constructor(e,t,n=Ri){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Be.empty(this.startState.doc.length);for(let o of n)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges(((e,t,n,r)=>i.push(new tr(e,t,n,r)))),this.changedRanges=i;let r=e.hasFocus;r!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=r,this.flags|=1)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var ir=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(ir||(ir={}));const rr=ir.LTR,or=ir.RTL;function sr(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const ar=sr("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),lr=sr("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),cr=Object.create(null),hr=[];for(let Ig of["()","[]","{}"]){let e=Ig.charCodeAt(0),t=Ig.charCodeAt(1);cr[e]=t,cr[t]=-e}const pr=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class dr{constructor(e,t,n){this.from=e,this.to=t,this.level=n}get dir(){return this.level%2?or:rr}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,i){let r=-1;for(let o=0;o<e.length;o++){let s=e[o];if(s.from<=t&&s.to>=t){if(s.level==n)return o;(r<0||(0!=i?i<0?s.from<t:s.to>t:e[r].level>s.level))&&(r=o)}}if(r<0)throw new RangeError("Index out of range");return r}}const ur=[];function fr(e,t){let n=e.length,i=t==rr?1:2,r=t==rr?2:1;if(!e||1==i&&!pr.test(e))return mr(n);for(let a=0,l=i,c=i;a<n;a++){let t=(o=e.charCodeAt(a))<=247?ar[o]:1424<=o&&o<=1524?2:1536<=o&&o<=1785?lr[o-1536]:1774<=o&&o<=2220?4:8192<=o&&o<=8203||8204==o?256:1;512==t?t=l:8==t&&4==c&&(t=16),ur[a]=4==t?2:t,7&t&&(c=t),l=t}var o;for(let a=0,l=i,c=i;a<n;a++){let e=ur[a];if(128==e)a<n-1&&l==ur[a+1]&&24&l?e=ur[a]=l:ur[a]=256;else if(64==e){let e=a+1;for(;e<n&&64==ur[e];)e++;let t=a&&8==l||e<n&&8==ur[e]?1==c?1:8:256;for(let n=a;n<e;n++)ur[n]=t;a=e-1}else 8==e&&1==c&&(ur[a]=1);l=e,7&e&&(c=e)}for(let a,l,c,h=0,p=0,d=0;h<n;h++)if(l=cr[a=e.charCodeAt(h)])if(l<0){for(let e=p-3;e>=0;e-=3)if(hr[e+1]==-l){let t=hr[e+2],n=2&t?i:4&t?1&t?r:i:0;n&&(ur[h]=ur[hr[e]]=n),p=e;break}}else{if(189==hr.length)break;hr[p++]=h,hr[p++]=a,hr[p++]=d}else if(2==(c=ur[h])||1==c){let e=c==i;d=e?0:1;for(let t=p-3;t>=0;t-=3){let n=hr[t+2];if(2&n)break;if(e)hr[t+2]|=2;else{if(4&n)break;hr[t+2]|=4}}}for(let a=0;a<n;a++)if(256==ur[a]){let e=a+1;for(;e<n&&256==ur[e];)e++;let t=1==(a?ur[a-1]:i),r=t==(1==(e<n?ur[e]:i))?t?1:2:i;for(let n=a;n<e;n++)ur[n]=r;a=e-1}let s=[];if(1==i)for(let a=0;a<n;){let e=a,t=1!=ur[a++];for(;a<n&&t==(1!=ur[a]);)a++;if(t)for(let n=a;n>e;){let t=n,i=2!=ur[--n];for(;n>e&&i==(2!=ur[n-1]);)n--;s.push(new dr(n,t,i?2:1))}else s.push(new dr(e,a,0))}else for(let a=0;a<n;){let e=a,t=2==ur[a++];for(;a<n&&t==(2==ur[a]);)a++;s.push(new dr(e,a,t?1:2))}return s}function mr(e){return[new dr(0,e,0)]}let gr="";function Or(e,t,n,i,r){var o;let s=i.head-e.from,a=-1;if(0==s){if(!r||!e.length)return null;t[0].level!=n&&(s=t[0].side(!1,n),a=0)}else if(s==e.length){if(r)return null;let e=t[t.length-1];e.level!=n&&(s=e.side(!0,n),a=t.length-1)}a<0&&(a=dr.find(t,s,null!==(o=i.bidiLevel)&&void 0!==o?o:-1,i.assoc));let l=t[a];s==l.side(r,n)&&(l=t[a+=r?1:-1],s=l.side(!r,n));let c=r==(l.dir==n),h=ye(e.text,s,c);if(gr=e.text.slice(Math.min(s,h),Math.max(s,h)),h!=l.side(r,n))return Ye.cursor(h+e.from,c?-1:1,l.level);let p=a==(r?t.length-1:0)?null:t[a+(r?1:-1)];return p||l.level==n?p&&p.level<l.level?Ye.cursor(p.side(!r,n)+e.from,r?1:-1,p.level):Ye.cursor(h+e.from,r?-1:1,l.level):Ye.cursor(r?e.to:e.from,r?-1:1,n)}const xr="\uffff";class br{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Bt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=xr}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i),this.readNode(i);let e=i.nextSibling;if(e==t)break;let r=Dn.get(i),o=Dn.get(e);(r&&o?r.breakAfter:(r?r.breakAfter:vr(i))||vr(e)&&("BR"!=i.nodeName||i.cmIgnore))&&this.lineBreak(),i=e}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let r,o=-1,s=1;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(r=i.exec(t))&&(o=r.index,s=r[0].length),this.append(t.slice(n,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=s-1);n=o+s}}readNode(e){if(e.cmIgnore)return;let t=Dn.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+Math.min(t,n.offset))}}function vr(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class yr{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class wr extends Dn{constructor(e){super(),this.view=e,this.compositionDeco=vi.none,this.decorations=[],this.pluginDecorationLength=0,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Qi],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new tr(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=vi.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){let n=kr(e);if(!n)return vi.none;let{from:i,to:r,node:o,text:s}=n,a=t.mapPos(i,1),l=Math.max(a,t.mapPos(r,-1)),{state:c}=e,h=3==o.nodeType?o.nodeValue:new br([],c).readRange(o.firstChild,null).text;if(l-a<h.length)if(c.doc.sliceString(a,Math.min(c.doc.length,a+h.length),xr)==h)l=a+h.length;else{if(c.doc.sliceString(Math.max(0,l-h.length),l,xr)!=h)return vi.none;a=l-h.length}else if(c.doc.sliceString(a,l,xr)!=h)return vi.none;let p=Dn.get(o);p instanceof li?p=p.widget.topView:p&&(p.parent=null);return vi.set(vi.replace({widget:new Tr(o,s,p)}).range(a,l))}(this.view,e.changes)),(ii.ie||ii.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let n=function(e,t,n){let i=new Pr;return en.compare(e,t,n,i),i.changes}(this.decorations,this.updateDeco(),e.changes);return t=tr.extendWithRanges(t,n),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:n}=this.view;n.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"";let e=ii.chrome||ii.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(e),this.dirty=0,e&&(e.written||n.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let r of this.children)r instanceof Pi&&r.widget instanceof Sr&&i.push(r.dom);n.updateGaps(i)}updateChildren(e,t){let n=this.childCursor(t);for(let i=e.length-1;;i--){let t=i>=0?e[i]:null;if(!t)break;let{fromA:r,toA:o,fromB:s,toB:a}=t,{content:l,breakAtStart:c,openStart:h,openEnd:p}=Ci.build(this.view.state.doc,s,a,this.decorations,this.pluginDecorationLength),{i:d,off:u}=n.findPos(o,1),{i:f,off:m}=n.findPos(r,-1);Zn(this,f,m,d,u,l,c,h,p)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection()||ii.ios&&this.view.inputState.rapidCompositionStart)return;let n=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,r=this.domAtPos(i.anchor),o=i.empty?r:this.domAtPos(i.head);if(ii.gecko&&i.empty&&(1==(s=r).node.nodeType&&s.node.firstChild&&(0==s.offset||"false"==s.node.childNodes[s.offset-1].contentEditable)&&(s.offset==s.node.childNodes.length||"false"==s.node.childNodes[s.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>r.node.insertBefore(e,r.node.childNodes[r.offset]||null))),r=o=new _n(e,0),n=!0}var s;let a=this.view.observer.selectionRange;!n&&a.focusNode&&Tn(r.node,r.offset,a.anchorNode,a.anchorOffset)&&Tn(o.node,o.offset,a.focusNode,a.focusOffset)||(this.view.observer.ignore((()=>{ii.android&&ii.chrome&&this.dom.contains(a.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=yn(this.root);if(i.empty){if(ii.gecko){let e=(t=r.node,n=r.offset,1!=t.nodeType?0:(n&&"false"==t.childNodes[n-1].contentEditable?1:0)|(n<t.childNodes.length&&"false"==t.childNodes[n].contentEditable?2:0));if(e&&3!=e){let t=Qr(r.node,r.offset,1==e?1:-1);t&&(r=new _n(t,1==e?0:t.nodeValue.length))}}e.collapse(r.node,r.offset),null!=i.bidiLevel&&null!=a.cursorBidiLevel&&(a.cursorBidiLevel=i.bidiLevel)}else if(e.extend)e.collapse(r.node,r.offset),e.extend(o.node,o.offset);else{let t=document.createRange();i.anchor>i.head&&([r,o]=[o,r]),t.setEnd(o.node,o.offset),t.setStart(r.node,r.offset),e.removeAllRanges(),e.addRange(t)}var t,n})),this.view.observer.setSelectionRange(r,o)),this.impreciseAnchor=r.precise?null:new _n(a.anchorNode,a.anchorOffset),this.impreciseHead=o.precise?null:new _n(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=yn(this.root);if(!e.empty||!e.assoc||!t.modify)return;let n=Qi.find(this,e.head);if(!n)return;let i=n.posAtStart;if(e.head==i||e.head==i+n.length)return;let r=this.coordsAt(e.head,-1),o=this.coordsAt(e.head,1);if(!r||!o||r.bottom>o.top)return;let s=this.domAtPos(e.head+e.assoc);t.collapse(s.node,s.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Ui)?this.root.activeElement==this.dom:Sn(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let e=Dn.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof Qi)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){for(let n=this.length,i=this.children.length-1;;i--){let r=this.children[i],o=n-r.breakAfter-r.length;if(e>o||e==o&&r.type!=bi.WidgetBefore&&r.type!=bi.WidgetAfter&&(!i||2==t||this.children[i-1].breakAfter||this.children[i-1].type==bi.WidgetBefore&&t>-2))return r.coordsAt(e-o,t);n=o}}measureVisibleLineHeights(){let e=[],{from:t,to:n}=this.view.viewState.viewport,i=this.view.contentDOM.clientWidth,r=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1;for(let s=0,a=0;a<this.children.length;a++){let l=this.children[a],c=s+l.length;if(c>n)break;if(s>=t){let t=l.dom.getBoundingClientRect();if(e.push(t.height),r){let e=l.dom.lastChild,n=e?kn(e):[];if(n.length){let e=n[n.length-1],r=this.view.textDirection==ir.LTR?e.right-t.left:t.right-e.left;r>o&&(o=r,this.minWidth=i,this.minWidthFrom=s,this.minWidthTo=c)}}}s=c+l.breakAfter}return e}measureTextSize(){for(let i of this.children)if(i instanceof Qi){let e=i.measureTextSize();if(e)return e}let e,t,n=document.createElement("div");return n.className="cm-line",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let i=kn(n.firstChild)[0];e=n.getBoundingClientRect().height,t=i?i.width/27:7,n.remove()})),{lineHeight:e,charWidth:t}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Un(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,i=0;;i++){let r=i==t.viewports.length?null:t.viewports[i],o=r?r.from-1:this.length;if(o>n){let i=t.lineBlockAt(o).bottom-t.lineBlockAt(n).top;e.push(vi.replace({widget:new Sr(i),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!r)break;n=r.to+1}return vi.set(e)}updateDeco(){let e=this.view.pluginField(Ni.decorations);return this.pluginDecorationLength=e.length,this.decorations=[...e,...this.view.state.facet(Ki),this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let t,{range:n}=e,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!i)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,t.left),top:Math.min(i.top,t.top),right:Math.max(i.right,t.right),bottom:Math.max(i.bottom,t.bottom)});let r=0,o=0,s=0,a=0;for(let c of this.view.pluginField(Ni.scrollMargins))if(c){let{left:e,right:t,top:n,bottom:i}=c;null!=e&&(r=Math.max(r,e)),null!=t&&(o=Math.max(o,t)),null!=n&&(s=Math.max(s,n)),null!=i&&(a=Math.max(a,i))}let l={left:i.left-r,top:i.top-s,right:i.right+o,bottom:i.bottom+a};!function(e,t,n,i,r,o,s,a){let l=e.ownerDocument,c=l.defaultView;for(let h=e;h;)if(1==h.nodeType){let e,p=h==l.body;if(p)e=Rn(c);else{if(h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.parentNode;continue}let t=h.getBoundingClientRect();e={left:t.left,right:t.left+h.clientWidth,top:t.top,bottom:t.top+h.clientHeight}}let d=0,u=0;if("nearest"==r)t.top<e.top?(u=-(e.top-t.top+s),n>0&&t.bottom>e.bottom+u&&(u=t.bottom-e.bottom+u+s)):t.bottom>e.bottom&&(u=t.bottom-e.bottom+s,n<0&&t.top-u<e.top&&(u=-(e.top+u-t.top+s)));else{let i=t.bottom-t.top,o=e.bottom-e.top;u=("center"==r&&i<=o?t.top+i/2-o/2:"start"==r||"center"==r&&n<0?t.top-s:t.bottom-o+s)-e.top}if("nearest"==i?t.left<e.left?(d=-(e.left-t.left+o),n>0&&t.right>e.right+d&&(d=t.right-e.right+d+o)):t.right>e.right&&(d=t.right-e.right+o,n<0&&t.left<e.left+d&&(d=-(e.left+d-t.left+o))):d=("center"==i?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==i==a?t.left-o:t.right-(e.right-e.left)+o)-e.left,d||u)if(p)c.scrollBy(d,u);else{if(u){let e=h.scrollTop;h.scrollTop+=u,u=h.scrollTop-e}if(d){let e=h.scrollLeft;h.scrollLeft+=d,d=h.scrollLeft-e}t={left:t.left-d,top:t.top-u,right:t.right-d,bottom:t.bottom-u}}if(p)break;h=h.assignedSlot||h.parentNode,i=r="nearest"}else{if(11!=h.nodeType)break;h=h.host}}(this.view.scrollDOM,l,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==ir.LTR)}}class Sr extends xi{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function kr(e){let t=e.observer.selectionRange,n=t.focusNode&&Qr(t.focusNode,t.focusOffset,0);if(!n)return null;let i=e.docView.nearest(n);if(!i)return null;if(i instanceof Qi){let e=n;for(;e.parentNode!=i.dom;)e=e.parentNode;let t=e.previousSibling;for(;t&&!Dn.get(t);)t=t.previousSibling;let r=t?Dn.get(t).posAtEnd:i.posAtStart;return{from:r,to:r,node:e,text:n}}{for(;;){let{parent:e}=i;if(!e)return null;if(e instanceof Qi)break;i=e}let e=i.posAtStart;return{from:e,to:e+i.length,node:i.dom,text:n}}}class Tr extends xi{constructor(e,t,n){super(),this.top=e,this.text=t,this.topView=n}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return li}}function Qr(e,t,n){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&n<=0)t=Cn(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&n>=0))return null;e=e.childNodes[t],t=0}}}class Pr{constructor(){this.changes=[]}compareRange(e,t){Ti(e,t,this.changes)}comparePoint(e,t){Ti(e,t,this.changes)}}function Cr(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function $r(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function Ir(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function Rr(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function Ar(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function Mr(e,t,n){let i,r,o,s,a,l,c,h;for(let d=e.firstChild;d;d=d.nextSibling){let e=kn(d);for(let p=0;p<e.length;p++){let u=e[p];r&&Ir(r,u)&&(u=Rr(Ar(u,r.bottom),r.top));let f=Cr(t,u),m=$r(n,u);if(0==f&&0==m)return 3==d.nodeType?jr(d,t,n):Mr(d,t,n);(!i||s>m||s==m&&o>f)&&(i=d,r=u,o=f,s=m),0==f?n>u.bottom&&(!c||c.bottom<u.bottom)?(a=d,c=u):n<u.top&&(!h||h.top>u.top)&&(l=d,h=u):c&&Ir(c,u)?c=Ar(c,u.bottom):h&&Ir(h,u)&&(h=Rr(h,u.top))}}if(c&&c.bottom>=n?(i=a,r=c):h&&h.top<=n&&(i=l,r=h),!i)return{node:e,offset:0};let p=Math.max(r.left,Math.min(r.right,t));return 3==i.nodeType?jr(i,p,n):o||"true"!=i.contentEditable?{node:e,offset:Array.prototype.indexOf.call(e.childNodes,i)+(t>=(r.left+r.right)/2?1:0)}:Mr(i,p,n)}function jr(e,t,n){let i=e.nodeValue.length,r=-1,o=1e9,s=0;for(let a=0;a<i;a++){let i=Xn(e,a,a+1).getClientRects();for(let l=0;l<i.length;l++){let c=i[l];if(c.top==c.bottom)continue;s||(s=t-c.left);let h=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&h<o){let n=t>=(c.left+c.right)/2,i=n;if(ii.chrome||ii.gecko){Xn(e,a).getBoundingClientRect().left==c.right&&(i=!n)}if(h<=0)return{node:e,offset:a+(i?1:0)};r=a+(i?1:0),o=h}}}return{node:e,offset:r>-1?r:s>0?e.nodeValue.length:0}}function Er(e,{x:t,y:n},i,r=-1){var o;let s,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,h=n-l;if(h<0)return 0;if(h>c)return e.state.doc.length;for(let O=e.defaultLineHeight/2,x=!1;s=e.elementAtHeight(h),s.type!=bi.Text;)for(;h=r>0?s.bottom+O:s.top-O,!(h>=0&&h<=c);){if(x)return i?null:0;x=!0,r=-r}n=l+h;let p=s.from;if(p<e.viewport.from)return 0==e.viewport.from?0:i?null:Xr(e,a,s,t,n);if(p>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:i?null:Xr(e,a,s,t,n);let d=e.dom.ownerDocument,u=e.root.elementFromPoint?e.root:d,f=u.elementFromPoint(t,n);f&&!e.contentDOM.contains(f)&&(f=null),f||(t=Math.max(a.left+1,Math.min(a.right-1,t)),f=u.elementFromPoint(t,n),f&&!e.contentDOM.contains(f)&&(f=null));let m,g=-1;if(f&&0!=(null===(o=e.docView.nearest(f))||void 0===o?void 0:o.isEditable))if(d.caretPositionFromPoint){let e=d.caretPositionFromPoint(t,n);e&&({offsetNode:m,offset:g}=e)}else if(d.caretRangeFromPoint){let e=d.caretRangeFromPoint(t,n);e&&(({startContainer:m,startOffset:g}=e),ii.safari&&function(e,t,n){let i;if(3!=e.nodeType||t!=(i=e.nodeValue.length))return!1;for(let r=e.nextSibling;r;r=r.nextSibling)if(1!=r.nodeType||"BR"!=r.nodeName)return!1;return Xn(e,i-1,i).getBoundingClientRect().left>n}(m,g,t)&&(m=void 0))}if(!m||!e.docView.dom.contains(m)){let i=Qi.find(e.docView,p);if(!i)return h>s.top+s.height/2?s.to:s.from;({node:m,offset:g}=Mr(i.dom,t,n))}return e.docView.posFromDOM(m,g)}function Xr(e,t,n,i,r){let o=Math.round((i-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){o+=Math.floor((r-n.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(n.from,n.to);return n.from+function(e,t,n,i){for(let r=0,o=0;;){if(o>=t)return r;if(r==e.length)break;o+=9==e.charCodeAt(r)?n-o%n:1,r=ye(e,r)}return!0===i?-1:e.length}(s,o,e.state.tabSize)}function zr(e,t,n,i){let r=e.state.doc.lineAt(t.head),o=e.bidiSpans(r);for(let s=t,a=null;;){let t=Or(r,o,e.textDirection,s,n),l=gr;if(!t){if(r.number==(n?e.state.doc.lines:1))return s;l="\n",r=e.state.doc.line(r.number+(n?1:-1)),o=e.bidiSpans(r),t=Ye.cursor(n?r.from:r.to)}if(a){if(!a(l))return s}else{if(!i)return t;a=i(l)}s=t}}function Wr(e,t,n){let i=e.pluginField(Ni.atomicRanges);for(;;){let e=!1;for(let r of i)r.between(n.from-1,n.from+1,((i,r,o)=>{n.from>i&&n.from<r&&(n=t.from>n.from?Ye.cursor(i,1):Ye.cursor(r,-1),e=!0)}));if(!e)return n}}class _r{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Zr){let n=Zr[t];e.contentDOM.addEventListener(t,(i=>{Ur(e,i)&&!this.ignoreDuringComposition(i)&&("keydown"==t&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,i)?i.preventDefault():n(e,i)))})),this.registeredEvents.push(t)}this.notifiedFocused=e.hasFocus,this.ensureHandlers(e),ii.safari&&e.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e){let t=this.customHandlers=e.pluginField(Vi);for(let n of t)for(let t in n.handlers)this.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(this.registeredEvents.push(t),e.contentDOM.addEventListener(t,(n=>{Ur(e,n)&&this.runCustomHandlers(t,e,n)&&n.preventDefault()})))}runCustomHandlers(e,t,n){for(let r of this.customHandlers){let o=r.handlers[e];if(o)try{if(o.call(r.plugin,n,t)||n.defaultPrevented)return!0}catch(i){Bi(t.state,i)}}return!1}runScrollHandlers(e,t){for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(n){Bi(e.state,n)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(ii.android&&ii.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return!(!ii.ios||!(n=Lr.find((e=>e.keyCode==t.keyCode)))||t.ctrlKey||t.altKey||t.metaKey||t.synthetic)&&(this.pendingIOSKey=n,setTimeout((()=>this.flushIOSKey(e)),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,zn(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(ii.safari&&Date.now()-this.compositionEndedAt<500)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode||"compositionend"==e.type&&!ii.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Lr=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Dr=[16,17,18,20,91,92,224,225];class Br{constructor(e,t,n,i){this.view=e,this.style=n,this.mustSelect=i,this.lastEvent=t;let r=e.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Bt.allowMultipleSelections)&&function(e,t){let n=e.state.facet(Ai);return n.length?n[0](t):ii.mac?t.metaKey:t.ctrlKey}(e,t),this.dragMove=function(e,t){let n=e.state.facet(Mi);return n.length?n[0](t):ii.mac?!t.altKey:!t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let i=yn(e.root);if(0==i.rangeCount)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let e=r[o];if(e.left<=t.clientX&&e.right>=t.clientX&&e.top<=t.clientY&&e.bottom>=t.clientY)return!0}return!1}(e,t)||1!=io(t))&&null,!1===this.dragging&&(t.preventDefault(),this.select(t))}move(e){if(0==e.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=e)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function Ur(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,i=t.target;i!=e.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||(n=Dn.get(i))&&n.ignoreEvent(t))return!1;return!0}const Zr=Object.create(null),Nr=ii.ie&&ii.ie_version<15||ii.ios&&ii.webkit_version<604;function Fr(e,t){let n,{state:i}=e,r=1,o=i.toText(t),s=o.lines==i.selection.ranges.length,a=null!=oo&&i.selection.ranges.every((e=>e.empty))&&oo==o.toString();if(a){let e=-1;n=i.changeByRange((n=>{let a=i.doc.lineAt(n.from);if(a.from==e)return{range:n};e=a.from;let l=i.toText((s?o.line(r++).text:t)+i.lineBreak);return{changes:{from:a.from,insert:l},range:Ye.cursor(n.from+l.length)}}))}else n=s?i.changeByRange((e=>{let t=o.line(r++);return{changes:{from:e.from,to:e.to,insert:t.text},range:Ye.cursor(e.from+t.length)}})):i.replaceSelection(o);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Zr.keydown=(e,t)=>{e.inputState.setSelectionOrigin("select"),27==t.keyCode?e.inputState.lastEscPress=Date.now():Dr.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0)};let Gr=0;function qr(e,t,n,i){if(1==i)return Ye.cursor(t,n);if(2==i)return function(e,t,n=1){let i=e.charCategorizer(t),r=e.doc.lineAt(t),o=t-r.from;if(0==r.length)return Ye.cursor(t);0==o?n=1:o==r.length&&(n=-1);let s=o,a=o;n<0?s=ye(r.text,o,!1):a=ye(r.text,o);let l=i(r.text.slice(s,a));for(;s>0;){let e=ye(r.text,s,!1);if(i(r.text.slice(e,s))!=l)break;s=e}for(;a<r.length;){let e=ye(r.text,a);if(i(r.text.slice(a,e))!=l)break;a=e}return Ye.range(s+r.from,a+r.from)}(e.state,t,n);{let n=Qi.find(e.docView,t),i=e.state.doc.lineAt(n?n.posAtEnd:t),r=n?n.posAtStart:i.from,o=n?n.posAtEnd:i.to;return o<e.state.doc.length&&o==i.to&&o++,Ye.range(r,o)}}Zr.touchstart=(e,t)=>{Gr=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},Zr.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},Zr.mousedown=(e,t)=>{if(e.observer.flush(),Gr>Date.now()-2e3&&1==io(t))return;let n=null;for(let i of e.state.facet(ji))if(n=i(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=Jr(e,t),i=io(t),r=e.state.selection,o=n,s=t;return{update(e){e.docChanged&&(n&&(n.pos=e.changes.mapPos(n.pos)),r=r.map(e.changes),s=null)},get(t,a,l){let c;if(s&&t.clientX==s.clientX&&t.clientY==s.clientY?c=o:(c=o=Jr(e,t),s=t),!c||!n)return r;let h=qr(e,c.pos,c.bias,i);if(n.pos!=c.pos&&!a){let t=qr(e,n.pos,n.bias,i),r=Math.min(t.from,h.from),o=Math.max(t.to,h.to);h=r<h.from?Ye.range(r,o):Ye.range(o,r)}return a?r.replaceRange(r.main.extend(h.from,h.to)):l?r.addRange(h):Ye.create([h])}}}(e,t)),n){let i=e.root.activeElement!=e.contentDOM;i&&e.observer.ignore((()=>En(e.contentDOM))),e.inputState.startMouseSelection(new Br(e,t,n,i))}};let Vr=(e,t)=>e>=t.top&&e<=t.bottom,Yr=(e,t,n)=>Vr(t,n)&&e>=n.left&&e<=n.right;function Hr(e,t,n,i){let r=Qi.find(e.docView,t);if(!r)return 1;let o=t-r.posAtStart;if(0==o)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&Yr(n,i,s))return-1;let a=r.coordsAt(o,1);return a&&Yr(n,i,a)?1:s&&Vr(i,s)?-1:1}function Jr(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:Hr(e,n,t.clientX,t.clientY)}}const Kr=ii.ie&&ii.ie_version<=11;let eo=null,to=0,no=0;function io(e){if(!Kr)return e.detail;let t=eo,n=no;return eo=e,no=Date.now(),to=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(to+1)%3:1}function ro(e,t,n,i){if(!n)return;let r=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:o}=e.inputState,s=i&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,a={from:r,insert:n},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"})}Zr.dragstart=(e,t)=>{let{selection:{main:n}}=e.state,{mouseSelection:i}=e.inputState;i&&(i.dragging=n),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove")},Zr.drop=(e,t)=>{if(!t.dataTransfer)return;if(e.state.readOnly)return t.preventDefault();let n=t.dataTransfer.files;if(n&&n.length){t.preventDefault();let i=Array(n.length),r=0,o=()=>{++r==n.length&&ro(e,t,i.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=o,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(i[e]=t.result),o()},t.readAsText(n[e])}}else ro(e,t,t.dataTransfer.getData("Text"),!0)},Zr.paste=(e,t)=>{if(e.state.readOnly)return t.preventDefault();e.observer.flush();let n=Nr?null:t.clipboardData;n?(Fr(e,n.getData("text/plain")),t.preventDefault()):function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),Fr(e,n.value)}),50)}(e)};let oo=null;function so(e,t){if(e.docView.compositionDeco.size){e.inputState.rapidCompositionStart=t;try{e.update([])}finally{e.inputState.rapidCompositionStart=!1}}}Zr.copy=Zr.cut=(e,t)=>{let{text:n,ranges:i,linewise:r}=function(e){let t=[],n=[],i=!1;for(let r of e.selection.ranges)r.empty||(t.push(e.sliceDoc(r.from,r.to)),n.push(r));if(!t.length){let r=-1;for(let{from:i}of e.selection.ranges){let o=e.doc.lineAt(i);o.number>r&&(t.push(o.text),n.push({from:o.from,to:Math.min(e.doc.length,o.to+1)})),r=o.number}i=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:i}}(e.state);if(!n&&!r)return;oo=r?n:null;let o=Nr?null:t.clipboardData;o?(t.preventDefault(),o.clearData(),o.setData("text/plain",n)):function(e,t){let n=e.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout((()=>{i.remove(),e.focus()}),50)}(e,n),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})},Zr.focus=Zr.blur=e=>{setTimeout((()=>{e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)},Zr.compositionstart=Zr.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0,e.docView.compositionDeco.size&&(e.observer.flush(),so(e,!0)))},Zr.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,setTimeout((()=>{e.inputState.composing<0&&so(e,!1)}),50)},Zr.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},Zr.beforeinput=(e,t)=>{var n;let i;if(ii.chrome&&ii.android&&(i=Lr.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let t=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};const ao=["pre-wrap","normal","pre-line","break-spaces"];class lo{constructor(){this.doc=Ie.empty,this.lineWrapping=!1,this.direction=ir.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForStyle(e,t){return ao.indexOf(e)>-1!=this.lineWrapping||this.direction!=t}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(10*i)]||(t=!0,this.heightSamples[Math.floor(10*i)]=!0)}return t}refresh(e,t,n,i,r,o){let s=ao.indexOf(e)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=s||this.direction!=t;if(this.lineWrapping=s,this.direction=t,this.lineHeight=n,this.charWidth=i,this.lineLength=r,a){this.heightSamples={};for(let e=0;e<o.length;e++){let t=o[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return a}}class co{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ho{constructor(e,t,n,i,r){this.from=e,this.length=t,this.top=n,this.height=i,this.type=r}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new ho(this.from,this.length+e.length,this.top,this.height+e.height,t)}moveY(e){return e?new ho(this.from,this.length,this.top+e,this.height,Array.isArray(this.type)?this.type.map((t=>t.moveY(e))):this.type):this}}var po=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(po||(po={}));const uo=.001;class fo{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>uo&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return fo.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,i){let r=this;for(let o=i.length-1;o>=0;o--){let{fromA:s,toA:a,fromB:l,toB:c}=i[o],h=r.lineAt(s,po.ByPosNoHeight,t,0,0),p=h.to>=a?h:r.lineAt(a,po.ByPosNoHeight,t,0,0);for(c+=p.to-a,a=p.to;o>0&&h.from<=i[o-1].toA;)s=i[o-1].fromA,l=i[o-1].fromB,o--,s<h.from&&(h=r.lineAt(s,po.ByPosNoHeight,t,0,0));l+=h.from-s,s=h.from;let d=vo.build(n,e,l,c);r=r.replace(s,a,d)}return r.updateHeight(n,0)}static empty(){return new go(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,i=0,r=0;for(;;)if(t==n)if(i>2*r){let r=e[t-1];r.break?e.splice(--t,1,r.left,null,r.right):e.splice(--t,1,r.left,r.right),n+=1+r.break,i-=r.size}else{if(!(r>2*i))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,r-=t.size}}else if(i<r){let n=e[t++];n&&(i+=n.size)}else{let t=e[--n];t&&(r+=t.size)}let o=0;return null==e[t-1]?(o=1,t--):null==e[t]&&(o=1,n++),new xo(fo.of(e.slice(0,t)),o,fo.of(e.slice(n)))}}fo.prototype.size=1;class mo extends fo{constructor(e,t,n){super(e,t),this.type=n}blockAt(e,t,n,i){return new ho(i,this.length,n,this.height,this.type)}lineAt(e,t,n,i,r){return this.blockAt(0,n,i,r)}forEachLine(e,t,n,i,r,o){o(this.blockAt(0,n,i,r))}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class go extends mo{constructor(e,t){super(e,t,bi.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,n){let i=n[0];return 1==n.length&&(i instanceof go||i instanceof Oo&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof Oo?i=new go(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):fo.of(n)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more?this.setHeight(e,i.heights[i.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Oo extends fo{constructor(e){super(e,0)}lines(e,t){let n=e.lineAt(t).number,i=e.lineAt(t+this.length).number;return{firstLine:n,lastLine:i,lineHeight:this.height/(i-n+1)}}blockAt(e,t,n,i){let{firstLine:r,lastLine:o,lineHeight:s}=this.lines(t,i),a=Math.max(0,Math.min(o-r,Math.floor((e-n)/s))),{from:l,length:c}=t.line(r+a);return new ho(l,c,n+s*a,s,bi.Text)}lineAt(e,t,n,i,r){if(t==po.ByHeight)return this.blockAt(e,n,i,r);if(t==po.ByPosNoHeight){let{from:t,to:i}=n.lineAt(e);return new ho(t,i-t,0,0,bi.Text)}let{firstLine:o,lineHeight:s}=this.lines(n,r),{from:a,length:l,number:c}=n.lineAt(e);return new ho(a,l,i+s*(c-o),s,bi.Text)}forEachLine(e,t,n,i,r,o){let{firstLine:s,lineHeight:a}=this.lines(n,r);for(let l=Math.max(e,r),c=Math.min(r+this.length,t);l<=c;){let t=n.lineAt(l);l==e&&(i+=a*(t.number-s)),o(new ho(t.from,t.length,i,a,bi.Text)),i+=a,l=t.to+1}}replace(e,t,n){let i=this.length-t;if(i>0){let e=n[n.length-1];e instanceof Oo?n[n.length-1]=new Oo(e.length+i):n.push(null,new Oo(i-1))}if(e>0){let t=n[0];t instanceof Oo?n[0]=new Oo(e+t.length):n.unshift(new Oo(e-1),null)}return fo.of(n)}decomposeLeft(e,t){t.push(new Oo(e-1),null)}decomposeRight(e,t){t.push(null,new Oo(this.length-e-1))}updateHeight(e,t=0,n=!1,i){let r=t+this.length;if(i&&i.from<=t+this.length&&i.more){let n=[],o=Math.max(t,i.from),s=-1,a=e.heightChanged;for(i.from>t&&n.push(new Oo(i.from-t-1).updateHeight(e,t));o<=r&&i.more;){let t=e.doc.lineAt(o).length;n.length&&n.push(null);let r=i.heights[i.index++];-1==s?s=r:Math.abs(r-s)>=uo&&(s=-2);let a=new go(t,r);a.outdated=!1,n.push(a),o+=t+1}o<=r&&n.push(null,new Oo(r-o).updateHeight(e,o));let l=fo.of(n);return e.heightChanged=a||s<0||Math.abs(l.height-this.height)>=uo||Math.abs(s-this.lines(e.doc,t).lineHeight)>=uo,l}return(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class xo extends fo{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,i){let r=n+this.left.height;return e<r?this.left.blockAt(e,t,n,i):this.right.blockAt(e,t,r,i+this.left.length+this.break)}lineAt(e,t,n,i,r){let o=i+this.left.height,s=r+this.left.length+this.break,a=t==po.ByHeight?e<o:e<s,l=a?this.left.lineAt(e,t,n,i,r):this.right.lineAt(e,t,n,o,s);if(this.break||(a?l.to<s:l.from>s))return l;let c=t==po.ByPosNoHeight?po.ByPosNoHeight:po.ByPos;return a?l.join(this.right.lineAt(s,c,n,o,s)):this.left.lineAt(s,c,n,i,r).join(l)}forEachLine(e,t,n,i,r,o){let s=i+this.left.height,a=r+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,i,r,o),t>=a&&this.right.forEachLine(e,t,n,s,a,o);else{let l=this.lineAt(a,po.ByPos,n,i,r);e<l.from&&this.left.forEachLine(e,l.from-1,n,i,r,o),l.to>=e&&l.from<=t&&o(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,s,a,o)}}replace(e,t,n){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,n));let r=[];e>0&&this.decomposeLeft(e,r);let o=r.length;for(let s of n)r.push(s);if(e>0&&bo(r,o-1),t<this.length){let e=r.length;this.decomposeRight(t,r),bo(r,e)}return fo.of(r)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?fo.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,i){let{left:r,right:o}=this,s=t+r.length+this.break,a=null;return i&&i.from<=t+r.length&&i.more?a=r=r.updateHeight(e,t,n,i):r.updateHeight(e,t,n),i&&i.from<=s+o.length&&i.more?a=o=o.updateHeight(e,s,n,i):o.updateHeight(e,s,n),a?this.balanced(r,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function bo(e,t){let n,i;null==e[t]&&(n=e[t-1])instanceof Oo&&(i=e[t+1])instanceof Oo&&e.splice(t-1,3,new Oo(n.length+1+i.length))}class vo{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof go?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new go(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let r=t-e;n.block?this.addBlock(new mo(r,i,n.type)):(r||i>=5)&&this.addLineDeco(i,r)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new go(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new Oo(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof go)return e;let t=new go(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type!=bi.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=bi.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof go||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new go(0,-1));let n=e;for(let i of this.nodes)i instanceof go&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,t,n,i){let r=new vo(n,e);return en.spans(t,n,i,r,0),r.finish(n)}}class yo{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,i){(e<t||n&&n.heightRelevant||i&&i.heightRelevant)&&Ti(e,t,this.changes,5)}}function wo(e,t){let n=e.getBoundingClientRect(),i=Math.max(0,n.left),r=Math.min(innerWidth,n.right),o=Math.max(0,n.top),s=Math.min(innerHeight,n.bottom),a=e.ownerDocument.body;for(let l=e.parentNode;l&&l!=a;)if(1==l.nodeType){let e=l,t=window.getComputedStyle(e);if((e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)&&"visible"!=t.overflow){let t=e.getBoundingClientRect();i=Math.max(i,t.left),r=Math.min(r,t.right),o=Math.max(o,t.top),s=Math.min(s,t.bottom)}l="absolute"==t.position||"fixed"==t.position?e.offsetParent:e.parentNode}else{if(11!=l.nodeType)break;l=l.host}return{left:i-n.left,right:Math.max(i,r)-n.left,top:o-(n.top+t),bottom:Math.max(o,s)-(n.top+t)}}function So(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class ko{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],r=t[n];if(i.from!=r.from||i.to!=r.to||i.size!=r.size)return!1}return!0}draw(e){return vi.replace({widget:new To(this.size,e)}).range(this.from,this.to)}}class To extends xi{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Qo{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new lo,this.scaler=Mo,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=fo.empty().applyChanges(e.facet(Ki),Ie.empty,this.heightOracle.setDoc(e.doc),[new tr(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=vi.set(this.lineGaps.map((e=>e.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let i=n?t.head:t.anchor;if(!e.some((({from:e,to:t})=>i>=e&&i<=t))){let{from:t,to:n}=this.lineBlockAt(i);e.push(new Po(t,n))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?Mo:new jo(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:Eo(e,this.scaler))}))}update(e,t=null){let n=this.state;this.state=e.state;let i=this.state.facet(Ki),r=e.changedRanges,o=tr.extendWithRanges(r,function(e,t,n){let i=new yo;return en.compare(e,t,n,i,0),i.changes}(e.startState.facet(Ki),i,e?e.changes:Be.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(i,n.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);let a=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let l=!e.changes.empty||2&e.flags||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,r=n.whiteSpace,o="rtl"==n.direction?ir.RTL:ir.LTR,s=this.heightOracle.mustRefreshForStyle(r,o),a=s||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight,l=0,c=0;if(this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=8),a){this.mustMeasureContent=!1,this.contentDOMHeight=t.clientHeight;let e=parseInt(n.paddingTop)||0,i=parseInt(n.paddingBottom)||0;this.paddingTop==e&&this.paddingBottom==i||(l|=8,this.paddingTop=e,this.paddingBottom=i)}let h=(this.printing?So:wo)(t,this.paddingTop),p=h.top-this.pixelViewport.top,d=h.bottom-this.pixelViewport.bottom;this.pixelViewport=h;let u=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(u!=this.inView&&(this.inView=u,u&&(a=!0)),!this.inView)return 0;let f=t.clientWidth;if(this.contentDOMWidth==f&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=f,this.editorHeight=e.scrollDOM.clientHeight,l|=8),a){let t=e.docView.measureVisibleLineHeights();if(i.mustRefreshForHeights(t)&&(s=!0),s||i.lineWrapping&&Math.abs(f-this.contentDOMWidth)>i.charWidth){let{lineHeight:n,charWidth:a}=e.docView.measureTextSize();s=i.refresh(r,o,n,a,f/a,t),s&&(e.docView.minWidth=0,l|=8)}p>0&&d>0?c=Math.max(p,d):p<0&&d<0&&(c=Math.min(p,d)),i.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(i,0,s,new co(this.viewport.from,t)),i.heightChanged&&(l|=2)}let m=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(2&l||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,r=this.state.doc,{visibleTop:o,visibleBottom:s}=this,a=new Po(i.lineAt(o-1e3*n,po.ByHeight,r,0,0).from,i.lineAt(s+1e3*(1-n),po.ByHeight,r,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let n,o=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=i.lineAt(e,po.ByPos,r,0,0);n="center"==t.y?(s.top+s.bottom)/2-o/2:"start"==t.y||"nearest"==t.y&&e<a.from?s.top:s.bottom-o,a=new Po(i.lineAt(n-500,po.ByHeight,r,0,0).from,i.lineAt(n+o+500,po.ByHeight,r,0,0).to)}}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Po(this.heightMap.lineAt(n,po.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(i,po.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,po.ByPos,this.state.doc,0,0),{bottom:r}=this.heightMap.lineAt(t,po.ByPos,this.state.doc,0,0),{visibleTop:o,visibleBottom:s}=this;return(0==e||i<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||r>=s+Math.max(10,Math.min(n,250)))&&i>o-2e3&&r<s+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let i of e)t.touchesRange(i.from,i.to)||n.push(new ko(t.mapPos(i.from),t.mapPos(i.to),i.size));return n}ensureLineGaps(e){let t=[];if(this.heightOracle.direction!=ir.LTR)return t;for(let n of this.viewportLines){if(n.length<4e3)continue;let i,r,o=Co(n.from,n.to,this.state);if(o.total<4e3)continue;if(this.heightOracle.lineWrapping){let e=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;i=$o(o,(this.visibleTop-n.top-e)/n.height),r=$o(o,(this.visibleBottom-n.top+e)/n.height)}else{let e=o.total*this.heightOracle.charWidth,t=2e3*this.heightOracle.charWidth;i=$o(o,(this.pixelViewport.left-t)/e),r=$o(o,(this.pixelViewport.right+t)/e)}let s=[];i>n.from&&s.push({from:n.from,to:i}),r<n.to&&s.push({from:r,to:n.to});let a=this.state.selection.main;a.from>=n.from&&a.from<=n.to&&Ro(s,a.from-10,a.from+10),!a.empty&&a.to>=n.from&&a.to<=n.to&&Ro(s,a.to-10,a.to+10);for(let{from:l,to:c}of s)c-l>1e3&&t.push(Ao(e,(e=>e.from>=n.from&&e.to<=n.to&&Math.abs(e.from-l)<1e3&&Math.abs(e.to-c)<1e3))||new ko(l,c,this.gapSize(n,l,c,o)))}return t}gapSize(e,t,n,i){let r=Io(i,n)-Io(i,t);return this.heightOracle.lineWrapping?e.height*r:i.total*this.heightOracle.charWidth*r}updateLineGaps(e){ko.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=vi.set(e.map((e=>e.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.state.facet(Ki);this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];en.spans(e,this.viewport.from,this.viewport.to,{span(e,n){t.push({from:e,to:n})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,n)=>e.from!=t[n].from||e.to!=t[n].to));return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||Eo(this.heightMap.lineAt(e,po.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return Eo(this.heightMap.lineAt(this.scaler.fromDOM(e),po.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return Eo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Po{constructor(e,t){this.from=e,this.to=t}}function Co(e,t,n){let i=[],r=e,o=0;return en.spans(n.facet(Ki),e,t,{span(){},point(e,t){e>r&&(i.push({from:r,to:e}),o+=e-r),r=t}},20),r<t&&(i.push({from:r,to:t}),o+=t-r),{total:o,ranges:i}}function $o({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let i=Math.floor(e*n);for(let r=0;;r++){let{from:e,to:n}=t[r],o=n-e;if(i<=o)return e+i;i-=o}}function Io(e,t){let n=0;for(let{from:i,to:r}of e.ranges){if(t<=r){n+=t-i;break}n+=r-i}return n/e.total}function Ro(e,t,n){for(let i=0;i<e.length;i++){let r=e[i];if(r.from<n&&r.to>t){let o=[];r.from<t&&o.push({from:r.from,to:t}),r.to>n&&o.push({from:n,to:r.to}),e.splice(i,1,...o),i+=o.length-1}}}function Ao(e,t){for(let n of e)if(t(n))return n}const Mo={toDOM:e=>e,fromDOM:e=>e,scale:1};class jo{constructor(e,t,n){let i=0,r=0,o=0;this.viewports=n.map((({from:n,to:r})=>{let o=t.lineAt(n,po.ByPos,e,0,0).top,s=t.lineAt(r,po.ByPos,e,0,0).bottom;return i+=s-o,{from:n,to:r,top:o,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(t.height-i);for(let s of this.viewports)s.domTop=o+(s.top-r)*this.scale,o=s.domBottom=s.domTop+(s.bottom-s.top),r=s.bottom}toDOM(e){for(let t=0,n=0,i=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.top)return i+(e-n)*this.scale;if(e<=r.bottom)return r.domTop+(e-r.top);n=r.bottom,i=r.domBottom}}fromDOM(e){for(let t=0,n=0,i=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.domTop)return n+(e-i)/this.scale;if(e<=r.domBottom)return r.top+(e-r.domTop);n=r.bottom,i=r.domBottom}}}function Eo(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),i=t.toDOM(e.bottom);return new ho(e.from,e.length,n,i-n,Array.isArray(e.type)?e.type.map((e=>Eo(e,t))):e.type)}const Xo=et.define({combine:e=>e.join(" ")}),zo=et.define({combine:e=>e.indexOf(!0)>-1}),Wo=Gt.newName(),_o=Gt.newName(),Lo=Gt.newName(),Do={"&light":"."+_o,"&dark":"."+Lo};function Bo(e,t,n){return new Gt(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]})):e+" "+t})}const Uo=Bo("."+Wo,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Do),Zo={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},No=ii.ie&&ii.ie_version<=11;class Fo{constructor(e,t,n){this.view=e,this.onChange=t,this.onScrollChanged=n,this.active=!1,this.selectionRange=new An,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(ii.ie&&ii.ie_version<=11||ii.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),No&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver((()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()})),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,n=this.selectionRange;if(t.state.facet(Ui)?t.root.activeElement!=this.dom:!Sn(t.dom,n))return;let i=n.anchorNode&&t.docView.nearest(n.anchorNode);i&&i.ignoreEvent(e)||((ii.ie&&ii.ie_version<=11||ii.android&&ii.chrome)&&!t.state.selection.main.empty&&n.focusNode&&Tn(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=yn(e),n=ii.safari&&11==e.nodeType&&function(){let e=document.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}()==this.view.contentDOM&&function(e){let t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let i=t.startContainer,r=t.startOffset,o=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);Tn(a.node,a.offset,o,s)&&([i,r,o,s]=[o,s,i,r]);return{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}}(this.view)||t;return!this.selectionRange.eq(n)&&(this.selectionRange.setRange(n),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Zo),No&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),No&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame((()=>{let e=this.delayedAndroidKey;this.delayedAndroidKey=null;let t=this.view.state;zn(this.view.contentDOM,e.key,e.keyCode)?this.processRecords():this.flush(),this.view.state==t&&this.view.update([])})),this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let r of this.observer.takeRecords())e.push(r);e.length&&(this.queue=[]);let t=-1,n=-1,i=!1;for(let r of e){let e=this.readMutation(r);e&&(e.typeOver&&(i=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:i}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:n,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Sn(this.dom,this.selectionRange);if(t<0&&!r)return;this.selectionChanged=!1;let o=this.view.state;this.onChange(t,n,i),this.view.state==o&&this.view.update([])}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let n=Go(t,e.previousSibling||e.target.previousSibling,-1),i=Go(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resize)||void 0===n||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function Go(e,t,n){for(;t;){let i=Dn.get(t);if(i&&i.parent==e)return i;let r=t.parentNode;t=r!=e.dom?r:n>0?t.nextSibling:t.previousSibling}return null}function qo(e,t,n,i){let r,o,s=e.state.selection.main;if(t>-1){let i=e.docView.domBoundsAround(t,n,0);if(!i||e.state.readOnly)return;let{from:a,to:l}=i,c=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:o}=e.observer.selectionRange;n&&(t.push(new yr(n,i)),r==n&&o==i||t.push(new yr(r,o)));return t}(e),h=new br(c,e.state);h.readRange(i.startDOM,i.endDOM);let p=s.from,d=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||ii.android&&h.text.length<l-a)&&(p=s.to,d="end");let u=function(e,t,n,i){let r=Math.min(e.length,t.length),o=0;for(;o<r&&e.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==r&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if("end"==i){n-=s+Math.max(0,o-Math.min(s,a))-o}if(s<o&&e.length<t.length){o-=n<=o&&n>=s?o-n:0,a=o+(a-s),s=o}else if(a<o){o-=n<=o&&n>=a?o-n:0,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}(e.state.doc.sliceString(a,l,xr),h.text,p-a,d);u&&(ii.chrome&&13==e.inputState.lastKeyCode&&u.toB==u.from+2&&h.text.slice(u.from,u.toB)==xr+xr&&u.toB--,r={from:a+u.from,to:a+u.toA,insert:Ie.of(h.text.slice(u.from,u.toB).split(xr))}),o=function(e,t){if(0==e.length)return null;let n=e[0].pos,i=2==e.length?e[1].pos:n;return n>-1&&i>-1?Ye.single(n+t,i+t):null}(c,a)}else if(e.hasFocus||!e.state.facet(Ui)){let t=e.observer.selectionRange,{impreciseHead:n,impreciseAnchor:i}=e.docView,r=n&&n.node==t.focusNode&&n.offset==t.focusOffset||!wn(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),a=i&&i.node==t.anchorNode&&i.offset==t.anchorOffset||!wn(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);r==s.head&&a==s.anchor||(o=Ye.single(a,r))}if(r||o)if(!r&&i&&!s.empty&&o&&o.main.empty?r={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4&&(r={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,r.from).append(r.insert).append(e.state.doc.slice(r.to,s.to))}),r){let t=e.state;if(ii.ios&&e.inputState.flushIOSKey(e))return;if(ii.android&&(r.from==s.from&&r.to==s.to&&1==r.insert.length&&2==r.insert.lines&&zn(e.contentDOM,"Enter",13)||r.from==s.from-1&&r.to==s.to&&0==r.insert.length&&zn(e.contentDOM,"Backspace",8)||r.from==s.from&&r.to==s.to+1&&0==r.insert.length&&zn(e.contentDOM,"Delete",46)))return;let n,i=r.insert.toString();if(e.state.facet(zi).some((t=>t(e,r.from,r.to,i))))return;if(e.inputState.composing>=0&&e.inputState.composing++,r.from>=s.from&&r.to<=s.to&&r.to-r.from>=(s.to-s.from)/3&&(!o||o.main.empty&&o.main.from==r.from+r.insert.length)&&e.inputState.composing<0){let i=s.from<r.from?t.sliceDoc(s.from,r.from):"",o=s.to>r.to?t.sliceDoc(r.to,s.to):"";n=t.replaceSelection(e.state.toText(i+r.insert.sliceString(0,void 0,e.state.lineBreak)+o))}else{let i=t.changes(r),a=o&&!t.selection.main.eq(o.main)&&o.main.to<=i.newLength?o.main:void 0;if(t.selection.ranges.length>1&&e.inputState.composing>=0&&r.to<=s.to&&r.to>=s.to-10){let o=e.state.sliceDoc(r.from,r.to),l=kr(e)||e.state.doc.lineAt(s.head),c=s.to-r.to,h=s.to-s.from;n=t.changeByRange((n=>{if(n.from==s.from&&n.to==s.to)return{changes:i,range:a||n.map(i)};let p=n.to-c,d=p-o.length;if(n.to-n.from!=h||e.state.sliceDoc(d,p)!=o||l&&n.to>=l.from&&n.from<=l.to)return{range:n};let u=t.changes({from:d,to:p,insert:r.insert}),f=n.to-s.to;return{changes:u,range:a?Ye.range(Math.max(0,a.anchor+f),Math.max(0,a.head+f)):n.map(u)}}))}else n={changes:i,selection:a&&t.selection.replaceRange(a)}}let a="input.type";e.composing&&(a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(n,{scrollIntoView:!0,userEvent:a})}else if(o&&!o.main.eq(s)){let t=!1,n="select";e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:o,scrollIntoView:t,userEvent:n})}}class Vo{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this.root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new Qo(e.state||Bt.create()),this.plugins=this.state.facet(Gi).map((e=>new Yi(e)));for(let t of this.plugins)t.update(this);this.observer=new Fo(this,((e,t,n)=>{qo(this,e,t,n)}),(e=>{this.inputState.runScrollHandlers(this,e),this.observer.intersecting&&this.measure()})),this.inputState=new _r(this),this.docView=new wr(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(1==e.length&&e[0]instanceof Rt?e[0]:this.state.update(...e))}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,i=this.state;for(let o of e){if(o.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=o.state}if(this.destroyed)return void(this.viewState.state=i);if(i.facet(Bt.phrases)!=this.state.facet(Bt.phrases))return this.setState(i);t=new nr(this,i,e);let r=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(r&&(r=r.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;r=new Li(e.empty?e:Ye.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(Wi)?r=new Li(e.value):e.is(_i)?r=new Li(e.value,"center"):e.is(Di)&&(r=e.value)}this.viewState.update(t,r),this.bidiCache=Ko.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(er)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(Xo)!=t.state.facet(Xo)&&(this.viewState.mustMeasureContent=!0),(n||r||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let o of this.state.facet(Xi))o(t)}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new Qo(e),this.plugins=e.facet(Gi).map((e=>new Yi(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new wr(this),this.inputState.ensureHandlers(this),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Gi),n=e.state.facet(Gi);if(t!=n){let i=[];for(let r of n){let n=t.indexOf(r);if(n<0)i.push(new Yi(r));else{let t=this.plugins[n];t.mustUpdate=e,i.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let e=0;;e++){this.updateState=1;let i=this.viewport,r=this.viewState.measure(this);if(!r&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let o=[];4&r||([this.measureRequests,o]=[o,this.measureRequests]);let s=o.map((e=>{try{return e.read(this)}catch(t){return Bi(this.state,t),Jo}})),a=new nr(this,this.state),l=!1,c=!1;a.flags|=r,t?t.flags|=r:t=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),l=this.docView.update(a));for(let e=0;e<o.length;e++)if(s[e]!=Jo)try{let t=o[e];t.write&&t.write(s[e],this)}catch(n){Bi(this.state,n)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,c=!0),l&&this.docView.updateSelection(!0),this.viewport.from==i.from&&this.viewport.to==i.to&&!c&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let i of this.state.facet(Xi))i(t)}get themeClasses(){return Wo+" "+(this.state.facet(zo)?Lo:_o)+" "+this.state.facet(Xo)}updateAttrs(){let e=es(this,Hi,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ui)?"true":"false",class:"cm-content",style:`${ii.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),es(this,Ji,t),this.observer.ignore((()=>{Oi(this.contentDOM,this.contentAttrs,t),Oi(this.dom,this.editorAttrs,e)})),this.editorAttrs=e,this.contentAttrs=t}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)if(e.is(Vo.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(er),Gt.mount(this.root,this.styleModules.concat(Uo).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),e){if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}pluginField(e){let t=[];for(let n of this.plugins)n.update(this).takeField(e,t);return t}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}blockAtHeight(e,t){let n=Ho(t,this);return this.elementAtHeight(e-n).moveY(n)}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}visualLineAtHeight(e,t){let n=Ho(t,this);return this.lineBlockAtHeight(e-n).moveY(n)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}viewportLines(e,t){let n=Ho(t,this);for(let i of this.viewportLineBlocks)e(i.moveY(n))}get viewportLineBlocks(){return this.viewState.viewportLines}visualLineAt(e,t=0){return this.lineBlockAt(e).moveY(t+this.viewState.paddingTop)}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Wr(this,e,zr(this,e,t,n))}moveByGroup(e,t){return Wr(this,e,zr(this,e,t,(t=>function(e,t,n){let i=e.state.charCategorizer(t),r=i(n);return e=>{let t=i(e);return r==Wt.Space&&(r=t),r==t}}(this,e.head,t))))}moveToLineBoundary(e,t,n=!0){return function(e,t,n,i){let r=e.state.doc.lineAt(t.head),o=i&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>r.from?t.head-1:t.head):null;if(o){let t=e.dom.getBoundingClientRect(),i=e.posAtCoords({x:n==(e.textDirection==ir.LTR)?t.right-1:t.left+1,y:(o.top+o.bottom)/2});if(null!=i)return Ye.cursor(i,n?-1:1)}let s=Qi.find(e.docView,t.head),a=s?n?s.posAtEnd:s.posAtStart:n?r.to:r.from;return Ye.cursor(a,n?-1:1)}(this,e,t,n)}moveVertically(e,t,n){return Wr(this,e,function(e,t,n,i){let r=t.head,o=n?1:-1;if(r==(n?e.state.doc.length:0))return Ye.cursor(r,t.assoc);let s,a=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(r),h=e.documentTop;if(c)null==a&&(a=c.left-l.left),s=o<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(r-h);null==a&&(a=Math.min(l.right-l.left,e.defaultCharacterWidth*(r-t.from))),s=(o<0?t.top:t.bottom)+h}let p=l.left+a,d=null!=i?i:e.defaultLineHeight>>1;for(let u=0;;u+=10){let n=s+(d+u)*o,i=Er(e,{x:p,y:n},!1,o);if(n<l.top||n>l.bottom||(o<0?i<r:i>r))return Ye.cursor(i,t.assoc,void 0,a)}}(this,e,t,n))}scrollPosIntoView(e){this.dispatch({effects:Wi.of(Ye.cursor(e))})}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Er(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),r=this.bidiSpans(i);return In(n,r[dr.find(r,e-i.from,-1,t)].dir==ir.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.heightOracle.direction}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Yo)return mr(e.length);let t=this.textDirection;for(let i of this.bidiCache)if(i.from==e.from&&i.dir==t)return i.order;let n=fr(e.text,this.textDirection);return this.bidiCache.push(new Ko(e.from,e.to,t,n)),n}get hasFocus(){var e;return(document.hasFocus()||ii.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{En(this.contentDOM),this.docView.updateSelection()}))}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Di.of(new Li("number"==typeof e?Ye.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return qi.define((()=>({})),{eventHandlers:e})}static theme(e,t){let n=Gt.newName(),i=[Xo.of(n),er.of(Bo(`.${n}`,e))];return t&&t.dark&&i.push(zo.of(!0)),i}static baseTheme(e){return ut.lowest(er.of(Bo("."+Wo,e,Do)))}}Vo.scrollTo=Wi,Vo.centerOn=_i,Vo.styleModule=er,Vo.inputHandler=zi,Vo.exceptionSink=Ei,Vo.updateListener=Xi,Vo.editable=Ui,Vo.mouseSelectionStyle=ji,Vo.dragMovesSelection=Mi,Vo.clickAddsSelectionRange=Ai,Vo.decorations=Ki,Vo.darkTheme=zo,Vo.contentAttributes=Ji,Vo.editorAttributes=Hi,Vo.lineWrapping=Vo.contentAttributes.of({class:"cm-lineWrapping"}),Vo.announce=It.define();const Yo=4096;function Ho(e,t){return(null==e?t.contentDOM.getBoundingClientRect().top:e)+t.viewState.paddingTop}const Jo={};class Ko{constructor(e,t,n,i){this.from=e,this.to=t,this.dir=n,this.order=i}static update(e,t){if(t.empty)return e;let n=[],i=e.length?e[e.length-1].dir:ir.LTR;for(let r=Math.max(0,e.length-10);r<e.length;r++){let o=e[r];o.dir!=i||t.touchesRange(o.from,o.to)||n.push(new Ko(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.order))}return n}}function es(e,t,n){for(let i=e.state.facet(t),r=i.length-1;r>=0;r--){let t=i[r],o="function"==typeof t?t(e):t;o&&mi(o,n)}return n}const ts=ii.mac?"mac":ii.windows?"win":ii.linux?"linux":"key";function ns(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const is=Vo.domEventHandlers({keydown:(e,t)=>ls(ss(t.state),e,t,"editor")}),rs=et.define({enables:is}),os=new WeakMap;function ss(e){let t=e.facet(rs),n=os.get(t);return n||os.set(t,n=function(e,t=ts){let n=Object.create(null),i=Object.create(null),r=(e,t)=>{let n=i[e];if(null==n)i[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},o=(e,i,o,s)=>{let a=n[e]||(n[e]=Object.create(null)),l=i.split(/ (?!$)/).map((e=>function(e,t){const n=e.split(/-(?!$)/);let i,r,o,s,a=n[n.length-1];"Space"==a&&(a=" ");for(let l=0;l<n.length-1;++l){const e=n[l];if(/^(cmd|meta|m)$/i.test(e))s=!0;else if(/^a(lt)?$/i.test(e))i=!0;else if(/^(c|ctrl|control)$/i.test(e))r=!0;else if(/^s(hift)?$/i.test(e))o=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);"mac"==t?s=!0:r=!0}}return i&&(a="Alt-"+a),r&&(a="Ctrl-"+a),s&&(a="Meta-"+a),o&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<l.length;t++){let n=l.slice(0,t).join(" ");r(n,!0),a[n]||(a[n]={preventDefault:!0,commands:[t=>{let i=as={view:t,prefix:n,scope:e};return setTimeout((()=>{as==i&&(as=null)}),4e3),!0}]})}let c=l.join(" ");r(c,!1);let h=a[c]||(a[c]={preventDefault:!1,commands:[]});h.commands.push(o),s&&(h.preventDefault=!0)};for(let s of e){let e=s[t]||s.key;if(e)for(let t of s.scope?s.scope.split(" "):["editor"])o(t,e,s.run,s.preventDefault),s.shift&&o(t,"Shift-"+e,s.shift,s.preventDefault)}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}let as=null;function ls(e,t,n,i){let r=function(e){var t=!(xn&&(e.ctrlKey||e.altKey||e.metaKey)||On&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?fn:un)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),o=1==r.length&&" "!=r,s="",a=!1;as&&as.view==n&&as.scope==i&&(s=as.prefix+" ",(a=Dr.indexOf(t.keyCode)<0)&&(as=null));let l,c=e=>{if(e){for(let t of e.commands)if(t(n))return!0;e.preventDefault&&(a=!0)}return!1},h=e[i];if(h){if(c(h[s+ns(r,t,!o)]))return!0;if(o&&(t.shiftKey||t.altKey||t.metaKey)&&(l=un[t.keyCode])&&l!=r){if(c(h[s+ns(l,t,!0)]))return!0}else if(o&&t.shiftKey&&c(h[s+ns(r,t,!0)]))return!0}return a}const cs=!ii.ios;const hs={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};cs&&(hs[".cm-line"].caretColor="transparent !important");function ps(e,t,n,i,r){t.lastIndex=0;for(let o,s=e.iterRange(n,i),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=t.exec(s.value);)r(a+o.index,a+o.index+o[0].length,o)}class ds{constructor(e){let{regexp:t,decoration:n,boundary:i,maxLength:r=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=t,this.getDeco="function"==typeof n?n:()=>n,this.boundary=i,this.maxLength=r}createDeco(e){let t=new tn;for(let{from:n,to:i}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let i=[];for(let{from:r,to:o}of n)r=Math.max(e.state.doc.lineAt(r).from,r-t),o=Math.min(e.state.doc.lineAt(o).to,o+t),i.length&&i[i.length-1].to>=r?i[i.length-1].to=o:i.push({from:r,to:o});return i}(e,this.maxLength))ps(e.state.doc,this.regexp,n,i,((n,i,r)=>t.add(n,i,this.getDeco(r,e,n))));return t.finish()}updateDeco(e,t){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges(((t,r,o,s)=>{s>e.view.viewport.from&&o<e.view.viewport.to&&(n=Math.min(o,n),i=Math.max(s,i))})),e.viewportChanged||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),n,i):t}updateRange(e,t,n,i){for(let r of e.visibleRanges){let o=Math.max(r.from,n),s=Math.min(r.to,i);if(s>o){let n=e.state.doc.lineAt(o),i=n.to<s?e.state.doc.lineAt(s):n,a=Math.max(r.from,n.from),l=Math.min(r.to,i.to);if(this.boundary){for(;o>n.from;o--)if(this.boundary.test(n.text[o-1-n.from])){a=o;break}for(;s<i.to;s++)if(this.boundary.test(i.text[s-i.from])){l=s;break}}let c,h=[];if(n==i)for(this.regexp.lastIndex=a-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;){let t=c.index+n.from;h.push(this.getDeco(c,e,t).range(t,t+c[0].length))}else ps(e.state.doc,this.regexp,a,l,((t,n,i)=>h.push(this.getDeco(i,e,t).range(t,n))));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:h})}}return t}}const us=null!=/x/.unicode?"gu":"g",fs=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\ufeff\ufff9-\ufffc]",us),ms={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let gs=null;const Os=et.define({combine(e){let t=Ut(e,{render:null,specialChars:fs,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==gs&&"undefined"!=typeof document&&document.body){let t=document.body.style;gs=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return gs||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,us)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,us)),t}});function xs(e={}){return[Os.of(e),bs||(bs=qi.fromClass(class{constructor(e){this.view=e,this.decorations=vi.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(Os)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new ds({regexp:e.specialChars,decoration:(t,n,i)=>{let{doc:r}=n.state,o=Qe(t[0],0);if(9==o){let e=r.lineAt(i),t=n.state.tabSize,o=$e(e.text,t,i-e.from);return vi.replace({widget:new ys((t-o%t)*this.view.defaultCharacterWidth)})}return this.decorationCache[o]||(this.decorationCache[o]=vi.replace({widget:new vs(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(Os);e.startState.facet(Os)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let bs=null;class vs extends xi{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"\u2022":10==e?"\u2424":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(ms[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,t);if(i)return i;let r=document.createElement("span");return r.textContent=t,r.title=n,r.setAttribute("aria-label",n),r.className="cm-specialChar",r}ignoreEvent(){return!1}}class ys extends xi{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const ws=vi.line({class:"cm-activeLine"}),Ss=qi.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let i of e.state.selection.ranges){if(!i.empty)return vi.none;let r=e.lineBlockAt(i.head);r.from>t&&(n.push(ws.range(r.from)),t=r.from)}return vi.set(n)}},{decorations:e=>e.decorations});const ks=1024;let Ts=0;class Qs{constructor(e,t){this.from=e,this.to=t}}class Ps{constructor(e={}){this.id=Ts++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=Is.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}Ps.closedBy=new Ps({deserialize:e=>e.split(" ")}),Ps.openedBy=new Ps({deserialize:e=>e.split(" ")}),Ps.group=new Ps({deserialize:e=>e.split(" ")}),Ps.contextHash=new Ps({perNode:!0}),Ps.lookAhead=new Ps({perNode:!0}),Ps.mounted=new Ps({perNode:!0});class Cs{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}}const $s=Object.create(null);class Is{constructor(e,t,n,i=0){this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):$s,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),i=new Is(e.name||"",t,e.id,n);if(e.props)for(let r of e.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[r[0].id]=r[1]}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(Ps.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let i of n.split(" "))t[i]=e[n];return e=>{for(let n=e.prop(Ps.group),i=-1;i<(n?n.length:0);i++){let r=t[i<0?e.name:n[i]];if(r)return r}}}}Is.none=new Is("",Object.create(null),0,8);class Rs{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let i=null;for(let t of e){let e=t(n);e&&(i||(i=Object.assign({},n.props)),i[e[0].id]=e[1])}t.push(i?new Is(n.name,i,n.id,n.flags):n)}return new Rs(t)}}const As=new WeakMap,Ms=new WeakMap;class js{constructor(e,t,n,i,r){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[e,t]of r)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(Ps.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let e=n.toString();e&&(t&&(t+=","),t+=e)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e,t=0){let n=null!=e&&As.get(this)||this.topNode,i=new Zs(n);return null!=e&&(i.moveTo(e,t),As.set(this,i._tree)),i}fullCursor(){return new Zs(this.topNode,1)}get topNode(){return new Ls(this,0,0,null)}resolve(e,t=0){let n=_s(As.get(this)||this.topNode,e,t,!1);return As.set(this,n),n}resolveInner(e,t=0){let n=_s(Ms.get(this)||this.topNode,e,t,!0);return Ms.set(this,n),n}iterate(e){let{enter:t,leave:n,from:i=0,to:r=this.length}=e;for(let o=this.cursor(),s=()=>o.node;;){let e=!1;if(o.from<=r&&o.to>=i&&(o.type.isAnonymous||!1!==t(o.type,o.from,o.to,s))){if(o.firstChild())continue;o.type.isAnonymous||(e=!0)}for(;e&&n&&n(o.type,o.from,o.to,s),e=o.type.isAnonymous,!o.nextSibling();){if(!o.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:qs(Is.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new js(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new js(Is.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:i,maxBufferLength:r=ks,reused:o=[],minRepeatType:s=i.types.length}=e,a=Array.isArray(n)?new Es(n,n.length):n,l=i.types,c=0,h=0;function p(e,t,n,O,x){let{id:b,start:v,end:y,size:w}=a,S=h;for(;w<0;){if(a.next(),-1==w){let t=o[b];return n.push(t),void O.push(v-e)}if(-3==w)return void(c=b);if(-4==w)return void(h=b);throw new RangeError(`Unrecognized record size: ${w}`)}let k,T,Q=l[b],P=v-e;if(y-v<=r&&(T=m(a.pos-t,x))){let t=new Uint16Array(T.size-T.skip),n=a.pos-T.size,r=t.length;for(;a.pos>n;)r=g(T.start,t,r);k=new Xs(t,y-T.start,i),P=T.start-e}else{let e=a.pos-w;a.next();let t=[],n=[],i=b>=s?b:-1,o=0,l=y;for(;a.pos>e;)i>=0&&a.id==i&&a.size>=0?(a.end<=l-r&&(u(t,n,v,o,a.end,l,i,S),o=t.length,l=a.end),a.next()):p(v,e,t,n,i);if(i>=0&&o>0&&o<t.length&&u(t,n,v,o,v,l,i,S),t.reverse(),n.reverse(),i>-1&&o>0){let e=d(Q);k=qs(Q,t,n,0,t.length,0,y-v,e,e)}else k=f(Q,t,n,y-v,S-y)}n.push(k),O.push(P)}function d(e){return(t,n,i)=>{let r,o,s=0,a=t.length-1;if(a>=0&&(r=t[a])instanceof js){if(!a&&r.type==e&&r.length==i)return r;(o=r.prop(Ps.lookAhead))&&(s=n[a]+r.length+o)}return f(e,t,n,i,s)}}function u(e,t,n,r,o,s,a,l){let c=[],h=[];for(;e.length>r;)c.push(e.pop()),h.push(t.pop()+n-o);e.push(f(i.types[a],c,h,s-o,l-s)),t.push(o-n)}function f(e,t,n,i,r=0,o){if(c){let e=[Ps.contextHash,c];o=o?[e].concat(o):[e]}if(r>25){let e=[Ps.lookAhead,r];o=o?[e].concat(o):[e]}return new js(e,t,n,i,o)}function m(e,t){let n=a.fork(),i=0,o=0,l=0,c=n.end-r,h={size:0,start:0,skip:0};e:for(let r=n.pos-e;n.pos>r;){let e=n.size;if(n.id==t&&e>=0){h.size=i,h.start=o,h.skip=l,l+=4,i+=4,n.next();continue}let a=n.pos-e;if(e<0||a<r||n.start<c)break;let p=n.id>=s?4:0,d=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break e;p+=4}else n.id>=s&&(p+=4);n.next()}o=d,i+=e,l+=p}return(t<0||i==e)&&(h.size=i,h.start=o,h.skip=l),h.size>4?h:void 0}function g(e,t,n){let{id:i,start:r,end:o,size:l}=a;if(a.next(),l>=0&&i<s){let s=n;if(l>4){let i=a.pos-(l-4);for(;a.pos>i;)n=g(e,t,n)}t[--n]=s,t[--n]=o-e,t[--n]=r-e,t[--n]=i}else-3==l?c=i:-4==l&&(h=i);return n}let O=[],x=[];for(;a.pos>0;)p(e.start||0,e.bufferStart||0,O,x,-1);let b=null!==(t=e.length)&&void 0!==t?t:O.length?x[0]+O[0].length:0;return new js(l[e.topID],O.reverse(),x.reverse(),b)}(e)}}js.empty=new js(Is.none,[],[],0);class Es{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Es(this.buffer,this.index)}}class Xs{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return Is.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(e+=4))return r;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return r+"("+o.join(",")+")"}findChild(e,t,n,i,r){let{buffer:o}=this,s=-1;for(let a=e;a!=t&&!(zs(r,i,o[a+1],o[a+2])&&(s=a,n>0));a=o[a+3]);return s}slice(e,t,n,i){let r=this.buffer,o=new Uint16Array(t-e);for(let s=e,a=0;s<t;)o[a++]=r[s++],o[a++]=r[s++]-n,o[a++]=r[s++]-n,o[a++]=r[s++]-e;return new Xs(o,i-n,this.set)}}function zs(e,t,n,i){switch(e){case-2:return n<t;case-1:return i>=t&&n<t;case 0:return n<t&&i>t;case 1:return n<=t&&i>t;case 2:return i>t;case 4:return!0}}function Ws(e,t){let n=e.childBefore(t);for(;n;){let t=n.lastChild;if(!t||t.to!=n.to)break;t.type.isError&&t.from==t.to?(e=n,n=t.prevSibling):n=t}return e}function _s(e,t,n,i){for(var r;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!i&&e instanceof Ls&&e.index<0?null:e.parent;if(!t)return e;e=t}if(i)for(let o=e,s=o.parent;s;o=s,s=o.parent)o instanceof Ls&&o.index<0&&(null===(r=s.enter(t,n,!0))||void 0===r?void 0:r.from)!=o.from&&(e=s);for(;;){let r=e.enter(t,n,i);if(!r)return e;e=r}}class Ls{constructor(e,t,n,i){this.node=e,this._from=t,this.index=n,this._parent=i}get type(){return this.node.type}get name(){return this.node.type.name}get from(){return this._from}get to(){return this._from+this.node.length}nextChild(e,t,n,i,r=0){for(let o=this;;){for(let{children:s,positions:a}=o.node,l=t>0?s.length:-1;e!=l;e+=t){let l=s[e],c=a[e]+o._from;if(zs(i,n,c,c+l.length))if(l instanceof Xs){if(2&r)continue;let s=l.findChild(0,l.buffer.length,t,n-c,i);if(s>-1)return new Us(new Bs(o,l,e,c),null,s)}else if(1&r||!l.type.isAnonymous||Ns(l)){let s;if(!(1&r)&&l.props&&(s=l.prop(Ps.mounted))&&!s.overlay)return new Ls(s.tree,c,e,o);let a=new Ls(l,c,e,o);return 1&r||!a.type.isAnonymous?a:a.nextChild(t<0?l.children.length-1:0,t,n,i)}}if(1&r||!o.type.isAnonymous)return null;if(e=o.index>=0?o.index+t:t<0?-1:o._parent.node.children.length,o=o._parent,!o)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this.node.children.length-1,-1,e,-2)}enter(e,t,n=!0,i=!0){let r;if(n&&(r=this.node.prop(Ps.mounted))&&r.overlay){let n=e-this.from;for(let{from:e,to:i}of r.overlay)if((t>0?e<=n:e<n)&&(t<0?i>=n:i>n))return new Ls(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i?0:2)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get cursor(){return new Zs(this)}get tree(){return this.node}toTree(){return this.node}resolve(e,t=0){return _s(this,e,t,!1)}resolveInner(e,t=0){return _s(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Ws(this,e)}getChild(e,t=null,n=null){let i=Ds(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return Ds(this,e,t,n)}toString(){return this.node.toString()}}function Ds(e,t,n,i){let r=e.cursor,o=[];if(!r.firstChild())return o;if(null!=n)for(;!r.type.is(n);)if(!r.nextSibling())return o;for(;;){if(null!=i&&r.type.is(i))return o;if(r.type.is(t)&&o.push(r.node),!r.nextSibling())return null==i?o:[]}}class Bs{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class Us{constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return r<0?null:new Us(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n,i=!0){if(!i)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new Us(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Us(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Us(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get cursor(){return new Zs(this)}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let o=n.buffer[this.index+1],s=n.buffer[this.index+2];e.push(n.slice(i,r,o,s)),t.push(0)}return new js(this.type,e,t,this.to-this.from)}resolve(e,t=0){return _s(this,e,t,!1)}resolveInner(e,t=0){return _s(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Ws(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,n=null){let i=Ds(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return Ds(this,e,t,n)}}class Zs{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ls)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return!!e&&(e instanceof Ls?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree.node.children.length-1:0,e,t,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=!0,i=!0){return this.buffer?!!i&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n&&!(1&this.mode),i))}parent(){if(!this.buffer)return this.yieldNode(1&this.mode?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=1&this.mode?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(i.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=i)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let i=t+e,r=e<0?-1:n.node.children.length;i!=r;i+=e){let e=n.node.children[i];if(1&this.mode||e instanceof Xs||!e.type.isAnonymous||Ns(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,r=this.stack.length;r>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,n=r+1;break e}i=this.stack[--r]}for(let i=n;i<this.stack.length;i++)t=new Us(this.buffer,t,this.stack[i]);return this.bufferNode=new Us(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree.node}}function Ns(e){return e.children.some((e=>e instanceof Xs||!e.type.isAnonymous||Ns(e)))}const Fs=new WeakMap;function Gs(e,t){if(!e.isAnonymous||t instanceof Xs||t.type!=e)return 1;let n=Fs.get(t);if(null==n){n=1;for(let i of t.children){if(i.type!=e||!(i instanceof js)){n=1;break}n+=Gs(e,i)}Fs.set(t,n)}return n}function qs(e,t,n,i,r,o,s,a,l){let c=0;for(let u=i;u<r;u++)c+=Gs(e,t[u]);let h=Math.ceil(1.5*c/8),p=[],d=[];return function t(n,i,r,s,a){for(let c=r;c<s;){let r=c,u=i[c],f=Gs(e,n[c]);for(c++;c<s;c++){let t=Gs(e,n[c]);if(f+t>=h)break;f+=t}if(c==r+1){if(f>h){let e=n[r];t(e.children,e.positions,0,e.children.length,i[r]+a);continue}p.push(n[r])}else{let t=i[c-1]+n[c-1].length-u;p.push(qs(e,n,i,r,c,u,t,null,l))}d.push(u+a-o)}}(t,n,i,r,0),(a||l)(p,d,s)}class Vs{constructor(e,t,n,i,r=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=i,this.open=(r?1:0)|(o?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let i=[new Vs(0,e.length,e,0,!1,n)];for(let r of t)r.to>e.length&&i.push(r);return i}static applyChanges(e,t,n=128){if(!t.length)return e;let i=[],r=1,o=e.length?e[0]:null;for(let s=0,a=0,l=0;;s++){let c=s<t.length?t[s]:null,h=c?c.fromA:1e9;if(h-a>=n)for(;o&&o.from<h;){let t=o;if(a>=t.from||h<=t.to||l){let e=Math.max(t.from,a)-l,n=Math.min(t.to,h)-l;t=e>=n?null:new Vs(e,n,t.tree,t.offset+l,s>0,!!c)}if(t&&i.push(t),o.to>h)break;o=r<e.length?e[r++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return i}}class Ys{startParse(e,t,n){return"string"==typeof e&&(e=new Hs(e)),n=n?n.length?n.map((e=>new Qs(e.from,e.to))):[new Qs(0,0)]:[new Qs(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let i=this.startParse(e,t,n);for(;;){let e=i.advance();if(e)return e}}}class Hs{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}class Js{constructor(e,t,n,i,r){this.parser=e,this.parse=t,this.overlay=n,this.target=i,this.ranges=r}}class Ks{constructor(e,t,n,i,r,o,s){this.parser=e,this.predicate=t,this.mounts=n,this.index=i,this.start=r,this.target=o,this.prev=s,this.depth=0,this.ranges=[]}}const ea=new Ps({perNode:!0});class ta{constructor(e,t,n,i,r){this.nest=t,this.input=n,this.fragments=i,this.ranges=r,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let e=this.baseParse.advance();if(!e)return null;if(this.baseParse=null,this.baseTree=e,this.startInner(),null!=this.stoppedAt)for(let t of this.inner)t.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let e=this.baseTree;return null!=this.stoppedAt&&(e=new js(e.type,e.children,e.positions,e.length,e.propValues.concat([[ea,this.stoppedAt]]))),e}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let n=Object.assign(Object.create(null),e.target.props);n[Ps.mounted.id]=new Cs(t,e.overlay,e.parser),e.target.props=n}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].ranges[0].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new sa(this.fragments),t=null,n=null,i=new Zs(new Ls(this.baseTree,this.ranges[0].from,0,null),1);e:for(let r,o;null==this.stoppedAt||i.from<this.stoppedAt;){let s,a=!0;if(e.hasNode(i)){if(t){let e=t.mounts.find((e=>e.frag.from<=i.from&&e.frag.to>=i.to&&e.mount.overlay));if(e)for(let n of e.mount.overlay){let r=n.from+e.pos,o=n.to+e.pos;r>=i.from&&o<=i.to&&!t.ranges.some((e=>e.from<o&&e.to>r))&&t.ranges.push({from:r,to:o})}}a=!1}else if(n&&(o=na(n.ranges,i.from,i.to)))a=2!=o;else if(!i.type.isAnonymous&&i.from<i.to&&(r=this.nest(i,this.input))){i.tree||ra(i);let o=e.findMounts(i.from,r.parser);if("function"==typeof r.overlay)t=new Ks(r.parser,r.overlay,o,this.inner.length,i.from,i.tree,t);else{let e=aa(this.ranges,r.overlay||[new Qs(i.from,i.to)]);e.length&&this.inner.push(new Js(r.parser,r.parser.startParse(this.input,ca(o,e),e),r.overlay?r.overlay.map((e=>new Qs(e.from-i.from,e.to-i.from))):null,i.tree,e)),r.overlay?e.length&&(n={ranges:e,depth:0,prev:n}):a=!1}}else t&&(s=t.predicate(i))&&(!0===s&&(s=new Qs(i.from,i.to)),s.from<s.to&&t.ranges.push(s));if(a&&i.firstChild())t&&t.depth++,n&&n.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let e=aa(this.ranges,t.ranges);e.length&&this.inner.splice(t.index,0,new Js(t.parser,t.parser.startParse(this.input,ca(t.mounts,e),e),t.ranges.map((e=>new Qs(e.from-t.start,e.to-t.start))),t.target,e)),t=t.prev}n&&!--n.depth&&(n=n.prev)}}}}function na(e,t,n){for(let i of e){if(i.from>=n)break;if(i.to>t)return i.from<=t&&i.to>=n?2:1}return 0}function ia(e,t,n,i,r,o){if(t<n){let s=e.buffer[t+1],a=e.buffer[n-2];i.push(e.slice(t,n,s,a)),r.push(s-o)}}function ra(e){let{node:t}=e,n=0;do{e.parent(),n++}while(!e.tree);let i=0,r=e.tree,o=0;for(;o=r.positions[i]+e.from,!(o<=t.from&&o+r.children[i].length>=t.to);i++);let s=r.children[i],a=s.buffer;r.children[i]=function e(n,i,r,l,c){let h=n;for(;a[h+2]+o<=t.from;)h=a[h+3];let p=[],d=[];ia(s,n,h,p,d,l);let u=a[h+1],f=a[h+2],m=u+o==t.from&&f+o==t.to&&a[h]==t.type.id;return p.push(m?t.toTree():e(h+4,a[h+3],s.set.types[a[h]],u,f-u)),d.push(u-l),ia(s,a[h+3],i,p,d,l),new js(r,p,d,c)}(0,a.length,Is.none,0,s.length);for(let l=0;l<=n;l++)e.childAfter(t.from)}class oa{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.fullCursor()}moveTo(e){let{cursor:t}=this,n=e-this.offset;for(;!this.done&&t.from<n;)t.to>=e&&t.enter(n,1,!1,!1)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(!(t.children.length&&0==t.positions[0]&&t.children[0]instanceof js))break;t=t.children[0]}return!1}}class sa{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let n=this.curFrag=e[0];this.curTo=null!==(t=n.tree.prop(ea))&&void 0!==t?t:n.to,this.inner=new oa(n.tree,-n.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(e=t.tree.prop(ea))&&void 0!==e?e:t.to,this.inner=new oa(t.tree,-t.offset)}}findMounts(e,t){var n;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let e=this.inner.cursor.node;e;e=e.parent){let r=null===(n=e.tree)||void 0===n?void 0:n.prop(Ps.mounted);if(r&&r.parser==t)for(let t=this.fragI;t<this.fragments.length;t++){let n=this.fragments[t];if(n.from>=e.to)break;n.tree==this.curFrag.tree&&i.push({frag:n,pos:e.from-n.offset,mount:r})}}}return i}}function aa(e,t){let n=null,i=t;for(let r=1,o=0;r<e.length;r++){let s=e[r-1].to,a=e[r].from;for(;o<i.length;o++){let e=i[o];if(e.from>=a)break;e.to<=s||(n||(i=n=t.slice()),e.from<s?(n[o]=new Qs(e.from,s),e.to>a&&n.splice(o+1,0,new Qs(a,e.to))):e.to>a?n[o--]=new Qs(a,e.to):n.splice(o--,1))}}return i}function la(e,t,n,i){let r=0,o=0,s=!1,a=!1,l=-1e9,c=[];for(;;){let h=r==e.length?1e9:s?e[r].to:e[r].from,p=o==t.length?1e9:a?t[o].to:t[o].from;if(s!=a){let e=Math.max(l,n),t=Math.min(h,p,i);e<t&&c.push(new Qs(e,t))}if(l=Math.min(h,p),1e9==l)break;h==l&&(s?(s=!1,r++):s=!0),p==l&&(a?(a=!1,o++):a=!0)}return c}function ca(e,t){let n=[];for(let{pos:i,mount:r,frag:o}of e){let e=i+(r.overlay?r.overlay[0].from:0),s=e+r.tree.length,a=Math.max(o.from,e),l=Math.min(o.to,s);if(r.overlay){let s=r.overlay.map((e=>new Qs(e.from+i,e.to+i))),c=la(t,s,a,l);for(let t=0,i=a;;t++){let s=t==c.length,a=s?l:c[t].from;if(a>i&&n.push(new Vs(i,a,r.tree,-e,o.from>=i,o.to<=a)),s)break;i=c[t].to}}else n.push(new Vs(a,l,r.tree,-e,o.from>=e,o.to<=s))}return n}var ha;const pa=new Ps;class da{constructor(e,t,n,i=[]){this.data=e,this.topNode=n,Bt.prototype.hasOwnProperty("tree")||Object.defineProperty(Bt.prototype,"tree",{get(){return ma(this)}}),this.parser=t,this.extension=[ka.of(this),Bt.languageData.of(((e,t,n)=>e.facet(ua(e,t,n))))].concat(i)}isActiveAt(e,t,n=-1){return ua(e,t,n)==this.data}findRegions(e){let t=e.facet(ka);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],i=(e,t)=>{if(e.prop(pa)==this.data)return void n.push({from:t,to:t+e.length});let r=e.prop(Ps.mounted);if(r){if(r.tree.prop(pa)==this.data){if(r.overlay)for(let e of r.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(r.overlay){let e=n.length;if(i(r.tree,r.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let r=e.children[n];r instanceof js&&i(r,e.positions[n]+t)}};return i(ma(e),0),n}get allowsNesting(){return!0}}function ua(e,t,n){let i=e.facet(ka);if(!i)return null;let r=i.data;if(i.allowsNesting)for(let o=ma(e).topNode;o;o=o.enter(t,n,!0,!1))r=o.type.prop(pa)||r;return r}da.setState=It.define();class fa extends da{constructor(e,t){super(e,t,t.topNode),this.parser=t}static define(e){let t=(n=e.languageData,et.define({combine:n?e=>e.concat(n):void 0}));var n;return new fa(t,e.parser.configure({props:[pa.add((e=>e.isTop?t:void 0))]}))}configure(e){return new fa(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.wrappers.length>0}}function ma(e){let t=e.field(da.state,!1);return t?t.tree:js.empty}class ga{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Oa=null;class xa{constructor(e,t,n=[],i,r,o,s,a){this.parser=e,this.state=t,this.fragments=n,this.tree=i,this.treeLen=r,this.viewport=o,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}startParse(){return this.parser.startParse(new ga(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=js.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(Vs.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Vs.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Oa;Oa=this;try{return e()}finally{Oa=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=ba(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:i,treeLen:r,viewport:o,skipped:s}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,i,r)=>t.push({fromA:e,toA:n,fromB:i,toB:r}))),n=Vs.applyChanges(n,t),i=js.empty,r=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){s=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);n<i&&s.push({from:n,to:i})}}}return new xa(this.parser,t,n,i,r,o,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:t,to:i}=this.skipped[n];t<e.to&&i>e.from&&(this.fragments=ba(this.fragments,t,i),this.skipped.splice(n--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Ys{createParse(t,n,i){let r=i[0].from,o=i[i.length-1].to,s={parsedPos:r,advance(){let t=Oa;if(t){for(let e of i)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new js(Is.none,[],[],o-r)},stoppedAt:null,stopAt(){}};return s}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return Oa}}function ba(e,t,n){return Vs.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class va{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new va(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=new xa(e.facet(ka).parser,e,[],js.empty,0,{from:0,to:t},[],null);return n.work(20,t)||n.takeTree(),new va(n)}}da.state=st.define({create:va.init,update(e,t){for(let n of t.effects)if(n.is(da.setState))return n.value;return t.startState.facet(ka)!=t.state.facet(ka)?va.init(t.state):e.apply(t)}});let ya=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(ya=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const wa="undefined"!=typeof navigator&&(null===(ha=navigator.scheduling)||void 0===ha?void 0:ha.isInputPending)?()=>navigator.scheduling.isInputPending():null,Sa=qi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(da.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(da.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=ya(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,r=n.field(da.state);if(r.tree==r.context.tree&&r.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!wa?Math.max(25,e.timeRemaining()-5):1e9),s=r.context.treeLen<i&&n.doc.length>i+1e3,a=r.context.work((()=>wa&&wa()||Date.now()>o),i+(s?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:da.setState.of(new va(r.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>Bi(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ka=et.define({combine:e=>e.length?e[0]:null,enables:[da.state,Sa]});class Ta{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const Qa=et.define(),Pa=et.define({combine:e=>{if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function Ca(e){let t=e.facet(Pa);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function $a(e,t){let n="",i=e.tabSize;if(9==e.facet(Pa).charCodeAt(0))for(;t>=i;)n+="\t",t-=i;for(let r=0;r<t;r++)n+=" ";return n}function Ia(e,t){e instanceof Bt&&(e=new Ra(e));for(let i of e.state.facet(Qa)){let n=i(e,t);if(null!=n)return n}let n=ma(e.state);return n?function(e,t,n){return ja(t.resolveInner(n).enterUnfinishedNodesBefore(n),n,e)}(e,n,t):null}class Ra{constructor(e,t={}){this.state=e,this.options=t,this.unit=Ca(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:r}=this.options;return null!=i&&i>=n.from&&i<=n.to?r&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,t);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,t=1){let{text:n,from:i}=this.lineAt(e,t),r=this.countColumn(n,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(r+=o-this.countColumn(n,n.search(/\S|$/))),r}countColumn(e,t=e.length){return $e(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:i}=this.lineAt(e,t),r=this.options.overrideIndentation;if(r){let e=r(i);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Aa=new Ps;function Ma(e){let t=e.type.prop(Aa);if(t)return t;let n,i=e.firstChild;if(i&&(n=i.type.prop(Ps.closedBy))){let t=e.lastChild,i=t&&n.indexOf(t.name)>-1;return e=>_a(e,!0,1,void 0,i&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?Ea:null}function ja(e,t,n){for(;e;e=e.parent){let i=Ma(e);if(i)return i(new Xa(n,t,e))}return null}function Ea(){return 0}class Xa extends Ra{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.node=n}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(za(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?ja(e,this.pos,this.base):0}}function za(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function Wa({closing:e,align:t=!0,units:n=1}){return i=>_a(i,t,n,e)}function _a(e,t,n,i,r){let o=e.textAfter,s=o.match(/^\s*/)[0].length,a=i&&o.slice(s,s+i.length)==i||r==e.pos+s,l=t?function(e){let t=e.node,n=t.childAfter(t.from),i=t.lastChild;if(!n)return null;let r=e.options.simulateBreak,o=e.state.doc.lineAt(n.from),s=null==r||r<=o.from?o.to:Math.min(o.to,r);for(let a=n.to;;){let e=t.childAfter(a);if(!e||e==i)return null;if(!e.type.isSkipped)return e.from<s?n:null;a=e.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}function La({except:e,units:t=1}={}){return n=>{let i=e&&e.test(n.textAfter);return n.baseIndent+(i?0:t*n.unit)}}const Da=new Ps;function Ba(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}const Ua={brackets:["(","[","{","'",'"'],before:")]}:;>"},Za=It.define({map(e,t){let n=t.mapPos(e,-1,Le.TrackAfter);return null==n?void 0:n}}),Na=It.define({map:(e,t)=>t.mapPos(e)}),Fa=new class extends Yt{};Fa.startSide=1,Fa.endSide=-1;const Ga=st.define({create:()=>en.empty,update(e,t){if(t.selection){let n=t.state.doc.lineAt(t.selection.main.head).from,i=t.startState.doc.lineAt(t.startState.selection.main.head).from;n!=t.changes.mapPos(i,-1)&&(e=en.empty)}e=e.map(t.changes);for(let n of t.effects)n.is(Za)?e=e.update({add:[Fa.range(n.value,n.value+1)]}):n.is(Na)&&(e=e.update({filter:e=>e!=n.value}));return e}});const qa="()[]{}<>";function Va(e){for(let t=0;t<qa.length;t+=2)if(qa.charCodeAt(t)==e)return qa.charAt(t+1);return Pe(e<128?e:e+1)}function Ya(e,t){return e.languageDataAt("closeBrackets",t)[0]||Ua}const Ha="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Ja=Vo.inputHandler.of(((e,t,n,i)=>{if((Ha?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let r=e.state.selection.main;if(i.length>2||2==i.length&&1==Ce(Qe(i,0))||t!=r.from||n!=r.to)return!1;let o=function(e,t){let n=Ya(e,e.selection.main.head),i=n.brackets||Ua.brackets;for(let r of i){let o=Va(Qe(r,0));if(t==r)return o==r?rl(e,r,i.indexOf(r+r+r)>-1):nl(e,r,o,n.before||Ua.before);if(t==o&&el(e,e.selection.main.from))return il(e,r,o)}return null}(e.state,i);return!!o&&(e.dispatch(o),!0)})),Ka=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Ya(e,e.selection.main.head).brackets||Ua.brackets,i=null,r=e.changeByRange((t=>{if(t.empty){let i=function(e,t){let n=e.sliceString(t-2,t);return Ce(Qe(n,0))==n.length?n:n.slice(1)}(e.doc,t.head);for(let r of n)if(r==i&&tl(e.doc,t.head)==Va(Qe(r,0)))return{changes:{from:t.head-r.length,to:t.head+r.length},range:Ye.cursor(t.head-r.length),userEvent:"delete.backward"}}return{range:i=t}}));return i||t(e.update(r,{scrollIntoView:!0})),!i}}];function el(e,t){let n=!1;return e.field(Ga).between(0,e.doc.length,(e=>{e==t&&(n=!0)})),n}function tl(e,t){let n=e.sliceString(t,t+2);return n.slice(0,Ce(Qe(n,0)))}function nl(e,t,n,i){let r=null,o=e.changeByRange((o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:n,from:o.to}],effects:Za.of(o.to+t.length),range:Ye.range(o.anchor+t.length,o.head+t.length)};let s=tl(e.doc,o.head);return!s||/\s/.test(s)||i.indexOf(s)>-1?{changes:{insert:t+n,from:o.head},effects:Za.of(o.head+t.length),range:Ye.cursor(o.head+t.length)}:{range:r=o}}));return r?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function il(e,t,n){let i=null,r=e.selection.ranges.map((t=>t.empty&&tl(e.doc,t.head)==n?Ye.cursor(t.head+n.length):i=t));return i?null:e.update({selection:Ye.create(r,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((({from:e})=>Na.of(e)))})}function rl(e,t,n){let i=null,r=e.changeByRange((r=>{if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:Za.of(r.to+t.length),range:Ye.range(r.anchor+t.length,r.head+t.length)};let o=r.head,s=tl(e.doc,o);if(s==t){if(ol(e,o))return{changes:{insert:t+t,from:o},effects:Za.of(o+t.length),range:Ye.cursor(o+t.length)};if(el(e,o)){let i=n&&e.sliceDoc(o,o+3*t.length)==t+t+t;return{range:Ye.cursor(o+t.length*(i?3:1)),effects:Na.of(o)}}}else{if(n&&e.sliceDoc(o-2*t.length,o)==t+t&&ol(e,o-2*t.length))return{changes:{insert:t+t+t+t,from:o},effects:Za.of(o+t.length),range:Ye.cursor(o+t.length)};if(e.charCategorizer(o)(s)!=Wt.Word){let n=e.sliceDoc(o-1,o);if(n!=t&&e.charCategorizer(o)(n)!=Wt.Word&&!function(e,t,n){let i=ma(e).resolveInner(t,-1);for(let r=0;r<5;r++){if(e.sliceDoc(i.from,i.from+n.length)==n)return!0;let r=i.to==t&&i.parent;if(!r)break;i=r}return!1}(e,o,t))return{changes:{insert:t+t,from:o},effects:Za.of(o+t.length),range:Ye.cursor(o+t.length)}}}return{range:i=r}}));return i?null:e.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function ol(e,t){let n=ma(e).resolveInner(t+1);return n.parent&&n.from==t}const sl=Vo.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),al="()[]{}",ll=et.define({combine:e=>Ut(e,{afterCursor:!0,brackets:al,maxScanDistance:1e4})}),cl=vi.mark({class:"cm-matchingBracket"}),hl=vi.mark({class:"cm-nonmatchingBracket"}),pl=st.define({create:()=>vi.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],i=t.state.facet(ll);for(let r of t.state.selection.ranges){if(!r.empty)continue;let e=fl(t.state,r.head,-1,i)||r.head>0&&fl(t.state,r.head-1,1,i)||i.afterCursor&&(fl(t.state,r.head,1,i)||r.head<t.state.doc.length&&fl(t.state,r.head+1,-1,i));if(!e)continue;let o=e.matched?cl:hl;n.push(o.range(e.start.from,e.start.to)),e.end&&n.push(o.range(e.end.from,e.end.to))}return vi.set(n,!0)},provide:e=>Vo.decorations.from(e)}),dl=[pl,sl];function ul(e,t,n){let i=e.prop(t<0?Ps.openedBy:Ps.closedBy);if(i)return i;if(1==e.name.length){let i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function fl(e,t,n,i={}){let r=i.maxScanDistance||1e4,o=i.brackets||al,s=ma(e),a=s.resolveInner(t,n);for(let l=a;l;l=l.parent){let i=ul(l.type,n,o);if(i&&l.from<l.to)return ml(e,t,n,l,i,o)}return function(e,t,n,i,r,o,s){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},h=e.doc.iterRange(t,n>0?e.doc.length:0),p=0;for(let d=0;!h.next().done&&d<=o;){let e=h.value;n<0&&(d+=e.length);let o=t+d*n;for(let t=n>0?0:e.length-1,a=n>0?e.length:-1;t!=a;t+=n){let a=s.indexOf(e[t]);if(!(a<0||i.resolve(o+t,1).type!=r))if(a%2==0==n>0)p++;else{if(1==p)return{start:c,end:{from:o+t,to:o+t+1},matched:a>>1==l>>1};p--}}n>0&&(d+=e.length)}return h.done?{start:c,matched:!1}:null}(e,t,n,s,a.type,r,o)}function ml(e,t,n,i,r,o){let s=i.parent,a={from:i.from,to:i.to},l=0,c=null==s?void 0:s.cursor;if(c&&(n<0?c.childBefore(i.from):c.childAfter(i.to)))do{if(n<0?c.to<=i.from:c.from>=i.to){if(0==l&&r.indexOf(c.type.name)>-1&&c.from<c.to)return{start:a,end:{from:c.from,to:c.to},matched:!0};if(ul(c.type,n,o))l++;else if(ul(c.type,-n,o)&&(l--,0==l))return{start:a,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1}}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}function gl(e,t){return Ye.create(e.ranges.map(t),e.mainIndex)}function Ol(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function xl({state:e,dispatch:t},n){let i=gl(e.selection,n);return!i.eq(e.selection)&&(t(Ol(e,i)),!0)}function bl(e,t){return Ye.cursor(t?e.to:e.from)}function vl(e,t){return xl(e,(n=>n.empty?e.moveByChar(n,t):bl(n,t)))}const yl=e=>vl(e,e.textDirection!=ir.LTR),wl=e=>vl(e,e.textDirection==ir.LTR);function Sl(e,t){return xl(e,(n=>n.empty?e.moveByGroup(n,t):bl(n,t)))}function kl(e,t,n){if(t.type.prop(n))return!0;let i=t.to-t.from;return i&&(i>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Tl(e,t,n){let i,r,o=ma(e).resolveInner(t.head),s=n?Ps.closedBy:Ps.openedBy;for(let a=t.head;;){let t=n?o.childAfter(a):o.childBefore(a);if(!t)break;kl(e,t,s)?o=t:a=n?t.to:t.from}return r=o.type.prop(s)&&(i=n?fl(e,o.from,1):fl(e,o.to,-1))&&i.matched?n?i.end.to:i.end.from:n?o.to:o.from,Ye.cursor(r,n?-1:1)}function Ql(e,t){return xl(e,(n=>{if(!n.empty)return bl(n,t);let i=e.moveVertically(n,t);return i.head!=n.head?i:e.moveToLineBoundary(n,t)}))}const Pl=e=>Ql(e,!1),Cl=e=>Ql(e,!0);function $l(e,t){let{state:n}=e,i=gl(n.selection,(n=>n.empty?e.moveVertically(n,t,e.dom.clientHeight):bl(n,t)));if(i.eq(n.selection))return!1;let r=e.coordsAtPos(n.selection.main.head),o=e.scrollDOM.getBoundingClientRect();return e.dispatch(Ol(n,i),{effects:r&&r.top>o.top&&r.bottom<o.bottom?Vo.scrollIntoView(i.main.head,{y:"start",yMargin:r.top-o.top}):void 0}),!0}const Il=e=>$l(e,!1),Rl=e=>$l(e,!0);function Al(e,t,n){let i=e.lineBlockAt(t.head),r=e.moveToLineBoundary(t,n);if(r.head==t.head&&r.head!=(n?i.to:i.from)&&(r=e.moveToLineBoundary(t,n,!1)),!n&&r.head==i.from&&i.length){let n=/^\s*/.exec(e.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;n&&t.head!=i.from+n&&(r=Ye.cursor(i.from+n))}return r}const Ml=e=>xl(e,(t=>Al(e,t,!0))),jl=e=>xl(e,(t=>Al(e,t,!1)));function El(e,t,n){let i=!1,r=gl(e.selection,(t=>{let r=fl(e,t.head,-1)||fl(e,t.head,1)||t.head>0&&fl(e,t.head-1,1)||t.head<e.doc.length&&fl(e,t.head+1,-1);if(!r||!r.end)return t;i=!0;let o=r.start.from==t.head?r.end.to:r.end.from;return n?Ye.range(t.anchor,o):Ye.cursor(o)}));return!!i&&(t(Ol(e,r)),!0)}function Xl(e,t){let n=gl(e.state.selection,(e=>{let n=t(e);return Ye.range(e.anchor,n.head,n.goalColumn)}));return!n.eq(e.state.selection)&&(e.dispatch(Ol(e.state,n)),!0)}function zl(e,t){return Xl(e,(n=>e.moveByChar(n,t)))}const Wl=e=>zl(e,e.textDirection!=ir.LTR),_l=e=>zl(e,e.textDirection==ir.LTR);function Ll(e,t){return Xl(e,(n=>e.moveByGroup(n,t)))}function Dl(e,t){return Xl(e,(n=>e.moveVertically(n,t)))}const Bl=e=>Dl(e,!1),Ul=e=>Dl(e,!0);function Zl(e,t){return Xl(e,(n=>e.moveVertically(n,t,e.dom.clientHeight)))}const Nl=e=>Zl(e,!1),Fl=e=>Zl(e,!0),Gl=e=>Xl(e,(t=>Al(e,t,!0))),ql=e=>Xl(e,(t=>Al(e,t,!1))),Vl=({state:e,dispatch:t})=>(t(Ol(e,{anchor:0})),!0),Yl=({state:e,dispatch:t})=>(t(Ol(e,{anchor:e.doc.length})),!0),Hl=({state:e,dispatch:t})=>(t(Ol(e,{anchor:e.selection.main.anchor,head:0})),!0),Jl=({state:e,dispatch:t})=>(t(Ol(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function Kl({state:e,dispatch:t},n){if(e.readOnly)return!1;let i="delete.selection",r=e.changeByRange((e=>{let{from:t,to:r}=e;if(t==r){let e=n(t);e<t?i="delete.backward":e>t&&(i="delete.forward"),t=Math.min(t,e),r=Math.max(r,e)}return t==r?{range:e}:{changes:{from:t,to:r},range:Ye.cursor(t)}}));return!r.changes.empty&&(t(e.update(r,{scrollIntoView:!0,userEvent:i})),!0)}function ec(e,t,n){if(e instanceof Vo)for(let i of e.pluginField(Ni.atomicRanges))i.between(t,t,((e,i)=>{e<t&&i>t&&(t=n?i:e)}));return t}const tc=(e,t)=>Kl(e,(n=>{let i,r,{state:o}=e,s=o.doc.lineAt(n);if(!t&&n>s.from&&n<s.from+200&&!/[^ \t]/.test(i=s.text.slice(0,n-s.from))){if("\t"==i[i.length-1])return n-1;let e=$e(i,o.tabSize)%Ca(o)||Ca(o);for(let t=0;t<e&&" "==i[i.length-1-t];t++)n--;r=n}else r=ye(s.text,n-s.from,t,t)+s.from,r==n&&s.number!=(t?o.doc.lines:1)&&(r+=t?1:-1);return ec(e,r,t)})),nc=e=>tc(e,!1),ic=e=>tc(e,!0),rc=(e,t)=>Kl(e,(n=>{let i=n,{state:r}=e,o=r.doc.lineAt(i),s=r.charCategorizer(i);for(let e=null;;){if(i==(t?o.to:o.from)){i==n&&o.number!=(t?r.doc.lines:1)&&(i+=t?1:-1);break}let a=ye(o.text,i-o.from,t)+o.from,l=o.text.slice(Math.min(i,a)-o.from,Math.max(i,a)-o.from),c=s(l);if(null!=e&&c!=e)break;" "==l&&i==n||(e=c),i=a}return ec(e,i,t)})),oc=e=>rc(e,!1),sc=e=>Kl(e,(t=>{let n=e.lineBlockAt(t).to;return ec(e,t<n?n:Math.min(e.state.doc.length,t+1),!0)}));function ac(e){let t=[],n=-1;for(let i of e.selection.ranges){let r=e.doc.lineAt(i.from),o=e.doc.lineAt(i.to);if(i.empty||i.to!=o.from||(o=e.doc.lineAt(i.to-1)),n>=r.number){let e=t[t.length-1];e.to=o.to,e.ranges.push(i)}else t.push({from:r.from,to:o.to,ranges:[i]});n=o.number+1}return t}function lc(e,t,n){if(e.readOnly)return!1;let i=[],r=[];for(let o of ac(e)){if(n?o.to==e.doc.length:0==o.from)continue;let t=e.doc.lineAt(n?o.to+1:o.from-1),s=t.length+1;if(n){i.push({from:o.to,to:t.to},{from:o.from,insert:t.text+e.lineBreak});for(let t of o.ranges)r.push(Ye.range(Math.min(e.doc.length,t.anchor+s),Math.min(e.doc.length,t.head+s)))}else{i.push({from:t.from,to:o.from},{from:o.to,insert:e.lineBreak+t.text});for(let e of o.ranges)r.push(Ye.range(e.anchor-s,e.head-s))}}return!!i.length&&(t(e.update({changes:i,scrollIntoView:!0,selection:Ye.create(r,e.selection.mainIndex),userEvent:"move.line"})),!0)}function cc(e,t,n){if(e.readOnly)return!1;let i=[];for(let r of ac(e))n?i.push({from:r.from,insert:e.doc.slice(r.from,r.to)+e.lineBreak}):i.push({from:r.to,insert:e.lineBreak+e.doc.slice(r.from,r.to)});return t(e.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const hc=dc(!1),pc=dc(!0);function dc(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=t.changeByRange((n=>{let{from:i,to:r}=n,o=t.doc.lineAt(i),s=!e&&i==r&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,i=ma(e).resolveInner(t),r=i.childBefore(t),o=i.childAfter(t);return r&&o&&r.to<=t&&o.from>=t&&(n=r.type.prop(Ps.closedBy))&&n.indexOf(o.name)>-1&&e.doc.lineAt(r.to).from==e.doc.lineAt(o.from).from?{from:r.to,to:o.from}:null}(t,i);e&&(i=r=(r<=o.to?o:t.doc.lineAt(r)).to);let a=new Ra(t,{simulateBreak:i,simulateDoubleBreak:!!s}),l=Ia(a,i);for(null==l&&(l=/^\s*/.exec(t.doc.lineAt(i).text)[0].length);r<o.to&&/\s/.test(o.text[r-o.from]);)r++;s?({from:i,to:r}=s):i>o.from&&i<o.from+100&&!/\S/.test(o.text.slice(0,i))&&(i=o.from);let c=["",$a(t,l)];return s&&c.push($a(t,a.lineIndent(o.from,-1))),{changes:{from:i,to:r,insert:Ie.of(c)},range:Ye.cursor(i+1+c[1].length)}}));return n(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function uc(e,t){let n=-1;return e.changeByRange((i=>{let r=[];for(let s=i.from;s<=i.to;){let o=e.doc.lineAt(s);o.number>n&&(i.empty||i.to>o.from)&&(t(o,r,i),n=o.number),s=o.to+1}let o=e.changes(r);return{changes:r,range:Ye.range(o.mapPos(i.anchor,1),o.mapPos(i.head,1))}}))}const fc=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(uc(e,((t,n)=>{n.push({from:t.from,insert:e.facet(Pa)})})),{userEvent:"input.indent"})),!0),mc=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(uc(e,((t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let r=$e(i,e.tabSize),o=0,s=$a(e,Math.max(0,r-Ca(e)));for(;o<i.length&&o<s.length&&i.charCodeAt(o)==s.charCodeAt(o);)o++;n.push({from:t.from+o,to:t.from+i.length,insert:s.slice(o)})})),{userEvent:"delete.dedent"})),!0),gc=[{key:"ArrowLeft",run:yl,shift:Wl,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>Sl(e,e.textDirection!=ir.LTR),shift:e=>Ll(e,e.textDirection!=ir.LTR)},{mac:"Cmd-ArrowLeft",run:jl,shift:ql},{key:"ArrowRight",run:wl,shift:_l,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>Sl(e,e.textDirection==ir.LTR),shift:e=>Ll(e,e.textDirection==ir.LTR)},{mac:"Cmd-ArrowRight",run:Ml,shift:Gl},{key:"ArrowUp",run:Pl,shift:Bl,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Vl,shift:Hl},{mac:"Ctrl-ArrowUp",run:Il,shift:Nl},{key:"ArrowDown",run:Cl,shift:Ul,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Yl,shift:Jl},{mac:"Ctrl-ArrowDown",run:Rl,shift:Fl},{key:"PageUp",run:Il,shift:Nl},{key:"PageDown",run:Rl,shift:Fl},{key:"Home",run:jl,shift:ql},{key:"Mod-Home",run:Vl,shift:Hl},{key:"End",run:Ml,shift:Gl},{key:"Mod-End",run:Yl,shift:Jl},{key:"Enter",run:hc},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:nc,shift:nc},{key:"Delete",run:ic},{key:"Mod-Backspace",mac:"Alt-Backspace",run:oc},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>rc(e,!0)},{mac:"Mod-Backspace",run:e=>Kl(e,(t=>{let n=e.lineBlockAt(t).from;return ec(e,t>n?n:Math.max(0,t-1),!1)}))},{mac:"Mod-Delete",run:sc}].concat([{key:"Ctrl-b",run:yl,shift:Wl,preventDefault:!0},{key:"Ctrl-f",run:wl,shift:_l},{key:"Ctrl-p",run:Pl,shift:Bl},{key:"Ctrl-n",run:Cl,shift:Ul},{key:"Ctrl-a",run:e=>xl(e,(t=>Ye.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>Xl(e,(t=>Ye.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>xl(e,(t=>Ye.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>Xl(e,(t=>Ye.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:ic},{key:"Ctrl-h",run:nc},{key:"Ctrl-k",run:sc},{key:"Ctrl-Alt-h",run:oc},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:Ie.of(["",""])},range:Ye.cursor(e.from)})));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,i=e.doc.lineAt(n),r=n==i.from?n-1:ye(i.text,n-i.from,!1)+i.from,o=n==i.to?n+1:ye(i.text,n-i.from,!0)+i.from;return{changes:{from:r,to:o,insert:e.doc.slice(n,o).append(e.doc.slice(r,n))},range:Ye.cursor(o)}}));return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Rl}].map((e=>({mac:e.key,run:e.run,shift:e.shift})))),Oc=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>xl(e,(t=>Tl(e.state,t,e.textDirection!=ir.LTR))),shift:e=>Xl(e,(t=>Tl(e.state,t,e.textDirection!=ir.LTR)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>xl(e,(t=>Tl(e.state,t,e.textDirection==ir.LTR))),shift:e=>Xl(e,(t=>Tl(e.state,t,e.textDirection==ir.LTR)))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>lc(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>cc(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>lc(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>cc(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let n=e.selection,i=null;return n.ranges.length>1?i=Ye.create([n.main]):n.main.empty||(i=Ye.create([Ye.cursor(n.main.head)])),!!i&&(t(Ol(e,i)),!0)}},{key:"Mod-Enter",run:pc},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let n=ac(e).map((({from:t,to:n})=>Ye.range(t,Math.min(n+1,e.doc.length))));return t(e.update({selection:Ye.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let n=gl(e.selection,(t=>{var n;let i=ma(e).resolveInner(t.head,1);for(;!(i.from<t.from&&i.to>=t.to||i.to>t.to&&i.from<=t.from)&&(null===(n=i.parent)||void 0===n?void 0:n.parent);)i=i.parent;return Ye.range(i.to,i.from)}));return t(Ol(e,n)),!0},preventDefault:!0},{key:"Mod-[",run:mc},{key:"Mod-]",run:fc},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),i=new Ra(e,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),r=uc(e,((t,r,o)=>{let s=Ia(i,t.from);if(null==s)return;/\S/.test(t.text)||(s=0);let a=/^\s*/.exec(t.text)[0],l=$a(e,s);(a!=l||o.from<t.from+a.length)&&(n[t.from]=s,r.push({from:t.from,to:t.from+a.length,insert:l}))}));return r.changes.empty||t(e.update(r,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(ac(t).map((({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n})))),i=gl(t.selection,(t=>e.moveVertically(t,!0))).map(n);return e.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>El(e,t,!1)}].concat(gc);function xc(e,t){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let r=e(t,n);return!!r&&(i(n.update(r)),!0)}}const bc=xc(Tc,0),vc=xc(kc,0),yc=xc(((e,t)=>kc(e,t,function(e){let t=[];for(let n of e.selection.ranges){let i=e.doc.lineAt(n.from),r=n.to<=i.to?i:e.doc.lineAt(n.to),o=t.length-1;o>=0&&t[o].to>i.from?t[o].to=r.to:t.push({from:i.from,to:r.to})}return t}(t))),0),wc=[{key:"Mod-/",run:e=>{let t=Sc(e.state);return t.line?bc(e):!!t.block&&yc(e)}},{key:"Alt-A",run:vc}];function Sc(e,t=e.selection.main.head){let n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}function kc(e,t,n=t.selection.ranges){let i=n.map((e=>Sc(t,e.from).block));if(!i.every((e=>e)))return null;let r=n.map(((e,n)=>function(e,{open:t,close:n},i,r){let o,s,a=e.sliceDoc(i-50,i),l=e.sliceDoc(r,r+50),c=/\s*$/.exec(a)[0].length,h=/^\s*/.exec(l)[0].length,p=a.length-c;if(a.slice(p-t.length,p)==t&&l.slice(h,h+n.length)==n)return{open:{pos:i-c,margin:c&&1},close:{pos:r+h,margin:h&&1}};r-i<=100?o=s=e.sliceDoc(i,r):(o=e.sliceDoc(i,i+50),s=e.sliceDoc(r-50,r));let d=/^\s*/.exec(o)[0].length,u=/\s*$/.exec(s)[0].length,f=s.length-u-n.length;return o.slice(d,d+t.length)==t&&s.slice(f,f+n.length)==n?{open:{pos:i+d+t.length,margin:/\s/.test(o.charAt(d+t.length))?1:0},close:{pos:r-u-n.length,margin:/\s/.test(s.charAt(f-1))?1:0}}:null}(t,i[n],e.from,e.to)));if(2!=e&&!r.every((e=>e)))return{changes:t.changes(n.map(((e,t)=>r[t]?[]:[{from:e.from,insert:i[t].open+" "},{from:e.to,insert:" "+i[t].close}])))};if(1!=e&&r.some((e=>e))){let e=[];for(let t,n=0;n<r.length;n++)if(t=r[n]){let r=i[n],{open:o,close:s}=t;e.push({from:o.pos-r.open.length,to:o.pos+o.margin},{from:s.pos-s.margin,to:s.pos+r.close.length})}return{changes:e}}return null}function Tc(e,t,n=t.selection.ranges){let i=[],r=-1;for(let{from:o,to:s}of n){let e=i.length,n=1e9;for(let a=o;a<=s;){let e=t.doc.lineAt(a);if(e.from>r&&(o==s||s>e.from)){r=e.from;let o=Sc(t,a).line;if(!o)continue;let s=/^\s*/.exec(e.text)[0].length,l=s==e.length,c=e.text.slice(s,s+o.length)==o?s:-1;s<e.text.length&&s<n&&(n=s),i.push({line:e,comment:c,token:o,indent:s,empty:l,single:!1})}a=e.to+1}if(n<1e9)for(let t=e;t<i.length;t++)i[t].indent<i[t].line.text.length&&(i[t].indent=n);i.length==e+1&&(i[e].single=!0)}if(2!=e&&i.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:r,indent:o,empty:s,single:a}of i)!a&&s||e.push({from:t.from+o,insert:r+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&i.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:n,token:r}of i)if(n>=0){let i=t.from+n,o=i+r.length;" "==t.text[o-t.from]&&o++,e.push({from:i,to:o})}return{changes:e}}return null}class Qc extends Yt{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Qc.prototype.elementClass="",Qc.prototype.toDOM=void 0,Qc.prototype.mapMode=Le.TrackBefore,Qc.prototype.startSide=Qc.prototype.endSide=-1,Qc.prototype.point=!0;const Pc=et.define(),Cc=et.define();const $c=Vo.baseTheme({".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"}}),Ic=et.define({combine:e=>e.some((e=>e))});function Rc(e){let t=[Ac,$c];return e&&!1===e.fixed&&t.push(Ic.of(!0)),t}const Ac=qi.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(Cc).map((t=>new Xc(e,t)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!e.state.facet(Ic),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,i=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(i<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Ic)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=en.iter(this.view.state.facet(Pc),this.view.viewport.from),i=[],r=this.gutters.map((e=>new Ec(e,this.view.viewport,-this.view.documentPadding.top)));for(let o of this.view.viewportLineBlocks){let e;if(Array.isArray(o.type)){for(let t of o.type)if(t.type==bi.Text){e=t;break}}else e=o.type==bi.Text?o:void 0;if(e){i.length&&(i=[]),jc(n,i,o.from);for(let t of r)t.line(this.view,e,i)}}for(let o of r)o.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(Cc),n=e.state.facet(Cc),i=e.docChanged||e.heightChanged||e.viewportChanged||!en.eq(e.startState.facet(Pc),e.state.facet(Pc),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let r of this.gutters)r.update(e)&&(i=!0);else{i=!0;let r=[];for(let i of n){let n=t.indexOf(i);n<0?r.push(new Xc(this.view,i)):(this.gutters[n].update(e),r.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),r.indexOf(e)<0&&e.destroy();for(let e of r)this.dom.appendChild(e.dom);this.gutters=r}return i}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:Ni.scrollMargins.from((e=>0!=e.gutters.length&&e.fixed?e.view.textDirection==ir.LTR?{left:e.dom.offsetWidth}:{right:e.dom.offsetWidth}:null))});function Mc(e){return Array.isArray(e)?e:[e]}function jc(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class Ec{constructor(e,t,n){this.gutter=e,this.height=n,this.localMarkers=[],this.i=0,this.cursor=en.iter(e.markers,t.from)}line(e,t,n){this.localMarkers.length&&(this.localMarkers=[]),jc(this.cursor,this.localMarkers,t.from);let i=n.length?this.localMarkers.concat(n):this.localMarkers,r=this.gutter.config.lineMarker(e,t,i);r&&i.unshift(r);let o=this.gutter;if(0==i.length&&!o.config.renderEmptyElements)return;let s=t.top-this.height;if(this.i==o.elements.length){let n=new zc(e,t.height,s,i);o.elements.push(n),o.dom.appendChild(n.dom)}else o.elements[this.i].update(e,t.height,s,i);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Xc{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(i=>{let r=e.lineBlockAtHeight(i.clientY-e.documentTop);t.domEventHandlers[n](e,r,i)&&i.preventDefault()}));this.markers=Mc(t.markers(e)),t.initialSpacer&&(this.spacer=new zc(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Mc(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!en.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class zc{constructor(e,t,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.update(e,t,n,i)}update(e,t,n,i){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let n="cm-gutterElement",i=this.dom.firstChild;for(let r=0,o=0;;){let s=o,a=r<t.length?t[r++]:null,l=!1;if(a){let e=a.elementClass;e&&(n+=" "+e);for(let t=o;t<this.markers.length;t++)if(this.markers[t].compare(a)){s=t,l=!0;break}}else s=this.markers.length;for(;o<s;){let e=this.markers[o++];if(e.toDOM){e.destroy(i);let t=i.nextSibling;i.remove(),i=t}}if(!a)break;a.toDOM&&(l?i=i.nextSibling:this.dom.insertBefore(a.toDOM(e),i)),l&&o++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const Wc=et.define(),_c=et.define({combine:e=>Ut(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let i in t){let e=n[i],r=t[i];n[i]=e?(t,n,i)=>e(t,n,i)||r(t,n,i):r}return n}})});class Lc extends Qc{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Dc(e,t){return e.state.facet(_c).formatNumber(t,e.state)}const Bc=Cc.compute([_c],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(Wc),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new Lc(Dc(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(_c)!=e.state.facet(_c),initialSpacer:e=>new Lc(Dc(e,Uc(e.state.doc.lines))),updateSpacer(e,t){let n=Dc(t.view,Uc(t.view.state.doc.lines));return n==e.number?e:new Lc(n)},domEventHandlers:e.facet(_c).domEventHandlers})));function Uc(e){let t=9;for(;t<e;)t=10*t+9;return t}let Zc=0;class Nc{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=Zc++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new Nc([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new Gc;return t=>t.modified.indexOf(e)>-1?t:Gc.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let Fc=0;class Gc{constructor(){this.instances=[],this.id=Fc++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>n.base==e&&function(e,t){return e.length==t.length&&e.every(((e,n)=>e==t[n]))}(t,n.modified)));if(n)return n;let i=[],r=new Nc(i,e,t);for(let s of t)s.instances.push(r);let o=qc(t);for(let s of e.set)for(let e of o)i.push(Gc.get(s,e));return r}}function qc(e){let t=[e];for(let n=0;n<e.length;n++)for(let i of qc(e.slice(0,n).concat(e.slice(n+1))))t.push(i);return t}function Vc(e){let t=Object.create(null);for(let n in e){let i=e[n];Array.isArray(i)||(i=[i]);for(let e of n.split(" "))if(e){let n=[],r=2,o=e;for(let t=0;;){if("..."==o&&t>0&&t+3==e.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!i)throw new RangeError("Invalid path: "+e);if(n.push("*"==i[0]?null:'"'==i[0][0]?JSON.parse(i[0]):i[0]),t+=i[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){r=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);o=e.slice(t)}let s=n.length-1,a=n[s];if(!a)throw new RangeError("Invalid path: "+e);let l=new eh(i,r,s>0?n.slice(0,s):null);t[a]=l.sort(t[a])}}return Yc.add(t)}const Yc=new Ps,Hc=et.define({combine:e=>e.length?th.combinedMatch(e):null}),Jc=et.define({combine:e=>e.length?e[0].match:null});function Kc(e){return e.facet(Hc)||e.facet(Jc)}class eh{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}class th{constructor(e,t){let n;function i(e){let t=Gt.newName();return(n||(n=Object.create(null)))["."+t]=e,t}this.map=Object.create(null),this.all="string"==typeof t.all?t.all:t.all?i(t.all):null;for(let o of e){let e=(o.class||i(Object.assign({},o,{tag:null})))+(this.all?" "+this.all:""),t=o.tag;if(Array.isArray(t))for(let n of t)this.map[n.id]=e;else this.map[t.id]=e}this.module=n?new Gt(n):null,this.scope=t.scope||null,this.match=this.match.bind(this);let r=[ih];this.module&&r.push(Vo.styleModule.of(this.module)),this.extension=r.concat(null==t.themeType?Hc.of(this):Hc.computeN([Vo.darkTheme],(e=>e.facet(Vo.darkTheme)==("dark"==t.themeType)?[this]:[]))),this.fallback=r.concat(Jc.of(this))}match(e,t){if(this.scope&&t!=this.scope)return null;for(let n of e.set){let t=this.map[n.id];if(void 0!==t)return n!=e&&(this.map[e.id]=t),t}return this.map[e.id]=this.all}static combinedMatch(e){if(1==e.length)return e[0].match;let t=e.some((e=>e.scope))?void 0:Object.create(null);return(n,i)=>{let r=t&&t[n.id];if(void 0!==r)return r;let o=null;for(let t of e){let e=t.match(n,i);e&&(o=o?o+" "+e:e)}return t&&(t[n.id]=o),o}}static define(e,t){return new th(e,t||{})}static get(e,t,n){let i=Kc(e);return i&&i(t,n||Is.none)}}class nh{constructor(e){this.markCache=Object.create(null),this.tree=ma(e.state),this.decorations=this.buildDeco(e,Kc(e.state))}update(e){let t=ma(e.state),n=Kc(e.state),i=n!=e.startState.facet(Hc);t.length<e.view.viewport.to&&!i&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return vi.none;let n=new tn;for(let{from:i,to:r}of e.visibleRanges)sh(this.tree,i,r,t,((e,t,i)=>{n.add(e,t,this.markCache[i]||(this.markCache[i]=vi.mark({class:i})))}));return n.finish()}}const ih=ut.high(qi.fromClass(nh,{decorations:e=>e.decorations})),rh=[""];class oh{constructor(e,t,n){this.at=e,this.style=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,r,o){let{type:s,from:a,to:l}=e;if(a>=n||l<=t)return;rh[r]=s.name,s.isTop&&(o=s);let c=i,h=s.prop(Yc),p=!1;for(;h;){if(!h.context||ah(h.context,rh,r)){for(let e of h.tags){let t=this.style(e,o);t&&(c&&(c+=" "),c+=t,1==h.mode?i+=(i?" ":"")+t:0==h.mode&&(p=!0))}break}h=h.next}if(this.startSpan(e.from,c),p)return;let d=e.tree&&e.tree.prop(Ps.mounted);if(d&&d.overlay){let s=e.node.enter(d.overlay[0].from+a,1),h=e.firstChild();for(let p=0,u=a;;p++){let f=p<d.overlay.length?d.overlay[p]:null,m=f?f.from+a:l,g=Math.max(t,u),O=Math.min(n,m);if(g<O&&h)for(;e.from<O&&(this.highlightRange(e,g,O,i,r+1,o),this.startSpan(Math.min(n,e.to),c),!(e.to>=m)&&e.nextSibling()););if(!f||m>n)break;u=f.to+a,u>t&&(this.highlightRange(s.cursor,Math.max(t,f.from+a),Math.min(n,u),i,r,d.tree.type),this.startSpan(u,c))}h&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,r+1,o),this.startSpan(Math.min(n,e.to),c)}}while(e.nextSibling());e.parent()}}}function sh(e,t,n,i,r){let o=new oh(t,i,r);o.highlightRange(e.cursor(),t,n,"",0,e.type),o.flush(n)}function ah(e,t,n){if(e.length>n-1)return!1;for(let i=n-1,r=e.length-1;r>=0;r--,i--){let n=e[r];if(n&&n!=t[i])return!1}return!0}const lh=Nc.define,ch=lh(),hh=lh(),ph=lh(hh),dh=lh(hh),uh=lh(),fh=lh(uh),mh=lh(uh),gh=lh(),Oh=lh(gh),xh=lh(),bh=lh(),vh=lh(),yh=lh(vh),wh=lh(),Sh={comment:ch,lineComment:lh(ch),blockComment:lh(ch),docComment:lh(ch),name:hh,variableName:lh(hh),typeName:ph,tagName:lh(ph),propertyName:dh,attributeName:lh(dh),className:lh(hh),labelName:lh(hh),namespace:lh(hh),macroName:lh(hh),literal:uh,string:fh,docString:lh(fh),character:lh(fh),attributeValue:lh(fh),number:mh,integer:lh(mh),float:lh(mh),bool:lh(uh),regexp:lh(uh),escape:lh(uh),color:lh(uh),url:lh(uh),keyword:xh,self:lh(xh),null:lh(xh),atom:lh(xh),unit:lh(xh),modifier:lh(xh),operatorKeyword:lh(xh),controlKeyword:lh(xh),definitionKeyword:lh(xh),moduleKeyword:lh(xh),operator:bh,derefOperator:lh(bh),arithmeticOperator:lh(bh),logicOperator:lh(bh),bitwiseOperator:lh(bh),compareOperator:lh(bh),updateOperator:lh(bh),definitionOperator:lh(bh),typeOperator:lh(bh),controlOperator:lh(bh),punctuation:vh,separator:lh(vh),bracket:yh,angleBracket:lh(yh),squareBracket:lh(yh),paren:lh(yh),brace:lh(yh),content:gh,heading:Oh,heading1:lh(Oh),heading2:lh(Oh),heading3:lh(Oh),heading4:lh(Oh),heading5:lh(Oh),heading6:lh(Oh),contentSeparator:lh(gh),list:lh(gh),quote:lh(gh),emphasis:lh(gh),strong:lh(gh),link:lh(gh),monospace:lh(gh),strikethrough:lh(gh),inserted:lh(),deleted:lh(),changed:lh(),invalid:lh(),meta:wh,documentMeta:lh(wh),annotation:lh(wh),processingInstruction:lh(wh),definition:Nc.defineModifier(),constant:Nc.defineModifier(),function:Nc.defineModifier(),standard:Nc.defineModifier(),local:Nc.defineModifier(),special:Nc.defineModifier()},kh=th.define([{tag:Sh.link,textDecoration:"underline"},{tag:Sh.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Sh.emphasis,fontStyle:"italic"},{tag:Sh.strong,fontWeight:"bold"},{tag:Sh.strikethrough,textDecoration:"line-through"},{tag:Sh.keyword,color:"#708"},{tag:[Sh.atom,Sh.bool,Sh.url,Sh.contentSeparator,Sh.labelName],color:"#219"},{tag:[Sh.literal,Sh.inserted],color:"#164"},{tag:[Sh.string,Sh.deleted],color:"#a11"},{tag:[Sh.regexp,Sh.escape,Sh.special(Sh.string)],color:"#e40"},{tag:Sh.definition(Sh.variableName),color:"#00f"},{tag:Sh.local(Sh.variableName),color:"#30a"},{tag:[Sh.typeName,Sh.namespace],color:"#085"},{tag:Sh.className,color:"#167"},{tag:[Sh.special(Sh.variableName),Sh.macroName],color:"#256"},{tag:Sh.definition(Sh.propertyName),color:"#00c"},{tag:Sh.comment,color:"#940"},{tag:Sh.meta,color:"#7a757a"},{tag:Sh.invalid,color:"#f00"}]),Th=(Sh.link,Sh.heading,Sh.emphasis,Sh.strong,Sh.keyword,Sh.atom,Sh.bool,Sh.url,Sh.labelName,Sh.inserted,Sh.deleted,Sh.literal,Sh.string,Sh.number,Sh.regexp,Sh.escape,Sh.string,Sh.variableName,Sh.variableName,Sh.variableName,Sh.variableName,Sh.propertyName,Sh.typeName,Sh.namespace,Sh.className,Sh.macroName,Sh.propertyName,Sh.operator,Sh.comment,Sh.meta,Sh.invalid,Sh.punctuation,Pt.define()),Qh=Pt.define(),Ph=et.define(),Ch=et.define({combine:e=>Ut(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})});const $h=st.define({create:()=>Nh.empty,update(e,t){let n=t.state.facet(Ch),i=t.annotation(Th);if(i){let r=t.docChanged?Ye.single(function(e){let t=0;return e.iterChangedRanges(((e,n)=>t=n)),t}(t.changes)):void 0,o=Xh.fromTransaction(t,r),s=i.side,a=0==s?e.undone:e.done;return a=o?zh(a,a.length,n.minDepth,o):Lh(a,t.startState.selection),new Nh(0==s?i.rest:a,0==s?a:i.rest)}let r=t.annotation(Qh);if("full"!=r&&"before"!=r||(e=e.isolate()),!1===t.annotation(Rt.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let o=Xh.fromTransaction(t),s=t.annotation(Rt.time),a=t.annotation(Rt.userEvent);return o?e=e.addChanges(o,s,a,n.newGroupDelay,n.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,s,a,n.newGroupDelay)),"full"!=r&&"after"!=r||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new Nh(e.done.map(Xh.fromJSON),e.undone.map(Xh.fromJSON))});function Ih(e={}){return[$h,Ch.of(e),Vo.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?Ah:"historyRedo"==e.inputType?Mh:null;return!!n&&(e.preventDefault(),n(t))}})]}function Rh(e,t){return function({state:n,dispatch:i}){if(!t&&n.readOnly)return!1;let r=n.field($h,!1);if(!r)return!1;let o=r.pop(e,n,t);return!!o&&(i(o),!0)}}const Ah=Rh(0,!1),Mh=Rh(1,!1),jh=Rh(0,!0),Eh=Rh(1,!0);class Xh{constructor(e,t,n,i,r){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=i,this.selectionsAfter=r}setSelAfter(e){return new Xh(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new Xh(e.changes&&Be.fromJSON(e.changes),[],e.mapped&&De.fromJSON(e.mapped),e.startSelection&&Ye.fromJSON(e.startSelection),e.selectionsAfter.map(Ye.fromJSON))}static fromTransaction(e,t){let n=_h;for(let i of e.startState.facet(Ph)){let t=i(e);t.length&&(n=n.concat(t))}return!n.length&&e.changes.empty?null:new Xh(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,_h)}static selection(e){return new Xh(void 0,_h,void 0,void 0,e)}}function zh(e,t,n,i){let r=t+1>n+20?t-n-1:0,o=e.slice(r,t);return o.push(i),o}function Wh(e,t){return e.length?t.length?e.concat(t):e:t}const _h=[];function Lh(e,t){if(e.length){let n=e[e.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return i.length&&i[i.length-1].eq(t)?e:(i.push(t),zh(e,e.length-1,1e9,n.setSelAfter(i)))}return[Xh.selection([t])]}function Dh(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function Bh(e,t){if(!e.length)return e;let n=e.length,i=_h;for(;n;){let r=Uh(e[n-1],t,i);if(r.changes&&!r.changes.empty||r.effects.length){let t=e.slice(0,n);return t[n-1]=r,t}t=r.mapped,n--,i=r.selectionsAfter}return i.length?[Xh.selection(i)]:_h}function Uh(e,t,n){let i=Wh(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):_h,n);if(!e.changes)return Xh.selection(i);let r=e.changes.map(t),o=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(o):o;return new Xh(r,It.mapEffects(e.effects,t),s,e.startSelection.map(o),i)}const Zh=/^(input\.type|delete)($|\.)/;class Nh{constructor(e,t,n=0,i){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new Nh(this.done,this.undone):this}addChanges(e,t,n,i,r){let o=this.done,s=o[o.length-1];return o=s&&s.changes&&!s.changes.empty&&e.changes&&(!n||Zh.test(n))&&(!s.selectionsAfter.length&&t-this.prevTime<i&&function(e,t){let n=[],i=!1;return e.iterChangedRanges(((e,t)=>n.push(e,t))),t.iterChangedRanges(((e,t,r,o)=>{for(let s=0;s<n.length;){let e=n[s++],t=n[s++];o>=e&&r<=t&&(i=!0)}})),i}(s.changes,e.changes)||"input.type.compose"==n)?zh(o,o.length-1,r,new Xh(e.changes.compose(s.changes),Wh(e.effects,s.effects),s.mapped,s.startSelection,_h)):zh(o,o.length,r,e),new Nh(o,_h,t,n)}addSelection(e,t,n,i){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:_h;return r.length>0&&t-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&function(e,t){return e.ranges.length==t.ranges.length&&0===e.ranges.filter(((e,n)=>e.empty!=t.ranges[n].empty)).length}(r[r.length-1],e)?this:new Nh(Lh(this.done,e),this.undone,t,n)}addMapping(e){return new Nh(Bh(this.done,e),Bh(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let i=0==e?this.done:this.undone;if(0==i.length)return null;let r=i[i.length-1];if(n&&r.selectionsAfter.length)return t.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:Th.of({side:e,rest:Dh(i)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(r.changes){let n=1==i.length?_h:i.slice(0,i.length-1);return r.mapped&&(n=Bh(n,r.mapped)),t.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:Th.of({side:e,rest:n}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}Nh.empty=new Nh(_h,_h);const Fh=[{key:"Mod-z",run:Ah,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Mh,preventDefault:!0},{key:"Mod-u",run:jh,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Eh,preventDefault:!0}];n(66337);const Gh=r["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"];const qh=new Map;function Vh(e){const{root:t,...n}=e,i=JSON.stringify(n);let r=qh.get(t);return r||(r={},qh.set(t,r)),r[i]?r[i]:r[i]=function({root:e=null,pollInterval:t=null,useMutationObserver:n=!1,rootMargin:i="0px 0px 0px 0px",threshold:r=0}){const o=new Set;if("undefined"==typeof IntersectionObserver)return null;const s=new IntersectionObserver((e=>{for(const t of o)t(e,s)}),{root:e,rootMargin:i,threshold:r});return s.POLL_INTERVAL=t,s.USE_MUTATION_OBSERVER=n,{observer:s,getListeners:()=>o,subscribe:e=>o.add(e),unsubscribe:e=>o.delete(e)}}(e)}const Yh=function(e,t={}){const{root:n=null,pollInterval:i=null,useMutationObserver:o=!1,rootMargin:s="0px 0px 0px 0px",threshold:a=0,initialIsIntersecting:l=!1}=t,[c,h]=r.useState((()=>({boundingClientRect:null,intersectionRatio:0,intersectionRect:null,isIntersecting:l,rootBounds:null,target:null,time:0}))),[p,d]=r.useState((()=>Vh({root:n,pollInterval:i,useMutationObserver:o,rootMargin:s,threshold:a})));return r.useEffect((()=>{const e=Vh({root:n,pollInterval:i,useMutationObserver:o,rootMargin:s,threshold:a});d(e)}),[n,s,i,o,JSON.stringify(a)]),Gh((()=>{const t=e&&"current"in e?e.current:e;if(!p||!t)return;let n=!1;p.observer.observe(t);const i=e=>{if(!n)for(let n=0;n<e.length;n++){const i=e[n];i.target===t&&h(i)}};return p.subscribe(i),()=>{n=!0,p.observer.unobserve(t),p.unsubscribe(i)}}),[e,p]),c};class Hh{constructor(e,t,n,i,r,o,s,a,l,c=0,h){this.p=e,this.stack=t,this.state=n,this.reducePos=i,this.pos=r,this.score=o,this.buffer=s,this.bufferBase=a,this.curContext=l,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let i=e.parser.context;return new Hh(e,[],t,n,n,0,[],0,i?new Jh(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,n=65535&e,{parser:i}=this.p,r=i.dynamicPrecedence(n);if(r&&(this.score+=r),0==t)return this.pushState(i.getGoto(this.state,n,!0),this.reducePos),n<i.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),void this.reduceContext(n,this.reducePos);let o=this.stack.length-3*(t-1)-(262144&e?6:0),s=this.stack[o-2],a=this.stack[o-1],l=this.bufferBase+this.buffer.length-a;if(n<i.minRepeatTerm||131072&e){let e=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,s,e,l+4,!0)}if(262144&e)this.state=this.stack[o];else{let e=this.stack[o-3];this.state=i.getGoto(e,n,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(n,s)}storeNode(e,t,n,i=4,r=!1){if(0==e){let e=this,i=this.buffer.length;if(0==i&&e.parent&&(i=e.bufferBase-e.parent.bufferBase,e=e.parent),i>0&&0==e.buffer[i-4]&&e.buffer[i-1]>-1){if(t==n)return;if(e.buffer[i-2]>=t)return void(e.buffer[i-2]=n)}}if(r&&this.pos!=n){let r=this.buffer.length;if(r>0&&0!=this.buffer[r-4])for(;r>0&&this.buffer[r-2]>n;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,i>4&&(i-=4);this.buffer[r]=e,this.buffer[r+1]=t,this.buffer[r+2]=n,this.buffer[r+3]=i}else this.buffer.push(e,t,n,i)}shift(e,t,n){let i=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let r=e,{parser:o}=this.p;(n>this.pos||t<=o.maxNode)&&(this.pos=n,o.stateFlag(r,1)||(this.reducePos=n)),this.pushState(r,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,n,4)}else this.pos=n,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,n,4)}apply(e,t,n){65536&e?this.reduce(e):this.shift(e,t,n)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new Hh(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new ep(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==(65536&n))return!0;if(0==n)return!1;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let i,r=0;r<t.length;r+=2)(i=t[r+1])!=this.state&&this.p.parser.hasAction(i,e)&&n.push(t[r],i);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let i=t[e+1];n.some(((e,t)=>1&t&&e==i))||n.push(t[e],i)}t=n}let n=[];for(let i=0;i<t.length&&n.length<4;i+=2){let e=t[i+1];if(e==this.state)continue;let r=this.split();r.storeNode(0,r.pos,r.pos,4,!0),r.pushState(e,this.pos),r.shiftContext(t[i],this.pos),r.score-=200,n.push(r)}return n}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let n=e>>19,i=65535&e,r=this.stack.length-3*n;if(r<0||t.getGoto(this.stack[r],i,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Jh(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Jh{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var Kh;!function(e){e[e.Insert=200]="Insert",e[e.Delete=190]="Delete",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(Kh||(Kh={}));class ep{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class tp{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new tp(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new tp(this.stack,this.pos,this.index)}}class np{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const ip=new np;class rp{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ip,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,i=this.rangeIndex,r=this.pos+e;for(;r<n.from;){if(!i)return null;let e=this.ranges[--i];r-=n.from-e.to,n=e}for(;t<0?r>n.to:r>=n.to;){if(i==this.ranges.length-1)return null;let e=this.ranges[++i];r+=e.from-n.to,n=e}return r}peek(e){let t,n,i=this.chunkOff+e;if(i>=0&&i<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(i);else{let i=this.resolveOffset(e,1);if(null==i)return-1;if(t=i,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,i=this.range;for(;i.to<=t;)i=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>i.to&&(this.chunk2=this.chunk2.slice(0,i.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=ip,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return n}}class op{constructor(e,t){this.data=e,this.id=t}token(e,t){!function(e,t,n,i){let r=0,o=1<<i,{parser:s}=n.p,{dialect:a}=s;e:for(;0!=(o&e[r]);){let n=e[r+1];for(let i=r+3;i<n;i+=2)if((e[i+1]&o)>0){let n=e[i];if(a.allows(n)&&(-1==t.token.value||t.token.value==n||s.overrides(n,t.token.value))){t.acceptToken(n);break}}for(let i=t.next,o=0,s=e[r+2];o<s;){let a=o+s>>1,l=n+a+(a<<1),c=e[l],h=e[l+1];if(i<c)s=a;else{if(!(i>=h)){r=e[l+2],t.advance();continue e}o=a+1}}break}}(this.data,e,t,this.id)}}op.prototype.contextual=op.prototype.fallback=op.prototype.extend=!1;class sp{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function ap(e,t=Uint16Array){if("string"!=typeof e)return e;let n=null;for(let i=0,r=0;i<e.length;){let o=0;for(;;){let t=e.charCodeAt(i++),n=!1;if(126==t){o=65535;break}t>=92&&t--,t>=34&&t--;let r=t-32;if(r>=46&&(r-=46,n=!0),o+=r,n)break;o*=46}n?n[r++]=o:n=new t(o)}return n}const lp="undefined"!=typeof process&&/\bparse\b/.test(process.env.LOG);let cp=null;var hp,pp;function dp(e,t,n){let i=e.fullCursor();for(i.moveTo(t);;)if(!(n<0?i.childBefore(t):i.childAfter(t)))for(;;){if((n<0?i.to<t:i.from>t)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(e.length,Math.max(i.from+1,t+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:e.length}}!function(e){e[e.Margin=25]="Margin"}(hp||(hp={}));class up{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?dp(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?dp(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[i],o=this.start[t]+n.positions[i];if(o>e)return this.nextStart=o,null;if(r instanceof js){if(o==e){if(o<this.safeFrom)return null;let e=o+r.length;if(e<=this.safeTo){let t=r.prop(Ps.lookAhead);if(!t||e+t<this.fragment.to)return r}}this.index[t]++,o+r.length>=Math.max(this.safeFrom,e)&&(this.trees.push(r),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+r.length}}}class fp{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new np))}getActions(e){let t=0,n=null,{parser:i}=e.p,{tokenizers:r}=i,o=i.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,a=0;for(let l=0;l<r.length;l++){if(0==(1<<l&o))continue;let i=r[l],c=this.tokens[l];if((!n||i.fallback)&&((i.contextual||c.start!=e.pos||c.mask!=o||c.context!=s)&&(this.updateCachedToken(c,i,e),c.mask=o,c.context=s),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),0!=c.value)){let r=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!i.extend&&(n=c,t>r))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),n||e.pos!=this.stream.end||(n=new np,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new np,{pos:n,p:i}=e;return t.start=n,t.end=Math.min(n+1,i.stream.end),t.value=n==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,n){if(t.token(this.stream.reset(n.pos,e),n),e.value>-1){let{parser:t}=n.p;for(let i=0;i<t.specialized.length;i++)if(t.specialized[i]==e.value){let r=t.specializers[i](this.stream.read(e.start,e.end),n);if(r>=0&&n.p.parser.dialect.allows(r>>1)){0==(1&r)?e.value=r>>1:e.extended=r>>1;break}}}else e.value=0,e.end=Math.min(n.p.stream.end,n.pos+1)}putAction(e,t,n,i){for(let r=0;r<i;r+=3)if(this.actions[r]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=n,i}addActions(e,t,n,i){let{state:r}=e,{parser:o}=e.p,{data:s}=o;for(let a=0;a<2;a++)for(let e=o.stateSlot(r,a?2:1);;e+=3){if(65535==s[e]){if(1!=s[e+1]){0==i&&2==s[e+1]&&(i=this.putAction(yp(s,e+2),t,n,i));break}e=yp(s,e+2)}s[e]==t&&(i=this.putAction(yp(s,e+1),t,n,i))}return i}}!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=500]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit",e[e.CutDepth=15e3]="CutDepth",e[e.CutTo=9e3]="CutTo"}(pp||(pp={}));class mp{constructor(e,t,n,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new rp(t,i),this.tokens=new fp(e,this.stream),this.topTerm=e.top[1];let{from:r}=i[0];this.stacks=[Hh.start(this,e.top[0],r)],this.fragments=n.length&&this.stream.end-r>4*e.bufferLength?new up(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,i=this.minStackPos,r=this.stacks=[];for(let o=0;o<n.length;o++){let s=n[o];for(;;){if(this.tokens.mainToken=null,s.pos>i)r.push(s);else{if(this.advanceStack(s,r,n))continue;{e||(e=[],t=[]),e.push(s);let n=this.tokens.getMainToken(s);t.push(n.value,n.end)}}break}}if(!r.length){let t=e&&function(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw lp&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,r);if(n)return this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(r.length>e)for(r.sort(((e,t)=>t.score-e.score));r.length>e;)r.pop();r.some((e=>e.reducePos>i))&&this.recovering--}else if(r.length>1)e:for(let o=0;o<r.length-1;o++){let e=r[o];for(let t=o+1;t<r.length;t++){let n=r[t];if(e.sameState(n)||e.buffer.length>500&&n.buffer.length>500){if(!((e.score-n.score||e.buffer.length-n.buffer.length)>0)){r.splice(o--,1);continue e}r.splice(t--,1)}}}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let i=e.pos,{parser:r}=this,o=lp?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let s=this.fragments.nodeAt(i);s;){let i=this.parser.nodeSet.types[s.type.id]==s.type?r.getGoto(e.state,s.type.id):-1;if(i>-1&&s.length&&(!t||(s.prop(Ps.contextHash)||0)==n))return e.useNode(s,i),lp&&console.log(o+this.stackID(e)+` (via reuse of ${r.getName(s.type.id)})`),!0;if(!(s instanceof js)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(!(a instanceof js&&0==s.positions[0]))break;s=a}}let s=r.stateSlot(e.state,4);if(s>0)return e.reduce(s),lp&&console.log(o+this.stackID(e)+` (via always-reduce ${r.getName(65535&s)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let l=0;l<a.length;){let s=a[l++],c=a[l++],h=a[l++],p=l==a.length||!n,d=p?e:e.split();if(d.apply(s,c,h),lp&&console.log(o+this.stackID(d)+` (via ${0==(65536&s)?"shift":`reduce of ${r.getName(65535&s)}`} for ${r.getName(c)} @ ${i}${d==e?"":", split"})`),p)return!0;d.pos>i?t.push(d):n.push(d)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return gp(e,t),!0}}runRecovery(e,t,n){let i=null,r=!1;for(let o=0;o<e.length;o++){let s=e[o],a=t[o<<1],l=t[1+(o<<1)],c=lp?this.stackID(s)+" -> ":"";if(s.deadEnd){if(r)continue;if(r=!0,s.restart(),lp&&console.log(c+this.stackID(s)+" (restarted)"),this.advanceFully(s,n))continue}let h=s.split(),p=c;for(let e=0;h.forceReduce()&&e<10;e++){if(lp&&console.log(p+this.stackID(h)+" (via force-reduce)"),this.advanceFully(h,n))break;lp&&(p=this.stackID(h)+" -> ")}for(let e of s.recoverByInsert(a))lp&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n);this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),lp&&console.log(c+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),gp(s,n)):(!i||i.score<s.score)&&(i=s)}return i}stackToTree(e){return e.close(),js.build({buffer:tp.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(cp||(cp=new WeakMap)).get(e);return t||cp.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function gp(e,t){for(let n=0;n<t.length;n++){let i=t[n];if(i.pos==e.pos&&i.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class Op{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}const xp=e=>e;class bp{constructor(e){this.start=e.start,this.shift=e.shift||xp,this.reduce=e.reduce||xp,this.reuse=e.reuse||xp,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}class vp extends Ys{constructor(e){if(super(),this.wrappers=[],13!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (13)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let s=0;s<e.repeatNodeCount;s++)t.push("");let n=Object.keys(e.topRules).map((t=>e.topRules[t][1])),i=[];for(let s=0;s<t.length;s++)i.push([]);function r(e,t,n){i[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let s of e.nodeProps){let e=s[0];for(let t=1;t<s.length;){let n=s[t++];if(n>=0)r(n,e,s[t++]);else{let i=s[t+-n];for(let o=-n;o>0;o--)r(s[t++],e,i);t++}}}this.nodeSet=new Rs(t.map(((t,r)=>Is.define({name:r>=this.minRepeatTerm?void 0:t,id:r,props:i[r],top:n.indexOf(r)>-1,error:0==r,skipped:e.skippedNodes&&e.skippedNodes.indexOf(r)>-1})))),this.strict=!1,this.bufferLength=ks;let o=ap(e.tokenData);if(this.context=e.context,this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let s=0;s<e.specialized.length;s++)this.specialized[s]=e.specialized[s].term,this.specializers[s]=e.specialized[s].get;this.states=ap(e.states,Uint32Array),this.data=ap(e.stateData),this.goto=ap(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new op(o,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let i=new mp(this,e,t,n);for(let r of this.wrappers)i=r(i,e,t,n);return i}getGoto(e,t,n=!1){let i=this.goto;if(t>=i[0])return-1;for(let r=i[t+1];;){let t=i[r++],o=1&t,s=i[r++];if(o&&n)return s;for(let n=r+(t>>1);r<n;r++)if(i[r]==e)return s;if(o)return-1}}hasAction(e,t){let n=this.data;for(let i=0;i<2;i++)for(let r,o=this.stateSlot(e,i?2:1);;o+=3){if(65535==(r=n[o])){if(1!=n[o+1]){if(2==n[o+1])return yp(n,o+2);break}r=n[o=yp(n,o+2)]}if(r==t||0==r)return yp(n,o+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])return!1;n=yp(this.data,n+2)}if(t==yp(this.data,n+1))return!0}}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=yp(this.data,n+2)}if(0==(1&this.data[n+2])){let e=this.data[n+1];t.some(((t,n)=>1&n&&t==e))||t.push(this.data[n],e)}}return t}overrides(e,t){let n=wp(this.data,this.tokenPrecTable,t);return n<0||wp(this.data,this.tokenPrecTable,e)<n}configure(e){let t=Object.assign(Object.create(vp.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let n=e.tokenizers.find((e=>e.from==t));return n?n.to:t}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map((()=>!1));if(e)for(let r of e.split(" ")){let e=t.indexOf(r);e>=0&&(n[e]=!0)}let i=null;for(let r=0;r<t.length;r++)if(!n[r])for(let e,n=this.dialects[t[r]];65535!=(e=this.data[n++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[e]=1;return new Op(e,n,i)}static deserialize(e){return new vp(e)}}function yp(e,t){return e[t]|e[t+1]<<16}function wp(e,t,n){for(let i,r=t;65535!=(i=e[r]);r++)if(i==n)return r-t;return-1}const Sp=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];function kp(e){return e>=65&&e<=90||e>=97&&e<=122||e>=161}const Tp=new sp(((e,t)=>{for(let i=!1,r=0,o=0;;o++){let{next:s}=e;if(!(kp(s)||45==s||95==s||i&&(n=s,n>=48&&n<=57))){i&&e.acceptToken(40==s?94:2==r&&t.canShift(2)?2:95);break}!i&&(45!=s||o>0)&&(i=!0),r===o&&45==s&&r++,e.advance()}var n})),Qp=new sp((e=>{if(Sp.includes(e.peek(-1))){let{next:t}=e;(kp(t)||95==t||35==t||46==t||91==t||58==t||45==t)&&e.acceptToken(93)}})),Pp=new sp((e=>{if(!Sp.includes(e.peek(-1))){let{next:t}=e;if(37==t&&(e.advance(),e.acceptToken(1)),kp(t)){do{e.advance()}while(kp(e.next));e.acceptToken(1)}}})),Cp={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,dir:32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},$p={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},Ip={__proto__:null,not:128,only:128,from:158,to:160},Rp=vp.deserialize({version:13,states:"7WOYQ[OOOOQP'#Cd'#CdOOQP'#Cc'#CcO!ZQ[O'#CfO!}QXO'#CaO#UQ[O'#ChO#aQ[O'#DPO#fQ[O'#DTOOQP'#Ec'#EcO#kQdO'#DeO$VQ[O'#DrO#kQdO'#DtO$hQ[O'#DvO$sQ[O'#DyO$xQ[O'#EPO%WQ[O'#EROOQS'#Eb'#EbOOQS'#ES'#ESQYQ[OOOOQP'#Cg'#CgOOQP,59Q,59QO!ZQ[O,59QO%_Q[O'#EVO%yQWO,58{O&RQ[O,59SO#aQ[O,59kO#fQ[O,59oO%_Q[O,59sO%_Q[O,59uO%_Q[O,59vO'bQ[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO'iQWO,59SO'nQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO'sQ`O,59oOOQS'#Cp'#CpO#kQdO'#CqO'{QvO'#CsO)VQtO,5:POOQO'#Cx'#CxO'iQWO'#CwO)kQWO'#CyOOQS'#Ef'#EfOOQO'#Dh'#DhO)pQ[O'#DoO*OQWO'#EiO$xQ[O'#DmO*^QWO'#DpOOQO'#Ej'#EjO%|QWO,5:^O*cQpO,5:`OOQS'#Dx'#DxO*kQWO,5:bO*pQ[O,5:bOOQO'#D{'#D{O*xQWO,5:eO*}QWO,5:kO+VQWO,5:mOOQS-E8Q-E8QOOQP1G.l1G.lO+yQXO,5:qOOQO-E8T-E8TOOQS1G.g1G.gOOQP1G.n1G.nO'iQWO1G.nO'nQWO1G.nOOQP1G/V1G/VO,WQ`O1G/ZO,qQXO1G/_O-XQXO1G/aO-oQXO1G/bO.VQXO'#CdO.zQWO'#DaOOQS,59z,59zO/PQWO,59zO/XQ[O,59zO/`QdO'#CoO/gQ[O'#DOOOQP1G/Z1G/ZO#kQdO1G/ZO/nQpO,59]OOQS,59_,59_O#kQdO,59aO/vQWO1G/kOOQS,59c,59cO/{Q!bO,59eO0TQWO'#DhO0`QWO,5:TO0eQWO,5:ZO$xQ[O,5:VO$xQ[O'#EYO0mQWO,5;TO0xQWO,5:XO%_Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O1ZQWO1G/|O1`QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XOOQP7+$Y7+$YOOQP7+$u7+$uO#kQdO7+$uO#kQdO,59{O1nQ[O'#EXO1xQWO1G/fOOQS1G/f1G/fO1xQWO1G/fO2QQtO'#ETO2uQdO'#EeO3PQWO,59ZO3UQXO'#EhO3]QWO,59jO3bQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO3jQWO1G/PO#kQdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO3oQWO,5:tOOQO-E8W-E8WO3}QXO1G/vOOQS7+%h7+%hO4UQYO'#CsO%|QWO'#EZO4^QdO,5:hOOQS,5:h,5:hO4lQpO<<HaO4tQtO1G/gOOQO,5:s,5:sO5XQ[O,5:sOOQO-E8V-E8VOOQS7+%Q7+%QO5cQWO7+%QOOQS-E8R-E8RO#kQdO'#EUO5kQWO,5;POOQT1G.u1G.uO5sQWO,5;SOOQP1G/U1G/UOOQP<<Ha<<HaOOQS7+$k7+$kO5{QdO7+%ZOOQO7+%b7+%bOOQS,5:u,5:uOOQS-E8X-E8XOOQS1G0S1G0SOOQPAN={AN={O6SQtO'#EWO#kQdO'#EWO6}QdO7+%ROOQO7+%R7+%ROOQO1G0_1G0_OOQS<<Hl<<HlO7_QdO,5:pOOQO-E8S-E8SOOQO<<Hu<<HuO7iQtO,5:rOOQS-E8U-E8UOOQO<<Hm<<Hm",stateData:"8j~O#TOSROS~OUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#RPO#WRO~O#RcO~O]hO^hOpfOtiOxjO|kO!PmO#PlO#WeO~O!RnO~P!`O`sO#QqO#RpO~O#RuO~O#RwO~OQ!QObzOf!QOh!QOn!PO#Q}O#RyO#Z{O~Ob!SO!b!UO!e!VO#R!RO!R#]P~Oh![On!PO#R!ZO~O#R!^O~Ob!SO!b!UO!e!VO#R!RO~O!W#]P~P$VOUWOXWO]TO^TOtUOxVO#RPO#WRO~OpfO!RnO~O`!hO#QqO#RpO~OQ!pOUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#R!oO#WRO~O!Q!qO~P&^Ob!tO~Ob!uO~Ov!vOz!wO~OP!yObgXjgX!WgX!bgX!egX#RgXagXQgXfgXhgXngXpgX#QgX#ZgXvgX!QgX!VgX~Ob!SOj!zO!b!UO!e!VO#R!RO!W#]P~Ob!}O~Ob!SO!b!UO!e!VO#R#OO~Op#SO!`#RO!R#]X!W#]X~Ob#VO~Oj!zO!W#XO~O!W#YO~Oh#ZOn!PO~O!R#[O~O!RnO!`#RO~O!RnO!W#_O~O]hO^hOtiOxjO|kO!PmO#PlO#WeO~Op!ya!R!yaa!ya~P+_Ov#aOz#bO~O]hO^hOtiOxjO#WeO~Op{i|{i!P{i!R{i#P{ia{i~P,`Op}i|}i!P}i!R}i#P}ia}i~P,`Op!Oi|!Oi!P!Oi!R!Oi#P!Oia!Oi~P,`O]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#PWX#WWX~O]#cO~O!Q#fO!W#dO~O!Q#fO~P&^Oa#XP~P#kOa#[P~P%_Oa#nOj!zO~O!W#pO~Oh#qOo#qO~O]!^Xa![X!`![X~O]#rO~Oa#sO!`#RO~Op#SO!R#]a!W#]a~O!`#ROp!aa!R!aa!W!aaa!aa~O!W#xO~O!Q#|O!q#zO!r#zO#Z#yO~O!Q!{X!W!{X~P&^O!Q$SO!W#dO~Oj!zOQ!wXa!wXb!wXf!wXh!wXn!wXp!wX#Q!wX#R!wX#Z!wX~Op$VOa#XX~P#kOa$XO~Oa#[X~P!`Oa$ZO~Oj!zOv$[O~Oa$]O~O!`#ROp!|a!R!|a!W!|a~Oa$_O~P+_OP!yO!RgX~O!Q$bO!q#zO!r#zO#Z#yO~Oj!zOv$cO~Oj!zOp$eO!V$gO!Q!Ti!W!Ti~P#kO!Q!{a!W!{a~P&^O!Q$iO!W#dO~Op$VOa#Xa~OpfOa#[a~Oa$lO~P#kOj!zOQ!zXb!zXf!zXh!zXn!zXp!zX!Q!zX!V!zX!W!zX#Q!zX#R!zX#Z!zX~Op$eO!V$oO!Q!Tq!W!Tq~P#kOa!xap!xa~P#kOj!zOQ!zab!zaf!zah!zan!zap!za!Q!za!V!za!W!za#Q!za#R!za#Z!za~Oo#Zj!Pj~",goto:",O#_PPPPP#`P#h#vP#h$U#hPP$[PPP$b$k$kP$}P$kP$k%e%wPPP&a&g#hP&mP#hP&sP#hP#h#hPPP&y']'iPP#`PP'o'o'y'oP'oP'o'oP#`P#`P#`P'|#`P(P(SPP#`P#`(V(e(s(y)T)Z)e)kPPPPPP)q)yP*e*hP+^+a+j]`Obn!s#d$QiWObfklmn!s!u#V#d$QiQObfklmn!s!u#V#d$QQdRR!ceQrTR!ghQ!gsQ!|!OR#`!hq!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jp!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jT#z#[#{q!OXZz!t!w!z#b#c#i#r$O$V$^$e$f$jp!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jQ![[R#Z!]QtTR!ihQ!gtR#`!iQvUR!jiQxVR!kjQoSQ!fgQ#W!XQ#^!`Q#_!aR$`#zQ!rnQ#g!sQ$P#dR$h$QX!pn!s#d$Qa!WY^_|!S!U#R#SR#P!SR!][R!_]R#]!_QbOU!bb!s$QQ!snR$Q#dQ#i!tU$U#i$^$jQ$^#rR$j$VQ$W#iR$k$WQgSS!eg$YR$Y#kQ$f$OR$n$fQ#e!rS$R#e$TR$T#gQ#T!TR#v#TQ#{#[R$a#{]aObn!s#d$Q[SObn!s#d$QQ!dfQ!lkQ!mlQ!nmQ#k!uR#w#VR#j!tQ|XQ!YZQ!xz[#h!t#i#r$V$^$jQ#m!wQ#o!zQ#}#bQ$O#cS$d$O$fR$m$eR#l!uQ!XYQ!a_R!{|U!TY_|Q!`^Q#Q!SQ#U!UQ#t#RR#u#S",nodeNames:"\u26a0 Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList from to SupportsStatement supports AtRule",maxTerm:106,nodeProps:[[Ps.openedBy,17,"(",48,"{"],[Ps.closedBy,18,")",49,"}"]],skippedNodes:[0,3],repeatNodeCount:8,tokenData:"Ay~R![OX$wX^%]^p$wpq%]qr(crs+}st,otu2Uuv$wvw2rwx2}xy3jyz3uz{3z{|4_|}8U}!O8a!O!P8x!P!Q9Z!Q![;e![!]<Y!]!^<x!^!_$w!_!`=T!`!a=`!a!b$w!b!c>O!c!}$w!}#O?[#O#P$w#P#Q?g#Q#R2U#R#T$w#T#U?r#U#c$w#c#d@q#d#o$w#o#pAQ#p#q2U#q#rA]#r#sAh#s#y$w#y#z%]#z$f$w$f$g%]$g#BY$w#BY#BZ%]#BZ$IS$w$IS$I_%]$I_$I|$w$I|$JO%]$JO$JT$w$JT$JU%]$JU$KV$w$KV$KW%]$KW&FU$w&FU&FV%]&FV~$wW$zQOy%Qz~%QW%VQoWOy%Qz~%Q~%bf#T~OX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q~&}f#T~oWOX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q^(fSOy%Qz#]%Q#]#^(r#^~%Q^(wSoWOy%Qz#a%Q#a#b)T#b~%Q^)YSoWOy%Qz#d%Q#d#e)f#e~%Q^)kSoWOy%Qz#c%Q#c#d)w#d~%Q^)|SoWOy%Qz#f%Q#f#g*Y#g~%Q^*_SoWOy%Qz#h%Q#h#i*k#i~%Q^*pSoWOy%Qz#T%Q#T#U*|#U~%Q^+RSoWOy%Qz#b%Q#b#c+_#c~%Q^+dSoWOy%Qz#h%Q#h#i+p#i~%Q^+wQ!VUoWOy%Qz~%Q~,QUOY+}Zr+}rs,ds#O+}#O#P,i#P~+}~,iOh~~,lPO~+}_,tWtPOy%Qz!Q%Q!Q![-^![!c%Q!c!i-^!i#T%Q#T#Z-^#Z~%Q^-cWoWOy%Qz!Q%Q!Q![-{![!c%Q!c!i-{!i#T%Q#T#Z-{#Z~%Q^.QWoWOy%Qz!Q%Q!Q![.j![!c%Q!c!i.j!i#T%Q#T#Z.j#Z~%Q^.qWfUoWOy%Qz!Q%Q!Q![/Z![!c%Q!c!i/Z!i#T%Q#T#Z/Z#Z~%Q^/bWfUoWOy%Qz!Q%Q!Q![/z![!c%Q!c!i/z!i#T%Q#T#Z/z#Z~%Q^0PWoWOy%Qz!Q%Q!Q![0i![!c%Q!c!i0i!i#T%Q#T#Z0i#Z~%Q^0pWfUoWOy%Qz!Q%Q!Q![1Y![!c%Q!c!i1Y!i#T%Q#T#Z1Y#Z~%Q^1_WoWOy%Qz!Q%Q!Q![1w![!c%Q!c!i1w!i#T%Q#T#Z1w#Z~%Q^2OQfUoWOy%Qz~%QY2XSOy%Qz!_%Q!_!`2e!`~%QY2lQzQoWOy%Qz~%QX2wQXPOy%Qz~%Q~3QUOY2}Zw2}wx,dx#O2}#O#P3d#P~2}~3gPO~2}_3oQbVOy%Qz~%Q~3zOa~_4RSUPjSOy%Qz!_%Q!_!`2e!`~%Q_4fUjS!PPOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q^4}SoWOy%Qz!Q%Q!Q![5Z![~%Q^5bWoW#ZUOy%Qz!Q%Q!Q![5Z![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q^6PWoWOy%Qz{%Q{|6i|}%Q}!O6i!O!Q%Q!Q![6z![~%Q^6nSoWOy%Qz!Q%Q!Q![6z![~%Q^7RSoW#ZUOy%Qz!Q%Q!Q![6z![~%Q^7fYoW#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q_8ZQpVOy%Qz~%Q^8fUjSOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q_8}S#WPOy%Qz!Q%Q!Q![5Z![~%Q~9`RjSOy%Qz{9i{~%Q~9nSoWOy9iyz9zz{:o{~9i~9}ROz9zz{:W{~9z~:ZTOz9zz{:W{!P9z!P!Q:j!Q~9z~:oOR~~:tUoWOy9iyz9zz{:o{!P9i!P!Q;W!Q~9i~;_QR~oWOy%Qz~%Q^;jY#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%QX<_S]POy%Qz![%Q![!]<k!]~%QX<rQ^PoWOy%Qz~%Q_<}Q!WVOy%Qz~%QY=YQzQOy%Qz~%QX=eS|POy%Qz!`%Q!`!a=q!a~%QX=xQ|PoWOy%Qz~%QX>RUOy%Qz!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX>lY!YPoWOy%Qz}%Q}!O>e!O!Q%Q!Q![>e![!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX?aQxPOy%Qz~%Q^?lQvUOy%Qz~%QX?uSOy%Qz#b%Q#b#c@R#c~%QX@WSoWOy%Qz#W%Q#W#X@d#X~%QX@kQ!`PoWOy%Qz~%QX@tSOy%Qz#f%Q#f#g@d#g~%QXAVQ!RPOy%Qz~%Q_AbQ!QVOy%Qz~%QZAmS!PPOy%Qz!_%Q!_!`2e!`~%Q",tokenizers:[Qp,Pp,Tp,0,1,2,3],topRules:{StyleSheet:[0,4]},specialized:[{term:94,get:e=>Cp[e]||-1},{term:56,get:e=>$p[e]||-1},{term:95,get:e=>Ip[e]||-1}],tokenPrec:1078});let Ap=null;function Mp(){if(!Ap&&"object"==typeof document&&document.body){let e=[];for(let t in document.body.style)/[A-Z]|^-|^(item|length)$/.test(t)||e.push(t);Ap=e.sort().map((e=>({type:"property",label:e})))}return Ap||[]}const jp=["active","after","before","checked","default","disabled","empty","enabled","first-child","first-letter","first-line","first-of-type","focus","hover","in-range","indeterminate","invalid","lang","last-child","last-of-type","link","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-of-type","only-child","optional","out-of-range","placeholder","read-only","read-write","required","root","selection","target","valid","visited"].map((e=>({type:"class",label:e}))),Ep=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((e=>({type:"keyword",label:e}))).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((e=>({type:"constant",label:e})))),Xp=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((e=>({type:"type",label:e}))),zp=/^[\w-]*/,Wp=fa.define({parser:Rp.configure({props:[Aa.add({Declaration:La()}),Da.add({Block:Ba}),Vc({"import charset namespace keyframes":Sh.definitionKeyword,"media supports":Sh.controlKeyword,"from to selector":Sh.keyword,NamespaceName:Sh.namespace,KeyframeName:Sh.labelName,TagName:Sh.tagName,ClassName:Sh.className,PseudoClassName:Sh.constant(Sh.className),IdName:Sh.labelName,"FeatureName PropertyName":Sh.propertyName,AttributeName:Sh.attributeName,NumberLiteral:Sh.number,KeywordQuery:Sh.keyword,UnaryQueryOp:Sh.operatorKeyword,"CallTag ValueName":Sh.atom,VariableName:Sh.variableName,Callee:Sh.operatorKeyword,Unit:Sh.unit,"UniversalSelector NestingSelector":Sh.definitionOperator,AtKeyword:Sh.keyword,MatchOp:Sh.compareOperator,"ChildOp SiblingOp, LogicOp":Sh.logicOperator,BinOp:Sh.arithmeticOperator,Important:Sh.modifier,Comment:Sh.blockComment,ParenthesizedContent:Sh.special(Sh.name),ColorLiteral:Sh.color,StringLiteral:Sh.string,":":Sh.punctuation,"PseudoOp #":Sh.derefOperator,"; ,":Sh.separator,"( )":Sh.paren,"[ ]":Sh.squareBracket,"{ }":Sh.brace})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}}),_p=Wp.data.of({autocomplete:e=>{let{state:t,pos:n}=e,i=ma(t).resolveInner(n,-1);if("PropertyName"==i.name)return{from:i.from,options:Mp(),span:zp};if("ValueName"==i.name)return{from:i.from,options:Ep,span:zp};if("PseudoClassName"==i.name)return{from:i.from,options:jp,span:zp};if("TagName"==i.name){for(let{parent:e}=i;e;e=e.parent)if("Block"==e.name)return{from:i.from,options:Mp(),span:zp};return{from:i.from,options:Xp,span:zp}}if(!e.explicit)return null;let r=i.resolve(n),o=r.childBefore(n);return o&&":"==o.name&&"PseudoClassSelector"==r.name?{from:n,options:jp,span:zp}:o&&":"==o.name&&"Declaration"==r.name||"ArgList"==r.name?{from:n,options:Ep,span:zp}:"Block"==r.name?{from:n,options:Mp(),span:zp}:null}});function Lp(){return new Ta(Wp,_p)}const Dp={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Bp={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},Up={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Zp(e){return 9==e||10==e||13==e||32==e}let Np=null,Fp=null,Gp=0;function qp(e,t){let n=e.pos+t;if(Gp==n&&Fp==e)return Np;let i=e.peek(t);for(;Zp(i);)i=e.peek(++t);let r="";for(;45==(o=i)||46==o||58==o||o>=65&&o<=90||95==o||o>=97&&o<=122||o>=161;)r+=String.fromCharCode(i),i=e.peek(++t);var o;return Fp=e,Gp=n,Np=r?r.toLowerCase():i==Vp||i==Yp?void 0:null}const Vp=63,Yp=33;function Hp(e,t){this.name=e,this.parent=t,this.hash=t?t.hash:0;for(let n=0;n<e.length;n++)this.hash+=(this.hash<<4)+e.charCodeAt(n)+(e.charCodeAt(n)<<8)}const Jp=[4,8,5,6,7],Kp=new bp({start:null,shift:(e,t,n,i)=>Jp.indexOf(t)>-1?new Hp(qp(i,1)||"",e):e,reduce:(e,t)=>18==t&&e?e.parent:e,reuse(e,t,n,i){let r=t.type.id;return 4==r||35==r?new Hp(qp(i,1)||"",e):e},hash:e=>e?e.hash:0,strict:!1}),ed=new sp(((e,t)=>{if(60!=e.next)return void(e.next<0&&t.context&&e.acceptToken(56));e.advance();let n=47==e.next;n&&e.advance();let i=qp(e,0);if(void 0===i)return;if(!i)return e.acceptToken(n?12:4);let r=t.context?t.context.name:null;if(n){if(i==r)return e.acceptToken(9);if(r&&Bp[r])return e.acceptToken(56,-2);if(t.dialectEnabled(0))return e.acceptToken(10);for(let e=t.context;e;e=e.parent)if(e.name==i)return;e.acceptToken(11)}else{if("script"==i)return e.acceptToken(5);if("style"==i)return e.acceptToken(6);if("textarea"==i)return e.acceptToken(7);if(Dp.hasOwnProperty(i))return e.acceptToken(8);r&&Up[r]&&Up[r][i]?e.acceptToken(56,-1):e.acceptToken(4)}}),{contextual:!0}),td=new sp((e=>{for(let t=0,n=0;;n++){if(e.next<0){n&&e.acceptToken(57);break}if(e.next=="--\x3e".charCodeAt(t)){if(t++,3==t){n>3&&e.acceptToken(57,-2);break}}else t=0;e.advance()}}));function nd(e,t,n){let i=2+e.length;return new sp((r=>{for(let o=0,s=0,a=0;;a++){if(r.next<0){a&&r.acceptToken(t);break}if(0==o&&60==r.next||1==o&&47==r.next||o>=2&&o<i&&r.next==e.charCodeAt(o-2))o++,s++;else if(2!=o&&o!=i||!Zp(r.next)){if(o==i&&62==r.next){a>s?r.acceptToken(t,-s):r.acceptToken(n,-(s-2));break}if((10==r.next||13==r.next)&&a){r.acceptToken(t,1);break}o=s=0}else s++;r.advance()}}))}const id=nd("script",53,1),rd=nd("style",54,2),od=nd("textarea",55,3),sd=vp.deserialize({version:13,states:",xOVOxOOO!WQ!bO'#CoO!]Q!bO'#CyO!bQ!bO'#C|O!gQ!bO'#DPO!lQ!bO'#DRO!qOXO'#CnO!|OYO'#CnO#XO[O'#CnO$eOxO'#CnOOOW'#Cn'#CnO$lO!rO'#DSO$tQ!bO'#DUO$yQ!bO'#DVOOOW'#Dj'#DjOOOW'#DX'#DXQVOxOOO%OQ#tO,59ZO%WQ#tO,59eO%`Q#tO,59hO%hQ#tO,59kO%pQ#tO,59mOOOX'#D]'#D]O%xOXO'#CwO&TOXO,59YOOOY'#D^'#D^O&]OYO'#CzO&hOYO,59YOOO['#D_'#D_O&pO[O'#C}O&{O[O,59YOOOW'#D`'#D`O'TOxO,59YO'[Q!bO'#DQOOOW,59Y,59YOOO`'#Da'#DaO'aO!rO,59nOOOW,59n,59nO'iQ!bO,59pO'nQ!bO,59qOOOW-E7V-E7VO'sQ#tO'#CqOOQO'#DY'#DYO(OQ#tO1G.uOOOX1G.u1G.uO(WQ#tO1G/POOOY1G/P1G/PO(`Q#tO1G/SOOO[1G/S1G/SO(hQ#tO1G/VOOOW1G/V1G/VO(pQ#tO1G/XOOOW1G/X1G/XOOOX-E7Z-E7ZO(xQ!bO'#CxOOOW1G.t1G.tOOOY-E7[-E7[O(}Q!bO'#C{OOO[-E7]-E7]O)SQ!bO'#DOOOOW-E7^-E7^O)XQ!bO,59lOOO`-E7_-E7_OOOW1G/Y1G/YOOOW1G/[1G/[OOOW1G/]1G/]O)^Q&jO,59]OOQO-E7W-E7WOOOX7+$a7+$aOOOY7+$k7+$kOOO[7+$n7+$nOOOW7+$q7+$qOOOW7+$s7+$sO)iQ!bO,59dO)nQ!bO,59gO)sQ!bO,59jOOOW1G/W1G/WO)xO,UO'#CtO*WO7[O'#CtOOQO1G.w1G.wOOOW1G/O1G/OOOOW1G/R1G/ROOOW1G/U1G/UOOOO'#DZ'#DZO*fO,UO,59`OOQO,59`,59`OOOO'#D['#D[O*tO7[O,59`OOOO-E7X-E7XOOQO1G.z1G.zOOOO-E7Y-E7Y",stateData:"+[~O!]OS~OSSOTPOUQOVROWTOY]OZ[O[^O^^O_^O`^Oa^Ow^Oz_O!cZO~OdaO~OdbO~OdcO~OddO~OdeO~O!VfOPkP!YkP~O!WiOQnP!YnP~O!XlORqP!YqP~OSSOTPOUQOVROWTOXqOY]OZ[O[^O^^O_^O`^Oa^Ow^O!cZO~O!YrO~P#dO!ZsO!duO~OdvO~OdwO~OfyOj|O~OfyOj!OO~OfyOj!QO~OfyOj!SO~OfyOj!UO~O!VfOPkX!YkX~OP!WO!Y!XO~O!WiOQnX!YnX~OQ!ZO!Y!XO~O!XlORqX!YqX~OR!]O!Y!XO~O!Y!XO~P#dOd!_O~O!ZsO!d!aO~Oj!bO~Oj!cO~Og!dOfeXjeX~OfyOj!fO~OfyOj!gO~OfyOj!hO~OfyOj!iO~OfyOj!jO~Od!kO~Od!lO~Od!mO~Oj!nO~Oi!qO!_!oO!a!pO~Oj!rO~Oj!sO~Oj!tO~O_!uO`!uO!_!wO!`!uO~O_!xO`!xO!a!wO!b!xO~O_!uO`!uO!_!{O!`!uO~O_!xO`!xO!a!{O!b!xO~O`_a!cwz!c~",goto:"%o!_PPPPPPPPPPPPPPPPPP!`!fP!lPP!xPP!{#O#R#X#[#_#e#h#k#q#w!`P!`!`P#}$T$k$q$w$}%T%Z%aPPPPPPPP%gX^OX`pXUOX`pezabcde{}!P!R!TR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!TeZ!e{}!P!R!TQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"\u26a0 StartCloseTag StartCloseTag StartCloseTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue EndTag ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:66,context:Kp,nodeProps:[[Ps.closedBy,-11,1,2,3,4,5,6,7,8,9,10,11,"EndTag",-4,19,29,32,35,"CloseTag"],[Ps.group,-9,12,15,16,17,18,38,39,40,41,"Entity",14,"Entity TextContent",-3,27,30,33,"TextContent Entity"],[Ps.openedBy,26,"StartTag StartCloseTag",-4,28,31,34,36,"OpenTag"]],skippedNodes:[0],repeatNodeCount:9,tokenData:"!#b!aR!WOX$kXY)sYZ)sZ]$k]^)s^p$kpq)sqr$krs*zsv$kvw+dwx2yx}$k}!O3f!O!P$k!P!Q7_!Q![$k![!]8u!]!^$k!^!_>b!_!`!!p!`!a8T!a!c$k!c!}8u!}#R$k#R#S8u#S#T$k#T#o8u#o$f$k$f$g&R$g%W$k%W%o8u%o%p$k%p&a8u&a&b$k&b1p8u1p4U$k4U4d8u4d4e$k4e$IS8u$IS$I`$k$I`$Ib8u$Ib$Kh$k$Kh%#t8u%#t&/x$k&/x&Et8u&Et&FV$k&FV;'S8u;'S;:j<t;:j?&r$k?&r?Ah8u?Ah?BY$k?BY?Mn8u?Mn~$k!Z$vc^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g~$k!R&[V^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&Rq&xT^P!bpOv&qwx'Xx!^&q!^!_'g!_~&qP'^R^POv'Xw!^'X!_~'Xp'lQ!bpOv'gx~'ga'yU^P!``Or'rrs'Xsv'rw!^'r!^!_(]!_~'r`(bR!``Or(]sv(]w~(]!Q(rT!``!bpOr(krs'gsv(kwx(]x~(kW)WXiWOX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!a*O^^P!``!bp!]^OX&RXY)sYZ)sZ]&R]^)s^p&Rpq)sqr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!Z+TT!_h^P!bpOv&qwx'Xx!^&q!^!_'g!_~&q!Z+kbiWaPOX,sXZ.QZ],s]^.Q^p,sqr,srs.Qst/]tw,swx.Qx!P,s!P!Q.Q!Q!],s!]!^)R!^!a.Q!a$f,s$f$g.Q$g~,s!Z,xbiWOX,sXZ.QZ],s]^.Q^p,sqr,srs.Qst)Rtw,swx.Qx!P,s!P!Q.Q!Q!],s!]!^.i!^!a.Q!a$f,s$f$g.Q$g~,s!R.TTOp.Qqs.Qt!].Q!]!^.d!^~.Q!R.iO_!R!Z.pXiW_!ROX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!Z/baiWOX0gXZ1qZ]0g]^1q^p0gqr0grs1qsw0gwx1qx!P0g!P!Q1q!Q!]0g!]!^)R!^!a1q!a$f0g$f$g1q$g~0g!Z0laiWOX0gXZ1qZ]0g]^1q^p0gqr0grs1qsw0gwx1qx!P0g!P!Q1q!Q!]0g!]!^2V!^!a1q!a$f0g$f$g1q$g~0g!R1tSOp1qq!]1q!]!^2Q!^~1q!R2VO`!R!Z2^XiW`!ROX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!Z3SU!ax^P!``Or'rrs'Xsv'rw!^'r!^!_(]!_~'r!]3qe^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx}$k}!O5S!O!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g~$k!]5_d^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!`&R!`!a6m!a$f$k$f$g&R$g~$k!T6xV^P!``!bp!dQOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!X7hX^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_!`&R!`!a8T!a~&R!X8`VjU^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!a9U!YfSdQ^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx}$k}!O8u!O!P8u!P!Q&R!Q![8u![!]8u!]!^$k!^!_(k!_!a&R!a!c$k!c!}8u!}#R$k#R#S8u#S#T$k#T#o8u#o$f$k$f$g&R$g$}$k$}%O8u%O%W$k%W%o8u%o%p$k%p&a8u&a&b$k&b1p8u1p4U8u4U4d8u4d4e$k4e$IS8u$IS$I`$k$I`$Ib8u$Ib$Je$k$Je$Jg8u$Jg$Kh$k$Kh%#t8u%#t&/x$k&/x&Et8u&Et&FV$k&FV;'S8u;'S;:j<t;:j?&r$k?&r?Ah8u?Ah?BY$k?BY?Mn8u?Mn~$k!a=Pe^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g;=`$k;=`<%l8u<%l~$k!R>iW!``!bpOq(kqr?Rrs'gsv(kwx(]x!a(k!a!bKj!b~(k!R?YZ!``!bpOr(krs'gsv(kwx(]x}(k}!O?{!O!f(k!f!gAR!g#W(k#W#XGz#X~(k!R@SV!``!bpOr(krs'gsv(kwx(]x}(k}!O@i!O~(k!R@rT!``!bp!cPOr(krs'gsv(kwx(]x~(k!RAYV!``!bpOr(krs'gsv(kwx(]x!q(k!q!rAo!r~(k!RAvV!``!bpOr(krs'gsv(kwx(]x!e(k!e!fB]!f~(k!RBdV!``!bpOr(krs'gsv(kwx(]x!v(k!v!wBy!w~(k!RCQV!``!bpOr(krs'gsv(kwx(]x!{(k!{!|Cg!|~(k!RCnV!``!bpOr(krs'gsv(kwx(]x!r(k!r!sDT!s~(k!RD[V!``!bpOr(krs'gsv(kwx(]x!g(k!g!hDq!h~(k!RDxW!``!bpOrDqrsEbsvDqvwEvwxFfx!`Dq!`!aGb!a~DqqEgT!bpOvEbvxEvx!`Eb!`!aFX!a~EbPEyRO!`Ev!`!aFS!a~EvPFXOzPqF`Q!bpzPOv'gx~'gaFkV!``OrFfrsEvsvFfvwEvw!`Ff!`!aGQ!a~FfaGXR!``zPOr(]sv(]w~(]!RGkT!``!bpzPOr(krs'gsv(kwx(]x~(k!RHRV!``!bpOr(krs'gsv(kwx(]x#c(k#c#dHh#d~(k!RHoV!``!bpOr(krs'gsv(kwx(]x#V(k#V#WIU#W~(k!RI]V!``!bpOr(krs'gsv(kwx(]x#h(k#h#iIr#i~(k!RIyV!``!bpOr(krs'gsv(kwx(]x#m(k#m#nJ`#n~(k!RJgV!``!bpOr(krs'gsv(kwx(]x#d(k#d#eJ|#e~(k!RKTV!``!bpOr(krs'gsv(kwx(]x#X(k#X#YDq#Y~(k!RKqW!``!bpOrKjrsLZsvKjvwLowxNPx!aKj!a!b! g!b~KjqL`T!bpOvLZvxLox!aLZ!a!bM^!b~LZPLrRO!aLo!a!bL{!b~LoPMORO!`Lo!`!aMX!a~LoPM^OwPqMcT!bpOvLZvxLox!`LZ!`!aMr!a~LZqMyQ!bpwPOv'gx~'gaNUV!``OrNPrsLosvNPvwLow!aNP!a!bNk!b~NPaNpV!``OrNPrsLosvNPvwLow!`NP!`!a! V!a~NPa! ^R!``wPOr(]sv(]w~(]!R! nW!``!bpOrKjrsLZsvKjvwLowxNPx!`Kj!`!a!!W!a~Kj!R!!aT!``!bpwPOr(krs'gsv(kwx(]x~(k!V!!{VgS^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R",tokenizers:[id,rd,od,ed,td,0,1,2,3,4,5],topRules:{Document:[0,13]},dialects:{noMatch:0},tokenPrec:464});function ad(e,t){let n=Object.create(null);for(let i of e.firstChild.getChildren("Attribute")){let e=i.getChild("AttributeName"),r=i.getChild("AttributeValue")||i.getChild("UnquotedAttributeValue");e&&(n[t.read(e.from,e.to)]=r?"AttributeValue"==r.name?t.read(r.from+1,r.to-1):t.read(r.from,r.to):"")}return n}function ld(e,t,n){let i;for(let r of n)if(!r.attrs||r.attrs(i||(i=ad(e.node.parent,t))))return{parser:r.parser};return null}function cd(e){let t=[],n=[],i=[];for(let o of e){let e="script"==o.tag?t:"style"==o.tag?n:"textarea"==o.tag?i:null;if(!e)throw new RangeError("Only script, style, and textarea tags can host nested parsers");e.push(o)}return r=(e,r)=>{let o=e.type.id;return 27==o?ld(e,r,t):30==o?ld(e,r,n):33==o?ld(e,r,i):null},(e,t,n,i)=>new ta(e,r,t,n,i);var r}const hd=280,pd=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],dd=new bp({start:!1,shift:(e,t)=>5==t||6==t||284==t?e:285==t,strict:!1}),ud=new sp(((e,t)=>{let{next:n}=e;(125==n||-1==n||t.context)&&t.canShift(282)&&e.acceptToken(282)}),{contextual:!0,fallback:!0}),fd=new sp(((e,t)=>{let n,{next:i}=e;pd.indexOf(i)>-1||(47!=i||47!=(n=e.peek(1))&&42!=n)&&125!=i&&59!=i&&-1!=i&&!t.context&&t.canShift(279)&&e.acceptToken(279)}),{contextual:!0}),md=new sp(((e,t)=>{let{next:n}=e;if((43==n||45==n)&&(e.advance(),n==e.next)){e.advance();let n=!t.context&&t.canShift(1);e.acceptToken(n?1:2)}}),{contextual:!0}),gd=new sp((e=>{for(let t=!1,n=0;;n++){let{next:i}=e;if(i<0){n&&e.acceptToken(hd);break}if(96==i){n?e.acceptToken(hd):e.acceptToken(281,1);break}if(123==i&&t){1==n?e.acceptToken(3,1):e.acceptToken(hd,-1);break}if(10==i&&n){e.advance(),e.acceptToken(hd);break}92==i&&e.advance(),t=36==i,e.advance()}}));const Od={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:48,true:56,false:56,void:66,typeof:70,null:86,super:88,new:122,await:139,yield:141,delete:142,class:152,extends:154,public:197,private:197,protected:197,readonly:199,instanceof:220,in:222,const:224,import:256,keyof:307,unique:311,infer:317,is:351,abstract:371,implements:373,type:375,let:378,var:380,interface:387,enum:391,namespace:397,module:399,declare:403,global:407,for:428,of:437,while:440,with:444,do:448,if:452,else:454,switch:458,case:464,try:470,catch:472,finally:474,return:478,throw:482,break:486,continue:490,debugger:494},xd={__proto__:null,async:109,get:111,set:113,public:161,private:161,protected:161,static:163,abstract:165,override:167,readonly:173,new:355},bd={__proto__:null,"<":129},vd=vp.deserialize({version:13,states:"$1jO`QYOOO'QQ!LdO'#ChO'XOSO'#DVO)dQYO'#D]O)tQYO'#DhO){QYO'#DrO-xQYO'#DxOOQO'#E]'#E]O.]QWO'#E[O.bQWO'#E[OOQ!LS'#Ef'#EfO0aQ!LdO'#IrO2wQ!LdO'#IsO3eQWO'#EzO3jQpO'#FaOOQ!LS'#FS'#FSO3rO!bO'#FSO4QQWO'#FhO5_QWO'#FgOOQ!LS'#Is'#IsOOQ!LQ'#Ir'#IrOOQQ'#J['#J[O5dQWO'#HnO5iQ!LYO'#HoOOQQ'#If'#IfOOQQ'#Hp'#HpQ`QYOOO){QYO'#DjO5qQWO'#G[O5vQ#tO'#CmO6UQWO'#EZO6aQWO'#EgO6fQ#tO'#FRO7QQWO'#G[O7VQWO'#G`O7bQWO'#G`O7pQWO'#GcO7pQWO'#GdO7pQWO'#GfO5qQWO'#GiO8aQWO'#GlO9oQWO'#CdO:PQWO'#GyO:XQWO'#HPO:XQWO'#HRO`QYO'#HTO:XQWO'#HVO:XQWO'#HYO:^QWO'#H`O:cQ!LZO'#HdO){QYO'#HfO:nQ!LZO'#HhO:yQ!LZO'#HjO5iQ!LYO'#HlO){QYO'#DWOOOS'#Hr'#HrO;UOSO,59qOOQ!LS,59q,59qO=gQbO'#ChO=qQYO'#HsO>UQWO'#ItO@TQbO'#ItO'dQYO'#ItO@[QWO,59wO@rQ&jO'#DbOAkQWO'#E]OAxQWO'#JPOBTQWO'#JOOBTQWO'#JOOB]QWO,5:yOBbQWO'#I}OBiQWO'#DyO5vQ#tO'#EZOBwQWO'#EZOCSQ`O'#FROOQ!LS,5:S,5:SOC[QYO,5:SOEYQ!LdO,5:^OEvQWO,5:dOFaQ!LYO'#I|O7VQWO'#I{OFhQWO'#I{OFpQWO,5:xOFuQWO'#I{OGTQYO,5:vOITQWO'#EWOJ_QWO,5:vOKnQWO'#DlOKuQYO'#DqOLPQ&jO,5;PO){QYO,5;POOQQ'#Er'#ErOOQQ'#Et'#EtO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;ROOQQ'#Ex'#ExOLXQYO,5;cOOQ!LS,5;h,5;hOOQ!LS,5;i,5;iONXQWO,5;iOOQ!LS,5;j,5;jO){QYO'#H}ON^Q!LYO,5<TONxQWO,5;RO){QYO,5;fO! bQpO'#JTO! PQpO'#JTO! iQpO'#JTO! zQpO,5;qOOOO,5;{,5;{O!!YQYO'#FcOOOO'#H|'#H|O3rO!bO,5;nO!!aQpO'#FeOOQ!LS,5;n,5;nO!!}Q,UO'#CrOOQ!LS'#Cu'#CuO!#bQWO'#CuO!#gOSO'#CyO!$TQ#tO,5<QO!$[QWO,5<SO!%hQWO'#FrO!%uQWO'#FsO!%zQWO'#FwO!&|Q&jO'#F{O!'oQ,UO'#IoOOQ!LS'#Io'#IoO!'yQWO'#InO!(XQWO'#ImOOQ!LS'#Cs'#CsOOQ!LS'#C|'#C|O!(aQWO'#DOOJdQWO'#FjOJdQWO'#FlO!(fQWO'#FnO!(kQWO'#FoO!(pQWO'#FuOJdQWO'#FzO!(uQWO'#E^O!)^QWO,5<RO`QYO,5>YOOQQ'#Ii'#IiOOQQ,5>Z,5>ZOOQQ-E;n-E;nO!+YQ!LdO,5:UOOQ!LQ'#Cp'#CpO!+yQ#tO,5<vOOQO'#Cf'#CfO!,[QWO'#CqO!,dQ!LYO'#IjO5_QWO'#IjO:^QWO,59XO!,rQpO,59XO!,zQ#tO,59XO5vQ#tO,59XO!-VQWO,5:vO!-_QWO'#GxO!-mQWO'#J`O){QYO,5;kO!-uQ&jO,5;mO!-zQWO,5=cO!.PQWO,5=cO!.UQWO,5=cO5iQ!LYO,5=cO5qQWO,5<vO!.dQWO'#E_O!.xQ&jO'#E`OOQ!LQ'#I}'#I}O!/ZQ!LYO'#J]O5iQ!LYO,5<zO7pQWO,5=QOOQO'#Cr'#CrO!/fQpO,5<}O!/nQ#tO,5=OO!/yQWO,5=QO!0OQ`O,5=TO:^QWO'#GnO5qQWO'#GpO!0WQWO'#GpO5vQ#tO'#GsO!0]QWO'#GsOOQQ,5=W,5=WO!0bQWO'#GtO!0jQWO'#CmO!0oQWO,59OO!0yQWO,59OO!2{QYO,59OOOQQ,59O,59OO!3YQ!LYO,59OO){QYO,59OO!3eQYO'#G{OOQQ'#G|'#G|OOQQ'#G}'#G}O`QYO,5=eO!3uQWO,5=eO){QYO'#DxO`QYO,5=kO`QYO,5=mO!3zQWO,5=oO`QYO,5=qO!4PQWO,5=tO!4UQYO,5=zOOQQ,5>O,5>OO){QYO,5>OO5iQ!LYO,5>QOOQQ,5>S,5>SO!8VQWO,5>SOOQQ,5>U,5>UO!8VQWO,5>UOOQQ,5>W,5>WO!8[Q`O,59rOOOS-E;p-E;pOOQ!LS1G/]1G/]O!8aQbO,5>_O'dQYO,5>_OOQO,5>d,5>dO!8kQYO'#HsOOQO-E;q-E;qO!8xQWO,5?`O!9QQbO,5?`O!9XQWO,5?jOOQ!LS1G/c1G/cO!9aQpO'#DTOOQO'#Iv'#IvO){QYO'#IvO!:OQpO'#IvO!:mQpO'#DcO!;OQ&jO'#DcO!=ZQYO'#DcO!=bQWO'#IuO!=jQWO,59|O!=oQWO'#EaO!=}QWO'#JQO!>VQWO,5:zO!>mQ&jO'#DcO){QYO,5?kO!>wQWO'#HxOOQO-E;v-E;vO!9XQWO,5?jOOQ!LQ1G0e1G0eO!@TQ&jO'#D|OOQ!LS,5:e,5:eO){QYO,5:eOITQWO,5:eO!@[QWO,5:eO:^QWO,5:uO!,rQpO,5:uO!,zQ#tO,5:uO5vQ#tO,5:uOOQ!LS1G/n1G/nOOQ!LS1G0O1G0OOOQ!LQ'#EV'#EVO){QYO,5?hO!@gQ!LYO,5?hO!@xQ!LYO,5?hO!APQWO,5?gO!AXQWO'#HzO!APQWO,5?gOOQ!LQ1G0d1G0dO7VQWO,5?gOOQ!LS1G0b1G0bO!AsQ!LdO1G0bO!BdQ!LbO,5:rOOQ!LS'#Fq'#FqO!CQQ!LdO'#IoOGTQYO1G0bO!EPQ#tO'#IwO!EZQWO,5:WO!E`QbO'#IxO){QYO'#IxO!EjQWO,5:]OOQ!LS'#DT'#DTOOQ!LS1G0k1G0kO!EoQWO1G0kO!HQQ!LdO1G0mO!HXQ!LdO1G0mO!JlQ!LdO1G0mO!JsQ!LdO1G0mO!LzQ!LdO1G0mO!M_Q!LdO1G0mO#!OQ!LdO1G0mO#!VQ!LdO1G0mO#$jQ!LdO1G0mO#$qQ!LdO1G0mO#&fQ!LdO1G0mO#)`Q7^O'#ChO#+ZQ7^O1G0}O#-UQ7^O'#IsOOQ!LS1G1T1G1TO#-iQ!LdO,5>iOOQ!LQ-E;{-E;{O#.YQ!LdO1G0mOOQ!LS1G0m1G0mO#0[Q!LdO1G1QO#0{QpO,5;sO#1QQpO,5;tO#1VQpO'#F[O#1kQWO'#FZOOQO'#JU'#JUOOQO'#H{'#H{O#1pQpO1G1]OOQ!LS1G1]1G1]OOOO1G1f1G1fO#2OQ7^O'#IrO#2YQWO,5;}OLXQYO,5;}OOOO-E;z-E;zOOQ!LS1G1Y1G1YOOQ!LS,5<P,5<PO#2_QpO,5<POOQ!LS,59a,59aOITQWO'#C{OOOS'#Hq'#HqO#2dOSO,59eOOQ!LS,59e,59eO){QYO1G1lO!(kQWO'#IPO#2oQWO,5<eOOQ!LS,5<b,5<bOOQO'#GV'#GVOJdQWO,5<pOOQO'#GX'#GXOJdQWO,5<rOJdQWO,5<tOOQO1G1n1G1nO#2zQ`O'#CpO#3_Q`O,5<^O#3fQWO'#JXO5qQWO'#JXO#3tQWO,5<`OJdQWO,5<_O#3yQ`O'#FqO#4WQ`O'#JYO#4bQWO'#JYOITQWO'#JYO#4gQWO,5<cOOQ!LQ'#Dg'#DgO#4lQWO'#FtO#4wQpO'#F|O!&wQ&jO'#F|O!&wQ&jO'#GOO#5YQWO'#GPO!(pQWO'#GSOOQO'#IR'#IRO#5_Q&jO,5<gOOQ!LS,5<g,5<gO#5fQ&jO'#F|O#5tQ&jO'#F}O#5|Q&jO'#F}OOQ!LS,5<u,5<uOJdQWO,5?YOJdQWO,5?YO#6RQWO'#ISO#6^QWO,5?XOOQ!LS'#Ch'#ChO#7QQ#tO,59jOOQ!LS,59j,59jO#7sQ#tO,5<UO#8fQ#tO,5<WO#8pQWO,5<YOOQ!LS,5<Z,5<ZO#8uQWO,5<aO#8zQ#tO,5<fOGTQYO1G1mO#9[QWO1G1mOOQQ1G3t1G3tOOQ!LS1G/p1G/pONXQWO1G/pOOQQ1G2b1G2bOITQWO1G2bO){QYO1G2bOITQWO1G2bO#9aQWO1G2bO#9oQWO,59]O#:xQWO'#EWOOQ!LQ,5?U,5?UO#;SQ!LYO,5?UOOQQ1G.s1G.sO:^QWO1G.sO!,rQpO1G.sO!,zQ#tO1G.sO#;bQWO1G0bO#;gQWO'#ChO#;rQWO'#JaO#;zQWO,5=dO#<PQWO'#JaO#<UQWO'#JaO#<^QWO'#I[O#<lQWO,5?zO#<tQbO1G1VOOQ!LS1G1X1G1XO5qQWO1G2}O#<{QWO1G2}O#=QQWO1G2}O#=VQWO1G2}OOQQ1G2}1G2}O#=[Q#tO1G2bO7VQWO'#JOO7VQWO'#EaO7VQWO'#IUO#=mQ!LYO,5?wOOQQ1G2f1G2fO!/yQWO1G2lOITQWO1G2iO#=xQWO1G2iOOQQ1G2j1G2jOITQWO1G2jO#=}QWO1G2jO#>VQ&jO'#GhOOQQ1G2l1G2lO!&wQ&jO'#IWO!0OQ`O1G2oOOQQ1G2o1G2oOOQQ,5=Y,5=YO#>_Q#tO,5=[O5qQWO,5=[O#5YQWO,5=_O5_QWO,5=_O!,rQpO,5=_O!,zQ#tO,5=_O5vQ#tO,5=_O#>pQWO'#J_O#>{QWO,5=`OOQQ1G.j1G.jO#?QQ!LYO1G.jO#?]QWO1G.jO#?bQWO1G.jO5iQ!LYO1G.jO#?jQbO,5?|O#?tQWO,5?|O#@PQYO,5=gO#@WQWO,5=gO7VQWO,5?|OOQQ1G3P1G3PO`QYO1G3POOQQ1G3V1G3VOOQQ1G3X1G3XO:XQWO1G3ZO#@]QYO1G3]O#DWQYO'#H[OOQQ1G3`1G3`O:^QWO1G3fO#DeQWO1G3fO5iQ!LYO1G3jOOQQ1G3l1G3lOOQ!LQ'#Fx'#FxO5iQ!LYO1G3nO5iQ!LYO1G3pOOOS1G/^1G/^O#DmQ`O,5<TO#DuQbO1G3yOOQO1G4O1G4OO){QYO,5>_O#EPQWO1G4zO#EXQWO1G5UO#EaQWO,5?bOLXQYO,5:{O7VQWO,5:{O:^QWO,59}OLXQYO,59}O!,rQpO,59}O#EfQ7^O,59}OOQO,5:{,5:{O#EpQ&jO'#HtO#FWQWO,5?aOOQ!LS1G/h1G/hO#F`Q&jO'#HyO#FtQWO,5?lOOQ!LQ1G0f1G0fO!;OQ&jO,59}O#F|QbO1G5VO7VQWO,5>dOOQ!LQ'#ES'#ESO#GWQ!LrO'#ETO!?{Q&jO'#D}OOQO'#Hw'#HwO#GrQ&jO,5:hOOQ!LS,5:h,5:hO#GyQ&jO'#D}O#H[Q&jO'#D}O#HcQ&jO'#EYO#HfQ&jO'#ETO#HsQ&jO'#ETO!?{Q&jO'#ETO#IWQWO1G0PO#I]Q`O1G0POOQ!LS1G0P1G0PO){QYO1G0POITQWO1G0POOQ!LS1G0a1G0aO:^QWO1G0aO!,rQpO1G0aO!,zQ#tO1G0aO#IdQ!LdO1G5SO){QYO1G5SO#ItQ!LYO1G5SO#JVQWO1G5RO7VQWO,5>fOOQO,5>f,5>fO#J_QWO,5>fOOQO-E;x-E;xO#JVQWO1G5RO#JmQ!LdO,59jO#LlQ!LdO,5<UO#NnQ!LdO,5<WO$!pQ!LdO,5<fOOQ!LS7+%|7+%|O$$xQ!LdO7+%|O$%iQWO'#HuO$%sQWO,5?cOOQ!LS1G/r1G/rO$%{QYO'#HvO$&YQWO,5?dO$&bQbO,5?dOOQ!LS1G/w1G/wOOQ!LS7+&V7+&VO$&lQ7^O,5:^O){QYO7+&iO$&vQ7^O,5:UOOQO1G1_1G1_OOQO1G1`1G1`O$'TQMhO,5;vOLXQYO,5;uOOQO-E;y-E;yOOQ!LS7+&w7+&wOOOO7+'Q7+'QOOOO1G1i1G1iO$'`QWO1G1iOOQ!LS1G1k1G1kO$'eQ`O,59gOOOS-E;o-E;oOOQ!LS1G/P1G/PO$'lQ!LdO7+'WOOQ!LS,5>k,5>kO$(]QWO,5>kOOQ!LS1G2P1G2PP$(bQWO'#IPPOQ!LS-E;}-E;}O$)RQ#tO1G2[O$)tQ#tO1G2^O$*OQ#tO1G2`OOQ!LS1G1x1G1xO$*VQWO'#IOO$*eQWO,5?sO$*eQWO,5?sO$*mQWO,5?sO$*xQWO,5?sOOQO1G1z1G1zO$+WQ#tO1G1yO$+hQWO'#IQO$+xQWO,5?tOITQWO,5?tO$,QQ`O,5?tOOQ!LS1G1}1G1}O5iQ!LYO,5<hO5iQ!LYO,5<iO$,[QWO,5<iO#5TQWO,5<iO!,rQpO,5<hO$,aQWO,5<jO5iQ!LYO,5<kO$,[QWO,5<nOOQO-E<P-E<POOQ!LS1G2R1G2RO!&wQ&jO,5<hO$,iQWO,5<iO!&wQ&jO,5<jO!&wQ&jO,5<iO$,tQ#tO1G4tO$-OQ#tO1G4tOOQO,5>n,5>nOOQO-E<Q-E<QO!-uQ&jO,59lO){QYO,59lO$-]QWO1G1tOJdQWO1G1{O$-bQ!LdO7+'XOOQ!LS7+'X7+'XOGTQYO7+'XOOQ!LS7+%[7+%[O$.RQ`O'#JZO#IWQWO7+'|O$.]QWO7+'|O$.eQ`O7+'|OOQQ7+'|7+'|OITQWO7+'|O){QYO7+'|OITQWO7+'|OOQO1G.w1G.wO$.oQ!LbO'#ChO$/PQ!LbO,5<lO$/nQWO,5<lOOQ!LQ1G4p1G4pOOQQ7+$_7+$_O:^QWO7+$_O!,rQpO7+$_OGTQYO7+%|O$/sQWO'#IZO$0UQWO,5?{OOQO1G3O1G3OO5qQWO,5?{O$0UQWO,5?{O$0^QWO,5?{OOQO,5>v,5>vOOQO-E<Y-E<YOOQ!LS7+&q7+&qO$0cQWO7+(iO5iQ!LYO7+(iO5qQWO7+(iO$0hQWO7+(iO$0mQWO7+'|OOQ!LQ,5>p,5>pOOQ!LQ-E<S-E<SOOQQ7+(W7+(WO$0{Q!LbO7+(TOITQWO7+(TO$1VQ`O7+(UOOQQ7+(U7+(UOITQWO7+(UO$1^QWO'#J^O$1iQWO,5=SOOQO,5>r,5>rOOQO-E<U-E<UOOQQ7+(Z7+(ZO$2cQ&jO'#GqOOQQ1G2v1G2vOITQWO1G2vO){QYO1G2vOITQWO1G2vO$2jQWO1G2vO$2xQ#tO1G2vO5iQ!LYO1G2yO#5YQWO1G2yO5_QWO1G2yO!,rQpO1G2yO!,zQ#tO1G2yO$3ZQWO'#IYO$3fQWO,5?yO$3nQ&jO,5?yOOQ!LQ1G2z1G2zOOQQ7+$U7+$UO$3vQWO7+$UO5iQ!LYO7+$UO$3{QWO7+$UO){QYO1G5hO){QYO1G5iO$4QQYO1G3RO$4XQWO1G3RO$4^QYO1G3RO$4eQ!LYO1G5hOOQQ7+(k7+(kO5iQ!LYO7+(uO`QYO7+(wOOQQ'#Jd'#JdOOQQ'#I]'#I]O$4oQYO,5=vOOQQ,5=v,5=vO){QYO'#H]O$4|QWO'#H_OOQQ7+)Q7+)QO$5RQYO7+)QO7VQWO7+)QOOQQ7+)U7+)UOOQQ7+)Y7+)YOOQQ7+)[7+)[OOQO1G4|1G4|O$9PQ7^O1G0gO$9ZQWO1G0gOOQO1G/i1G/iO$9fQ7^O1G/iO:^QWO1G/iOLXQYO'#DcOOQO,5>`,5>`OOQO-E;r-E;rOOQO,5>e,5>eOOQO-E;w-E;wO!,rQpO1G/iO:^QWO,5:iOOQO,5:o,5:oO){QYO,5:oO$9pQ!LYO,5:oO$9{Q!LYO,5:oO!,rQpO,5:iOOQO-E;u-E;uOOQ!LS1G0S1G0SO!?{Q&jO,5:iO$:ZQ&jO,5:iO$:lQ!LrO,5:oO$;WQ&jO,5:iO!?{Q&jO,5:oOOQO,5:t,5:tO$;_Q&jO,5:oO$;lQ!LYO,5:oOOQ!LS7+%k7+%kO#IWQWO7+%kO#I]Q`O7+%kOOQ!LS7+%{7+%{O:^QWO7+%{O!,rQpO7+%{O$<QQ!LdO7+*nO){QYO7+*nOOQO1G4Q1G4QO7VQWO1G4QO$<bQWO7+*mO$<jQ!LdO1G2[O$>lQ!LdO1G2^O$@nQ!LdO1G1yO$BvQ#tO,5>aOOQO-E;s-E;sO$CQQbO,5>bO){QYO,5>bOOQO-E;t-E;tO$C[QWO1G5OO$CdQ7^O1G0bO$EkQ7^O1G0mO$ErQ7^O1G0mO$GsQ7^O1G0mO$GzQ7^O1G0mO$IoQ7^O1G0mO$JSQ7^O1G0mO$LaQ7^O1G0mO$LhQ7^O1G0mO$NiQ7^O1G0mO$NpQ7^O1G0mO%!eQ7^O1G0mO%!xQ!LdO<<JTO%#iQ7^O1G0mO%%XQ7^O'#IoO%'UQ7^O1G1QOLXQYO'#F^OOQO'#JV'#JVOOQO1G1b1G1bO%'cQWO1G1aO%'hQ7^O,5>iOOOO7+'T7+'TOOOS1G/R1G/ROOQ!LS1G4V1G4VOJdQWO7+'zO%'rQWO,5>jO5qQWO,5>jOOQO-E;|-E;|O%(QQWO1G5_O%(QQWO1G5_O%(YQWO1G5_O%(eQ`O,5>lO%(oQWO,5>lOITQWO,5>lOOQO-E<O-E<OO%(tQ`O1G5`O%)OQWO1G5`OOQO1G2S1G2SOOQO1G2T1G2TO5iQ!LYO1G2TO$,[QWO1G2TO5iQ!LYO1G2SO%)WQWO1G2UOITQWO1G2UOOQO1G2V1G2VO5iQ!LYO1G2YO!,rQpO1G2SO#5TQWO1G2TO%)]QWO1G2UO%)eQWO1G2TOJdQWO7+*`OOQ!LS1G/W1G/WO%)pQWO1G/WOOQ!LS7+'`7+'`O%)uQ#tO7+'gO%*VQ!LdO<<JsOOQ!LS<<Js<<JsOITQWO'#ITO%*vQWO,5?uOOQQ<<Kh<<KhOITQWO<<KhO#IWQWO<<KhO%+OQWO<<KhO%+WQ`O<<KhOITQWO1G2WOOQQ<<Gy<<GyO:^QWO<<GyO%+bQ!LdO<<IhOOQ!LS<<Ih<<IhOOQO,5>u,5>uO%,RQWO,5>uO%,WQWO,5>uOOQO-E<X-E<XO%,`QWO1G5gO%,`QWO1G5gO5qQWO1G5gO%,hQWO<<LTOOQQ<<LT<<LTO%,mQWO<<LTO5iQ!LYO<<LTO){QYO<<KhOITQWO<<KhOOQQ<<Ko<<KoO$0{Q!LbO<<KoOOQQ<<Kp<<KpO$1VQ`O<<KpO%,rQ&jO'#IVO%,}QWO,5?xOLXQYO,5?xOOQQ1G2n1G2nO#GWQ!LrO'#ETO!?{Q&jO'#GrOOQO'#IX'#IXO%-VQ&jO,5=]OOQQ,5=],5=]O%-^Q&jO'#ETO%-iQ&jO'#ETO%.QQ&jO'#ETO%.[Q&jO'#GrO%.mQWO7+(bO%.rQWO7+(bO%.zQ`O7+(bOOQQ7+(b7+(bOITQWO7+(bO){QYO7+(bOITQWO7+(bO%/UQWO7+(bOOQQ7+(e7+(eO5iQ!LYO7+(eO#5YQWO7+(eO5_QWO7+(eO!,rQpO7+(eO%/dQWO,5>tOOQO-E<W-E<WOOQO'#Gu'#GuO%/oQWO1G5eO5iQ!LYO<<GpOOQQ<<Gp<<GpO%/wQWO<<GpO%/|QWO7++SO%0RQWO7++TOOQQ7+(m7+(mO%0WQWO7+(mO%0]QYO7+(mO%0dQWO7+(mO){QYO7++SO){QYO7++TOOQQ<<La<<LaOOQQ<<Lc<<LcOOQQ-E<Z-E<ZOOQQ1G3b1G3bO%0iQWO,5=wOOQQ,5=y,5=yO:^QWO<<LlO%0nQWO<<LlOLXQYO7+&ROOQO7+%T7+%TO%0sQ7^O1G5VO:^QWO7+%TOOQO1G0T1G0TO%0}Q!LdO1G0ZOOQO1G0Z1G0ZO){QYO1G0ZO%1XQ!LYO1G0ZO:^QWO1G0TO!,rQpO1G0TO!?{Q&jO1G0TO%1dQ!LYO1G0ZO%1rQ&jO1G0TO%2TQ!LYO1G0ZO%2iQ!LrO1G0ZO%2sQ&jO1G0TO!?{Q&jO1G0ZOOQ!LS<<IV<<IVOOQ!LS<<Ig<<IgO:^QWO<<IgO%2zQ!LdO<<NYOOQO7+)l7+)lO%3[Q!LdO7+'gO%5dQbO1G3|O%5nQ7^O7+%|O%5{Q7^O,59jO%7xQ7^O,5<UO%9uQ7^O,5<WO%;rQ7^O,5<fO%=bQ7^O7+'WO%=oQ7^O7+'XO%=|QWO,5;xOOQO7+&{7+&{O%>RQ#tO<<KfOOQO1G4U1G4UO%>cQWO1G4UO%>nQWO1G4UO%>|QWO7+*yO%>|QWO7+*yOITQWO1G4WO%?UQ`O1G4WO%?`QWO7+*zOOQO7+'o7+'oO5iQ!LYO7+'oOOQO7+'n7+'nO$,[QWO7+'pO%?hQ`O7+'pOOQO7+'t7+'tO5iQ!LYO7+'nO$,[QWO7+'oO%?oQWO7+'pOITQWO7+'pO#5TQWO7+'oO%?tQ#tO<<MzOOQ!LS7+$r7+$rO%@OQ`O,5>oOOQO-E<R-E<RO#IWQWOANASOOQQANASANASOITQWOANASO%@YQ!LbO7+'rOOQQAN=eAN=eO5qQWO1G4aOOQO1G4a1G4aO%@gQWO1G4aO%@lQWO7++RO%@lQWO7++RO5iQ!LYOANAoO%@tQWOANAoOOQQANAoANAoO%@yQWOANASO%ARQ`OANASOOQQANAZANAZOOQQANA[ANA[O%A]QWO,5>qOOQO-E<T-E<TO%AhQ7^O1G5dO#5YQWO,5=^O5_QWO,5=^O!,rQpO,5=^OOQO-E<V-E<VOOQQ1G2w1G2wO$:lQ!LrO,5:oO!?{Q&jO,5=^O%ArQ&jO,5=^O%BTQ&jO,5:oOOQQ<<K|<<K|OITQWO<<K|O%.mQWO<<K|O%B_QWO<<K|O%BgQ`O<<K|O){QYO<<K|OITQWO<<K|OOQQ<<LP<<LPO5iQ!LYO<<LPO#5YQWO<<LPO5_QWO<<LPO%BqQ&jO1G4`O%ByQWO7++POOQQAN=[AN=[O5iQ!LYOAN=[OOQQ<<Nn<<NnOOQQ<<No<<NoOOQQ<<LX<<LXO%CRQWO<<LXO%CWQYO<<LXO%C_QWO<<NnO%CdQWO<<NoOOQQ1G3c1G3cOOQQANBWANBWO:^QWOANBWO%CiQ7^O<<ImOOQO<<Ho<<HoOOQO7+%u7+%uO%0}Q!LdO7+%uO){QYO7+%uOOQO7+%o7+%oO:^QWO7+%oO!,rQpO7+%oO%CsQ!LYO7+%uO!?{Q&jO7+%oO%DOQ!LYO7+%uO%D^Q&jO7+%oO%DoQ!LYO7+%uOOQ!LSAN?RAN?RO%ETQ!LdO<<KfO%G]Q7^O<<JTO%GjQ7^O1G1yO%IYQ7^O1G2[O%KVQ7^O1G2^O%MSQ7^O<<JsO%MaQ7^O<<IhOOQO1G1d1G1dOOQO7+)p7+)pO%MnQWO7+)pO%MyQWO<<NeO%NRQ`O7+)rOOQO<<KZ<<KZO5iQ!LYO<<K[O$,[QWO<<K[OOQO<<KY<<KYO5iQ!LYO<<KZO%N]Q`O<<K[O$,[QWO<<KZOOQQG26nG26nO#IWQWOG26nOOQO7+){7+){O5qQWO7+){O%NdQWO<<NmOOQQG27ZG27ZO5iQ!LYOG27ZOITQWOG26nOLXQYO1G4]O%NlQWO7++OO5iQ!LYO1G2xO#5YQWO1G2xO5_QWO1G2xO!,rQpO1G2xO!?{Q&jO1G2xO%2iQ!LrO1G0ZO%NtQ&jO1G2xO%.mQWOANAhOOQQANAhANAhOITQWOANAhO& VQWOANAhO& _Q`OANAhOOQQANAkANAkO5iQ!LYOANAkO#5YQWOANAkOOQO'#Gv'#GvOOQO7+)z7+)zOOQQG22vG22vOOQQANAsANAsO& iQWOANAsOOQQANDYANDYOOQQANDZANDZO& nQYOG27rOOQO<<Ia<<IaO%0}Q!LdO<<IaOOQO<<IZ<<IZO:^QWO<<IZO){QYO<<IaO!,rQpO<<IZO&%lQ!LYO<<IaO!?{Q&jO<<IZO&%wQ!LYO<<IaO&&VQ7^O7+'gOOQO<<M[<<M[OOQOAN@vAN@vO5iQ!LYOAN@vOOQOAN@uAN@uO$,[QWOAN@vO5iQ!LYOAN@uOOQQLD,YLD,YOOQO<<Mg<<MgOOQQLD,uLD,uO#IWQWOLD,YO&'uQ7^O7+)wOOQO7+(d7+(dO5iQ!LYO7+(dO#5YQWO7+(dO5_QWO7+(dO!,rQpO7+(dO!?{Q&jO7+(dOOQQG27SG27SO%.mQWOG27SOITQWOG27SOOQQG27VG27VO5iQ!LYOG27VOOQQG27_G27_O:^QWOLD-^OOQOAN>{AN>{OOQOAN>uAN>uO%0}Q!LdOAN>{O:^QWOAN>uO){QYOAN>{O!,rQpOAN>uO&(PQ!LYOAN>{O&([Q7^O<<KfOOQOG26bG26bO5iQ!LYOG26bOOQOG26aG26aOOQQ!$( t!$( tOOQO<<LO<<LOO5iQ!LYO<<LOO#5YQWO<<LOO5_QWO<<LOO!,rQpO<<LOOOQQLD,nLD,nO%.mQWOLD,nOOQQLD,qLD,qOOQQ!$(!x!$(!xOOQOG24gG24gOOQOG24aG24aO%0}Q!LdOG24gO:^QWOG24aO){QYOG24gOOQOLD+|LD+|OOQOANAjANAjO5iQ!LYOANAjO#5YQWOANAjO5_QWOANAjOOQQ!$(!Y!$(!YOOQOLD*RLD*ROOQOLD){LD){O%0}Q!LdOLD*ROOQOG27UG27UO5iQ!LYOG27UO#5YQWOG27UOOQO!$'Mm!$'MmOOQOLD,pLD,pO5iQ!LYOLD,pOOQO!$(![!$(![OLXQYO'#DrO&)zQbO'#IrOLXQYO'#DjO&*RQ!LdO'#ChO&*lQbO'#ChO&*|QYO,5:vOLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO'#H}O&,|QWO,5<TO&.`QWO,5;ROLXQYO,5;fO!(aQWO'#DOO!(aQWO'#DOOITQWO'#FjO&-UQWO'#FjOITQWO'#FlO&-UQWO'#FlOITQWO'#FzO&-UQWO'#FzOLXQYO,5?kO&*|QYO1G0bO&.gQ7^O'#ChOLXQYO1G1lOITQWO,5<pO&-UQWO,5<pOITQWO,5<rO&-UQWO,5<rOITQWO,5<_O&-UQWO,5<_O&*|QYO1G1mOLXQYO7+&iOITQWO1G1{O&-UQWO1G1{O&*|QYO7+'XO&*|QYO7+%|OITQWO7+'zO&-UQWO7+'zO&.qQWO'#E[O&.vQWO'#E[O&/OQWO'#EzO&/TQWO'#EgO&/YQWO'#JPO&/eQWO'#I}O&/pQWO,5:vO&/uQ#tO,5<QO&/|QWO'#FsO&0RQWO'#FsO&0WQWO,5<RO&0`QWO,5:vO&0hQ7^O1G0}O&0oQWO,5<aO&0tQWO,5<aO&0yQWO1G1mO&1OQWO1G0bO&1TQ#tO1G2`O&1[Q#tO1G2`O4QQWO'#FhO5_QWO'#FgOBwQWO'#EZOLXQYO,5;cO!(pQWO'#FuO!(pQWO'#FuOJdQWO,5<tOJdQWO,5<t",stateData:"&2X~O'WOS'XOSTOSUOS~OPTOQTOXyO]cO_hObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#dsO#tpO#x^O%PqO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO%axO%nzO%t{O%v|O%x}O%z!OO%}!PO&T!QO&X!RO&Z!SO&]!TO&_!UO&a!VO'ZPO'dQO'mYO'zaO~OP[XZ[X_[Xj[Xu[Xv[Xx[X!R[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'U[X'd[X'n[X'u[X'v[X~O!]$lX~P$zOR!WO'S!XO'T!ZO~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'Z![O'dQO'mYO'zaO~O!Q!`O!R!]O!O'hP!O'rP~P'dO!S!mO~P`OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'Z9YO'dQO'mYO'zaO~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'dQO'mYO'zaO~O!Q!rO#U!uO#V!rO'Z9ZO!c'oP~P+{O#W!vO~O!]!wO#W!vO~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!R#bO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'dQO'n#[O'u!}O'v#OO~O_'fX'U'fX!c'fX!O'fX!T'fX%Q'fX!]'fX~P.jO!{#eO#o#eOP'gXZ'gX_'gXj'gXu'gXv'gXx'gX!R'gX!a'gX!b'gX!d'gX!j'gX#['gX#]'gX#^'gX#_'gX#`'gX#a'gX#b'gX#e'gX#g'gX#i'gX#j'gX'd'gX'n'gX'u'gX'v'gX~O#c'gX'U'gX!O'gX!c'gXn'gX!T'gX%Q'gX!]'gX~P0zO!{#eO~O#z#fO$R#jO~O!T#kO#x^O$U#lO$W#nO~O]#qOh$OOj#rOk#qOl#qOq$POs$QOx#xO!T#yO!_$VO!d#vO#V$WO#t$TO$_$RO$a$SO$d$UO'Z#pO'd#sO'_'aP~O!d$XO~O!]$ZO~O_$[O'U$[O~O'Z$`O~O!d$XO'Z$`O'[$bO'`$cO~Oc$iO!d$XO'Z$`O~O#c#TO~O]$rOu$nO!T$kO!d$mO%R$qO'Z$`O'[$bO^(SP~O!n$sO~Ox$tO!T$uO'Z$`O~Ox$tO!T$uO%Z$yO'Z$`O~O'Z$zO~O#dsO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO~Ob%TOc%SO!n%QO%P%RO%c%PO~P7uOb%WOcmO!T%VO!nlO#dsO%PqO%TrO%UrO%XuO%ZvO%^wO%_wO%axO~O`%ZO!{%^O%R%XO'[$bO~P8tO!d%_O!g%cO~O!d%dO~O!TSO~O_$[O'R%lO'U$[O~O_$[O'R%oO'U$[O~O_$[O'R%qO'U$[O~OR!WO'S!XO'T%uO~OP[XZ[Xj[Xu[Xv[Xx[X!R[X!RdX!a[X!b[X!d[X!j[X!{[X!{dX#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'd[X'n[X'u[X'v[X~O!O[X!OdX~P;aO!Q%wO!O&gX!O&lX!R&gX!R&lX~P'dO!R%yO!O'hX~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!R%yO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'dQO'n#[O'u!}O'v#OO~O!O'hX~P>^O!O&OO~Ox&RO!W&]O!X&UO!Y&UO'[$bO~O]&SOk&SO!Q&VO'e&PO!S'iP!S'tP~P@aO!O'qX!R'qX!]'qX!c'qX'n'qX~O!{'qX#W#PX!S'qX~PAYO!{&^O!O'sX!R'sX~O!R&_O!O'rX~O!O&bO~O!{#eO~PAYOS&fO!T&cO!o&eO'Z$`O~Oc&kO!d$XO'Z$`O~Ou$nO!d$mO~O!S&lO~P`Ou!{Ov!{Ox!|O!b!yO!d!zO'dQOP!faZ!faj!fa!R!fa!a!fa!j!fa#[!fa#]!fa#^!fa#_!fa#`!fa#a!fa#b!fa#c!fa#e!fa#g!fa#i!fa#j!fa'n!fa'u!fa'v!fa~O_!fa'U!fa!O!fa!c!fan!fa!T!fa%Q!fa!]!fa~PCcO!c&mO~O!]!wO!{&oO'n&nO!R'pX_'pX'U'pX~O!c'pX~PE{O!R&sO!c'oX~O!c&uO~Ox$tO!T$uO#V&vO'Z$`O~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'Z9YO'dQO'mYO'zaO~O]#qOh$OOj#rOk#qOl#qOq$POs9lOx#xO!T#yO!_:oO!d#vO#V9rO#t$TO$_9nO$a9pO$d$UO'Z&zO'd#sO~O#W&|O~O]#qOh$OOj#rOk#qOl#qOq$POs$QOx#xO!T#yO!_$VO!d#vO#V$WO#t$TO$_$RO$a$SO$d$UO'Z&zO'd#sO~O'_'kP~PJdO!Q'QO!c'lP~P){O'e'SO'mYO~OP9VOQ9VO]cOb:mOc!jOhcOj9VOkcOlcOq9VOs9VOxRO{cO|cO}cO!T!bO!_9XO!dUO!g9VO!h9VO!i9VO!j9VO!k9VO!n!iO#t!lO#x^O'Z'bO'dQO'mYO'z:kO~O!d!zO~O!R#bO_$]a'U$]a!c$]a!O$]a!T$]a%Q$]a!]$]a~O#d'iO~PITO!]'kO!T'wX#w'wX#z'wX$R'wX~Ou'lO~P! POu'lO!T'wX#w'wX#z'wX$R'wX~O!T'nO#w'rO#z'mO$R'sO~O!Q'vO~PLXO#z#fO$R'yO~Ou$eXx$eX!b$eX'n$eX'u$eX'v$eX~OSfX!RfX!{fX'_fX'_$eX~P!!iOk'{O~OR'|O'S'}O'T(PO~Ou(ROx(SO'n#[O'u(UO'v(WO~O'_(QO~P!#rO'_(ZO~O]#qOh$OOj#rOk#qOl#qOq$POs9lOx#xO!T#yO!_:oO!d#vO#V9rO#t$TO$_9nO$a9pO$d$UO'd#sO~O!Q(_O'Z([O!c'{P~P!$aO#W(aO~O!Q(eO'Z(bO!O'|P~P!$aO_(nOj(sOx(kO!W(qO!X(jO!Y(jO!d(hO!x(rO$w(mO'[$bO'e(gO~O!S(pO~P!&XO!b!yOu'cXx'cX'n'cX'u'cX'v'cX!R'cX!{'cX~O'_'cX#m'cX~P!'TOS(vO!{(uO!R'bX'_'bX~O!R(wO'_'aX~O'Z(yO~O!d)OO~O'Z&zO~O!d(hO~Ox$tO!Q!rO!T$uO#U!uO#V!rO'Z$`O!c'oP~O!]!wO#W)SO~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'dQO'n#[O'u!}O'v#OO~O_!^a!R!^a'U!^a!O!^a!c!^an!^a!T!^a%Q!^a!]!^a~P!)fOS)[O!T&cO!o)ZO%Q)YO'`$cO~O'Z$zO'_'aP~O!])_O!T'^X_'^X'U'^X~O!d$XO'`$cO~O!d$XO'Z$`O'`$cO~O!]!wO#W&|O~O])jO%R)kO'Z)gO!S(TP~O!R)lO^(SX~O'e'SO~OZ)pO~O^)qO~O!T$kO'Z$`O'[$bO^(SP~Ox$tO!Q)vO!R&_O!T$uO'Z$`O!O'rP~O]&YOk&YO!Q)wO'e'SO!S'tP~O!R)xO_(PX'U(PX~O!{)|O'`$cO~OS*PO!T#yO'`$cO~O!T*RO~Ou*TO!TSO~O!n*YO~Oc*_O~O'Z(yO!S(RP~Oc$iO~O%RtO'Z$zO~P8tOZ*eO^*dO~OPTOQTO]cObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#x^O%PqO'dQO'mYO'zaO~O!T!bO#t!lO'Z9YO~P!1RO^*dO_$[O'U$[O~O_*iO#d*kO%T*kO%U*kO~P){O!d%_O~O%t*pO~O!T*rO~O&U*uO&V*tOP&SaQ&SaX&Sa]&Sa_&Sab&Sac&Sah&Saj&Sak&Sal&Saq&Sas&Sax&Sa{&Sa|&Sa}&Sa!T&Sa!_&Sa!d&Sa!g&Sa!h&Sa!i&Sa!j&Sa!k&Sa!n&Sa#d&Sa#t&Sa#x&Sa%P&Sa%R&Sa%T&Sa%U&Sa%X&Sa%Z&Sa%^&Sa%_&Sa%a&Sa%n&Sa%t&Sa%v&Sa%x&Sa%z&Sa%}&Sa&T&Sa&X&Sa&Z&Sa&]&Sa&_&Sa&a&Sa'Q&Sa'Z&Sa'd&Sa'm&Sa'z&Sa!S&Sa%{&Sa`&Sa&Q&Sa~O'Z*xO~On*{O~O!O&ga!R&ga~P!)fO!Q+PO!O&gX!R&gX~P){O!R%yO!O'ha~O!O'ha~P>^O!R&_O!O'ra~O!RwX!R!ZX!SwX!S!ZX!]wX!]!ZX!d!ZX!{wX'`!ZX~O!]+UO!{+TO!R#TX!R'jX!S#TX!S'jX!]'jX!d'jX'`'jX~O!]+WO!d$XO'`$cO!R!VX!S!VX~O]&QOk&QOx&RO'e(gO~OP9VOQ9VO]cOb:mOc!jOhcOj9VOkcOlcOq9VOs9VOxRO{cO|cO}cO!T!bO!_9XO!dUO!g9VO!h9VO!i9VO!j9VO!k9VO!n!iO#t!lO#x^O'dQO'mYO'z:kO~O'Z9vO~P!;^O!R+[O!S'iX~O!S+^O~O!]+UO!{+TO!R#TX!S#TX~O!R+_O!S'tX~O!S+aO~O]&QOk&QOx&RO'[$bO'e(gO~O!X+bO!Y+bO~P!>[Ox$tO!Q+dO!T$uO'Z$`O!O&lX!R&lX~O_+hO!W+kO!X+gO!Y+gO!r+oO!s+mO!t+nO!u+lO!x+pO'[$bO'e(gO'm+eO~O!S+jO~P!?]OS+uO!T&cO!o+tO~O!{+{O!R'pa!c'pa_'pa'U'pa~O!]!wO~P!@gO!R&sO!c'oa~Ox$tO!Q,OO!T$uO#U,QO#V,OO'Z$`O!R&nX!c&nX~O_#Oi!R#Oi'U#Oi!O#Oi!c#Oin#Oi!T#Oi%Q#Oi!]#Oi~P!)fO#W!za!R!za!c!za!{!za!T!za_!za'U!za!O!za~P!#rO#W'cXP'cXZ'cX_'cXj'cXv'cX!a'cX!d'cX!j'cX#['cX#]'cX#^'cX#_'cX#`'cX#a'cX#b'cX#c'cX#e'cX#g'cX#i'cX#j'cX'U'cX'd'cX!c'cX!O'cX!T'cXn'cX%Q'cX!]'cX~P!'TO!R,ZO'_'kX~P!#rO'_,]O~O!R,^O!c'lX~P!)fO!c,aO~O!O,bO~OP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'dQOZ#Zi_#Zij#Zi!R#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'U#Zi'n#Zi'u#Zi'v#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O#[#Zi~P!EtO#[#PO~P!EtOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO'dQOZ#Zi_#Zi!R#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'U#Zi'n#Zi'u#Zi'v#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~Oj#Zi~P!H`Oj#RO~P!H`OP#^Oj#ROu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO'dQO_#Zi!R#Zi#e#Zi#g#Zi#i#Zi#j#Zi'U#Zi'n#Zi'u#Zi'v#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P!JzOZ#dO!a#TO#a#TO#b#TO#c#TO~P!JzOP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO'dQO_#Zi!R#Zi#g#Zi#i#Zi#j#Zi'U#Zi'n#Zi'v#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'u#Zi~P!MrO'u!}O~P!MrOP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO'dQO'u!}O_#Zi!R#Zi#i#Zi#j#Zi'U#Zi'n#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'v#Zi~P#!^O'v#OO~P#!^OP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO'dQO'u!}O'v#OO~O_#Zi!R#Zi#j#Zi'U#Zi'n#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P#$xOP[XZ[Xj[Xu[Xv[Xx[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'd[X'n[X'u[X'v[X!R[X!S[X~O#m[X~P#']OP#^OZ9jOj9_Ou!{Ov!{Ox!|O!a9aO!b!yO!d!zO!j#^O#[9]O#]9^O#^9^O#_9^O#`9`O#a9aO#b9aO#c9aO#e9bO#g9dO#i9fO#j9gO'dQO'n#[O'u!}O'v#OO~O#m,dO~P#)gOP'gXZ'gXj'gXu'gXv'gXx'gX!a'gX!b'gX!d'gX!j'gX#['gX#]'gX#^'gX#_'gX#`'gX#a'gX#b'gX#e'gX#g'gX#i'gX#j'gX'd'gX'n'gX'u'gX'v'gX!R'gX~O!{9kO#o9kO#c'gX#m'gX!S'gX~P#+bO_&qa!R&qa'U&qa!c&qan&qa!O&qa!T&qa%Q&qa!]&qa~P!)fOP#ZiZ#Zi_#Zij#Ziv#Zi!R#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'U#Zi'd#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P!#rO_#ni!R#ni'U#ni!O#ni!c#nin#ni!T#ni%Q#ni!]#ni~P!)fO#z,fO~O#z,gO~O!]'kO!{,hO!T$OX#w$OX#z$OX$R$OX~O!Q,iO~O!T'nO#w,kO#z'mO$R,lO~O!R9hO!S'fX~P#)gO!S,mO~O$R,oO~OR'|O'S'}O'T,rO~O],uOk,uO!O,vO~O!RdX!]dX!cdX!c$eX'ndX~P!!iO!c,|O~P!#rO!R,}O!]!wO'n&nO!c'{X~O!c-SO~O!O$eX!R$eX!]$lX~P!!iO!R-UO!O'|X~P!#rO!]-WO~O!O-YO~O!Q(_O'Z$`O!c'{P~Oj-^O!]!wO!d$XO'`$cO'n&nO~O!])_O~O!S-dO~P!&XO!X-eO!Y-eO'[$bO'e(gO~Ox-gO'e(gO~O!x-hO~O'Z$zO!R&vX'_&vX~O!R(wO'_'aa~Ou-mOv-mOx-nO'nra'ura'vra!Rra!{ra~O'_ra#mra~P#6fOu(ROx(SO'n$^a'u$^a'v$^a!R$^a!{$^a~O'_$^a#m$^a~P#7[Ou(ROx(SO'n$`a'u$`a'v$`a!R$`a!{$`a~O'_$`a#m$`a~P#7}O]-oO~O#W-pO~O'_$na!R$na#m$na!{$na~P!#rO#W-sO~OS-|O!T&cO!o-{O%Q-zO~O'_-}O~O]#qOj#rOk#qOl#qOq$POs9lOx#xO!T#yO!_:oO!d#vO#V9rO#t$TO$_9nO$a9pO$d$UO'd#sO~Oh.PO'Z.OO~P#9tO!])_O!T'^a_'^a'U'^a~O#W.VO~OZ[X!RdX!SdX~O!R.WO!S(TX~O!S.YO~OZ.ZO~O].]O'Z)gO~O!T$kO'Z$`O^'OX!R'OX~O!R)lO^(Sa~O!c.`O~P!)fO].bO~OZ.cO~O^.dO~OS-|O!T&cO!o-{O%Q-zO'`$cO~O!R)xO_(Pa'U(Pa~O!{.jO~OS.mO!T#yO~O'e'SO!S(QP~OS.wO!T.sO!o.vO%Q.uO'`$cO~OZ/RO!R/PO!S(RX~O!S/SO~O^/UO_$[O'U$[O~O]/VO~O]/WO'Z(yO~O#c/XO%r/YO~P0zO!{#eO#c/XO%r/YO~O_/ZO~P){O_/]O~O%{/aOP%yiQ%yiX%yi]%yi_%yib%yic%yih%yij%yik%yil%yiq%yis%yix%yi{%yi|%yi}%yi!T%yi!_%yi!d%yi!g%yi!h%yi!i%yi!j%yi!k%yi!n%yi#d%yi#t%yi#x%yi%P%yi%R%yi%T%yi%U%yi%X%yi%Z%yi%^%yi%_%yi%a%yi%n%yi%t%yi%v%yi%x%yi%z%yi%}%yi&T%yi&X%yi&Z%yi&]%yi&_%yi&a%yi'Q%yi'Z%yi'd%yi'm%yi'z%yi!S%yi`%yi&Q%yi~O`/gO!S/eO&Q/fO~P`O!TSO!d/jO~O!R#bOn$]a~O!O&gi!R&gi~P!)fO!R%yO!O'hi~O!R&_O!O'ri~O!O/nO~O!R!Va!S!Va~P#)gO]&QOk&QO!Q/tO'e(gO!R&hX!S&hX~P@aO!R+[O!S'ia~O]&YOk&YO!Q)wO'e'SO!R&mX!S&mX~O!R+_O!S'ta~O!O'si!R'si~P!)fO_$[O!]!wO!d$XO!j0OO!{/|O'U$[O'`$cO'n&nO~O!S0RO~P!?]O!X0SO!Y0SO'[$bO'e(gO'm+eO~O!W0TO~P#GyO!TSO!W0TO!u0VO!x0WO~P#GyO!W0TO!s0YO!t0YO!u0VO!x0WO~P#GyO!T&cO~O!T&cO~P!#rO!R'pi!c'pi_'pi'U'pi~P!)fO!{0cO!R'pi!c'pi_'pi'U'pi~O!R&sO!c'oi~Ox$tO!T$uO#V0eO'Z$`O~O#WraPraZra_rajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra'Ura'dra!cra!Ora!Tranra%Qra!]ra~P#6fO#W$^aP$^aZ$^a_$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a'U$^a'd$^a!c$^a!O$^a!T$^an$^a%Q$^a!]$^a~P#7[O#W$`aP$`aZ$`a_$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a'U$`a'd$`a!c$`a!O$`a!T$`an$`a%Q$`a!]$`a~P#7}O#W$naP$naZ$na_$naj$nav$na!R$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na'U$na'd$na!c$na!O$na!T$na!{$nan$na%Q$na!]$na~P!#rO_#Oq!R#Oq'U#Oq!O#Oq!c#Oqn#Oq!T#Oq%Q#Oq!]#Oq~P!)fO!R&iX'_&iX~PJdO!R,ZO'_'ka~O!Q0mO!R&jX!c&jX~P){O!R,^O!c'la~O!R,^O!c'la~P!)fO#m!fa!S!fa~PCcO#m!^a!R!^a!S!^a~P#)gO!T1QO#x^O$P1RO~O!S1VO~On1WO~P!#rO_$Yq!R$Yq'U$Yq!O$Yq!c$Yqn$Yq!T$Yq%Q$Yq!]$Yq~P!)fO!O1XO~O],uOk,uO~Ou(ROx(SO'v(WO'n$xi'u$xi!R$xi!{$xi~O'_$xi#m$xi~P$(jOu(ROx(SO'n$zi'u$zi'v$zi!R$zi!{$zi~O'_$zi#m$zi~P$)]O#m1YO~P!#rO!Q1[O'Z$`O!R&rX!c&rX~O!R,}O!c'{a~O!R,}O!]!wO!c'{a~O!R,}O!]!wO'n&nO!c'{a~O'_$gi!R$gi#m$gi!{$gi~P!#rO!Q1cO'Z(bO!O&tX!R&tX~P!$aO!R-UO!O'|a~O!R-UO!O'|a~P!#rO!]!wO~O!]!wO#c1mO~Oj1qO!]!wO'n&nO~O!R'bi'_'bi~P!#rO!{1tO!R'bi'_'bi~P!#rO!c1wO~O_$Zq!R$Zq'U$Zq!O$Zq!c$Zqn$Zq!T$Zq%Q$Zq!]$Zq~P!)fO!R1{O!T'}X~P!#rO!T&cO%Q2OO~O!T&cO%Q2OO~P!#rO!T$eX$u[X_$eX'U$eX~P!!iO$u2SOugXxgX!TgX'ngX'ugX'vgX_gX'UgX~O$u2SO~O]2YO%R2ZO'Z)gO!R&}X!S&}X~O!R.WO!S(Ta~OZ2_O~O^2`O~O]2cO~OS2eO!T&cO!o2dO%Q2OO~O_$[O'U$[O~P!#rO!T#yO~P!#rO!R2jO!{2lO!S(QX~O!S2mO~Ox(kO!W2vO!X2oO!Y2oO!r2uO!s2tO!t2tO!x2sO'[$bO'e(gO'm+eO~O!S2rO~P$1nOS2}O!T.sO!o2|O%Q2{O~OS2}O!T.sO!o2|O%Q2{O'`$cO~O'Z(yO!R&|X!S&|X~O!R/PO!S(Ra~O]3XO'e3WO~O]3YO~O^3[O~O!c3_O~P){O_3aO~O_3aO~P){O#c3cO%r3dO~PE{O`/gO!S3hO&Q/fO~P`O!]3jO~O&V3kOP&SqQ&SqX&Sq]&Sq_&Sqb&Sqc&Sqh&Sqj&Sqk&Sql&Sqq&Sqs&Sqx&Sq{&Sq|&Sq}&Sq!T&Sq!_&Sq!d&Sq!g&Sq!h&Sq!i&Sq!j&Sq!k&Sq!n&Sq#d&Sq#t&Sq#x&Sq%P&Sq%R&Sq%T&Sq%U&Sq%X&Sq%Z&Sq%^&Sq%_&Sq%a&Sq%n&Sq%t&Sq%v&Sq%x&Sq%z&Sq%}&Sq&T&Sq&X&Sq&Z&Sq&]&Sq&_&Sq&a&Sq'Q&Sq'Z&Sq'd&Sq'm&Sq'z&Sq!S&Sq%{&Sq`&Sq&Q&Sq~O!R#Ti!S#Ti~P#)gO!{3mO!R#Ti!S#Ti~O!R!Vi!S!Vi~P#)gO_$[O!{3tO'U$[O~O_$[O!]!wO!{3tO'U$[O~O!X3xO!Y3xO'[$bO'e(gO'm+eO~O_$[O!]!wO!d$XO!j3yO!{3tO'U$[O'`$cO'n&nO~O!W3zO~P$:ZO!W3zO!u3}O!x4OO~P$:ZO_$[O!]!wO!j3yO!{3tO'U$[O'n&nO~O!R'pq!c'pq_'pq'U'pq~P!)fO!R&sO!c'oq~O#W$xiP$xiZ$xi_$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi'U$xi'd$xi!c$xi!O$xi!T$xin$xi%Q$xi!]$xi~P$(jO#W$ziP$ziZ$zi_$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi'U$zi'd$zi!c$zi!O$zi!T$zin$zi%Q$zi!]$zi~P$)]O#W$giP$giZ$gi_$gij$giv$gi!R$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi'U$gi'd$gi!c$gi!O$gi!T$gi!{$gin$gi%Q$gi!]$gi~P!#rO!R&ia'_&ia~P!#rO!R&ja!c&ja~P!)fO!R,^O!c'li~O#m#Oi!R#Oi!S#Oi~P#)gOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'dQOZ#Zij#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'n#Zi'u#Zi'v#Zi!R#Zi!S#Zi~O#[#Zi~P$CqO#[9]O~P$CqOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9]O#]9^O#^9^O#_9^O'dQOZ#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'n#Zi'u#Zi'v#Zi!R#Zi!S#Zi~Oj#Zi~P$EyOj9_O~P$EyOP#^Oj9_Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9]O#]9^O#^9^O#_9^O#`9`O'dQO#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'n#Zi'u#Zi'v#Zi!R#Zi!S#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P$HROZ9jO!a9aO#a9aO#b9aO#c9aO~P$HROP#^OZ9jOj9_Ou!{Ov!{Ox!|O!a9aO!b!yO!d!zO!j#^O#[9]O#]9^O#^9^O#_9^O#`9`O#a9aO#b9aO#c9aO#e9bO'dQO#g#Zi#i#Zi#j#Zi#m#Zi'n#Zi'v#Zi!R#Zi!S#Zi~O'u#Zi~P$JgO'u!}O~P$JgOP#^OZ9jOj9_Ou!{Ov!{Ox!|O!a9aO!b!yO!d!zO!j#^O#[9]O#]9^O#^9^O#_9^O#`9`O#a9aO#b9aO#c9aO#e9bO#g9dO'dQO'u!}O#i#Zi#j#Zi#m#Zi'n#Zi!R#Zi!S#Zi~O'v#Zi~P$LoO'v#OO~P$LoOP#^OZ9jOj9_Ou!{Ov!{Ox!|O!a9aO!b!yO!d!zO!j#^O#[9]O#]9^O#^9^O#_9^O#`9`O#a9aO#b9aO#c9aO#e9bO#g9dO#i9fO'dQO'u!}O'v#OO~O#j#Zi#m#Zi'n#Zi!R#Zi!S#Zi~P$NwO_#ky!R#ky'U#ky!O#ky!c#kyn#ky!T#ky%Q#ky!]#ky~P!)fOP#ZiZ#Zij#Ziv#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'd#Zi!R#Zi!S#Zi~P!#rO!b!yOP'cXZ'cXj'cXu'cXv'cXx'cX!a'cX!d'cX!j'cX#['cX#]'cX#^'cX#_'cX#`'cX#a'cX#b'cX#c'cX#e'cX#g'cX#i'cX#j'cX#m'cX'd'cX'n'cX'u'cX'v'cX!R'cX!S'cX~O#m#ni!R#ni!S#ni~P#)gO!S4`O~O!R&qa!S&qa~P#)gO!]!wO'n&nO!R&ra!c&ra~O!R,}O!c'{i~O!R,}O!]!wO!c'{i~O!O&ta!R&ta~P!#rO!]4gO~O!R-UO!O'|i~P!#rO!R-UO!O'|i~O!O4mO~O!]!wO#c4sO~Oj4tO!]!wO'n&nO~O!O4vO~O'_$iq!R$iq#m$iq!{$iq~P!#rO_$Zy!R$Zy'U$Zy!O$Zy!c$Zyn$Zy!T$Zy%Q$Zy!]$Zy~P!)fO!R1{O!T'}a~O!T&cO%Q4{O~O!T&cO%Q4{O~P!#rO_#Oy!R#Oy'U#Oy!O#Oy!c#Oyn#Oy!T#Oy%Q#Oy!]#Oy~P!)fOZ5OO~O]5QO'Z)gO~O!R.WO!S(Ti~O]5TO~O^5UO~O'e'SO!R&yX!S&yX~O!R2jO!S(Qa~O!S5cO~P$1nOx-gO'e(gO'm+eO~O!W5fO!X5eO!Y5eO!x0WO'[$bO'e(gO'm+eO~O!s5gO!t5gO~P%-iO!X5eO!Y5eO'[$bO'e(gO'm+eO~O!T.sO~O!T.sO%Q5iO~O!T.sO%Q5iO~P!#rOS5nO!T.sO!o5mO%Q5iO~OZ5sO!R&|a!S&|a~O!R/PO!S(Ri~O]5vO~O!c5wO~O!c5xO~O!c5yO~O!c5yO~P){O_5{O~O!]6OO~O!c6QO~O!R'si!S'si~P#)gO_$[O'U$[O~P!)fO_$[O!{6VO'U$[O~O_$[O!]!wO!{6VO'U$[O~O!X6[O!Y6[O'[$bO'e(gO'm+eO~O_$[O!]!wO!j6]O!{6VO'U$[O'n&nO~O!d$XO'`$cO~P%2TO!W6^O~P%1rO!R'py!c'py_'py'U'py~P!)fO#W$iqP$iqZ$iq_$iqj$iqv$iq!R$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq'U$iq'd$iq!c$iq!O$iq!T$iq!{$iqn$iq%Q$iq!]$iq~P!#rO!R&ji!c&ji~P!)fO#m#Oq!R#Oq!S#Oq~P#)gOu-mOv-mOx-nOPraZrajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra#mra'dra'nra'ura'vra!Rra!Sra~Ou(ROx(SOP$^aZ$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a#m$^a'd$^a'n$^a'u$^a'v$^a!R$^a!S$^a~Ou(ROx(SOP$`aZ$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a#m$`a'd$`a'n$`a'u$`a'v$`a!R$`a!S$`a~OP$naZ$naj$nav$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na#m$na'd$na!R$na!S$na~P!#rO#m$Yq!R$Yq!S$Yq~P#)gO#m$Zq!R$Zq!S$Zq~P#)gO!S6hO~O'_$|y!R$|y#m$|y!{$|y~P!#rO!]!wO!R&ri!c&ri~O!]!wO'n&nO!R&ri!c&ri~O!R,}O!c'{q~O!O&ti!R&ti~P!#rO!R-UO!O'|q~O!O6oO~P!#rO!O6oO~O!R'by'_'by~P!#rO!R&wa!T&wa~P!#rO!T$tq_$tq'U$tq~P!#rOZ6wO~O!R.WO!S(Tq~O]6zO~O!T&cO%Q6{O~O!T&cO%Q6{O~P!#rO!{6|O!R&ya!S&ya~O!R2jO!S(Qi~P#)gO!X7SO!Y7SO'[$bO'e(gO'm+eO~O!W7UO!x4OO~P%ArO!T.sO%Q7XO~O!T.sO%Q7XO~P!#rO]7`O'e7_O~O!R/PO!S(Rq~O!c7bO~O!c7bO~P){O!c7dO~O!c7eO~O!R#Ty!S#Ty~P#)gO_$[O!{7kO'U$[O~O_$[O!]!wO!{7kO'U$[O~O!X7nO!Y7nO'[$bO'e(gO'm+eO~O_$[O!]!wO!j7oO!{7kO'U$[O'n&nO~O#W$|yP$|yZ$|y_$|yj$|yv$|y!R$|y!a$|y!b$|y!d$|y!j$|y#[$|y#]$|y#^$|y#_$|y#`$|y#a$|y#b$|y#c$|y#e$|y#g$|y#i$|y#j$|y'U$|y'd$|y!c$|y!O$|y!T$|y!{$|yn$|y%Q$|y!]$|y~P!#rO#m#ky!R#ky!S#ky~P#)gOP$giZ$gij$giv$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi#m$gi'd$gi!R$gi!S$gi~P!#rOu(ROx(SO'v(WOP$xiZ$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi#m$xi'd$xi'n$xi'u$xi!R$xi!S$xi~Ou(ROx(SOP$ziZ$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi#m$zi'd$zi'n$zi'u$zi'v$zi!R$zi!S$zi~O#m$Zy!R$Zy!S$Zy~P#)gO#m#Oy!R#Oy!S#Oy~P#)gO!]!wO!R&rq!c&rq~O!R,}O!c'{y~O!O&tq!R&tq~P!#rO!O7uO~P!#rO!R.WO!S(Ty~O!R2jO!S(Qq~O!X8RO!Y8RO'[$bO'e(gO'm+eO~O!T.sO%Q8UO~O!T.sO%Q8UO~P!#rO!c8XO~O&V8YOP&S!ZQ&S!ZX&S!Z]&S!Z_&S!Zb&S!Zc&S!Zh&S!Zj&S!Zk&S!Zl&S!Zq&S!Zs&S!Zx&S!Z{&S!Z|&S!Z}&S!Z!T&S!Z!_&S!Z!d&S!Z!g&S!Z!h&S!Z!i&S!Z!j&S!Z!k&S!Z!n&S!Z#d&S!Z#t&S!Z#x&S!Z%P&S!Z%R&S!Z%T&S!Z%U&S!Z%X&S!Z%Z&S!Z%^&S!Z%_&S!Z%a&S!Z%n&S!Z%t&S!Z%v&S!Z%x&S!Z%z&S!Z%}&S!Z&T&S!Z&X&S!Z&Z&S!Z&]&S!Z&_&S!Z&a&S!Z'Q&S!Z'Z&S!Z'd&S!Z'm&S!Z'z&S!Z!S&S!Z%{&S!Z`&S!Z&Q&S!Z~O_$[O!{8_O'U$[O~O_$[O!]!wO!{8_O'U$[O~OP$iqZ$iqj$iqv$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq#m$iq'd$iq!R$iq!S$iq~P!#rO!R&yq!S&yq~P#)gO_$[O!{8tO'U$[O~OP$|yZ$|yj$|yv$|y!a$|y!b$|y!d$|y!j$|y#[$|y#]$|y#^$|y#_$|y#`$|y#a$|y#b$|y#c$|y#e$|y#g$|y#i$|y#j$|y#m$|y'd$|y!R$|y!S$|y~P!#rOn'fX~P.jOn[X!O[X!c[X%r[X!T[X%Q[X!][X~P$zO!]dX!c[X!cdX'ndX~P;aOP9VOQ9VO]cOb:mOc!jOhcOj9VOkcOlcOq9VOs9VOxRO{cO|cO}cO!TSO!_9XO!dUO!g9VO!h9VO!i9VO!j9VO!k9VO!n!iO#t!lO#x^O'Z'bO'dQO'mYO'z:kO~O!R9hO!S$]a~O]#qOh$OOj#rOk#qOl#qOq$POs9mOx#xO!T#yO!_:pO!d#vO#V9sO#t$TO$_9oO$a9qO$d$UO'Z&zO'd#sO~O#d'iO~P&-UO!S[X!SdX~P;aO#W9[O~O!]!wO#W9[O~O!{9kO~O#c9aO~O!{9tO!R'sX!S'sX~O!{9kO!R'qX!S'qX~O#W9uO~O'_9wO~P!#rO#W9|O~O#W9}O~O!]!wO#W:OO~O!]!wO#W9uO~O#m:PO~P#)gO#W:QO~O#W:RO~O#W:SO~O#W:TO~O#m:UO~P!#rO#m:VO~P!#rO#x~!b!r!t!u#U#V'z$_$a$d$u%P%Q%R%X%Z%^%_%a%c~UT#x'z#]}'W'X#z'W'Z'e~",goto:"#Ed(XPPPPPPPP(YP(jP*^PPPP-uPP.[3n5b5uP5uPPP5uP7c5uP5uP7gPP7lP8Q<cPPPP<gPPPP<g?XPPP?_AjP<gPDTPPPPE{<gPPPPPGt<gPPJuKrPPPPKvM`PMhNiPKr<g<g!#p!&k!+^!+^!.mPPP!.t!1j<gPPPPPPPPPP!4aP!5rPP<g!7PP<gP<g<g<g<gP<g!9dPP!<]P!?Q!?Y!?^!?^P!<YP!?b!?bP!BVP!BZ<g<g!Ba!ET5uP5uP5u5uP!FW5u5u!HO5u!JQ5u!Kr5u5u!L`!NY!NY!N^!NY!NfP!NYP5u# b5u#!l5u5u-uPPP##yPP#$c#$cP#$cP#$x#$cPP#%OP#$uP#$u#%bMd#$u#&P#&V#&Y(Y#&](YP#&d#&d#&dP(YP(YP(YP(YPP(YP#&j#&mP#&m(YPPP(YP(YP(YP(YP(YP(Y(Y#&q#&{#'R#'X#'g#'m#'s#'}#(T#(d#(j#(x#)O#)U#)d#)y#+]#+k#+q#+w#+}#,T#,_#,e#,k#,u#-X#-_PPPPPPPP#-ePP#.X#2VPP#3m#3t#3|PP#8Y#:m#@i#@l#@o#@z#@}PP#AQ#AU#As#Bj#Bn#CSPP#CW#C^#CbP#Ce#Ci#Cl#D[#Dr#Dw#Dz#D}#ET#EW#E[#E`mhOSj}!n$Z%b%e%f%h*m*r/a/dQ$hmQ$opQ%YyS&U!b+[Q&j!jS(j#y(oQ)e$iQ)r$qQ*^%SQ+b&]S+g&c+iQ+y&kQ-e(qQ/O*_Y0S+k+l+m+n+oS2o.s2qU3x0T0V0YU5e2t2u2vS6[3z3}S7S5f5gQ7n6^R8R7U$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8t!j'd#]#k&V'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nQ(z$QQ)j$kQ*`%VQ*g%_Q,T9lQ.Q)_Q.])kQ/W*eQ2Y.WQ3U/PQ4X9mR5Q2ZpeOSjy}!n$Z%X%b%e%f%h*m*r/a/dR*b%Z&WVOSTjkn}!S!W!k!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%y&R&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:m:n[!cRU!]!`%w&VQ$alQ$gmS$lp$qv$vrs!r!u$X$t&_&s&v)v)w)x*k+U+d,O,Q/j0eQ%OwQ&g!iQ&i!jS(^#v(hS)d$h$iQ)h$kQ)u$sQ*X%QQ*]%SS+x&j&kQ-R(_Q.U)eQ.[)kQ.^)lQ.a)pQ.y*YS.}*^*_Q0a+yQ1Z,}Q2X.WQ2].ZQ2b.cQ3T/OQ4d1[Q5P2ZQ5S2_Q6v5OR7x6w!Y$em!j$g$h$i&T&i&j&k(i)d)e+X+f+x+y-_.U/y0P0U0a1p3w3|6Y7l8`Q)]$aQ)}${Q*Q$|Q*[%SQ.e)uQ.x*XU.|*]*^*_Q3O.yS3S.}/OQ5`2nQ5r3TS7Q5a5dS8P7R7TQ8j8QR8y8kW#|a$c(w:kS${t%XQ$|uQ$}vR){$y$V#{a!w!y#d#v#x$R$S$W&f'|(V(X(Y(a(e(u(v)Y)[)_)|*P+u,Z-U-W-p-z-|.j.m.u.w1Y1c1m1t1{2O2S2e2{2}4g4s4{5i5n6{7X8U9j9n9o9p9q9r9s9x9y9z9{9|9}:Q:R:U:V:k:q:rT'}#s(OV({$Q9l9mU&Y!b$u+_Q'T!{Q)o$nQ.n*RQ1u-mR5[2j&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:n$]#aZ!_!o$_%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n*}+Y+c+z,Y,`,c,e,s-q/o/r0b0l0p0q0r0s0t0u0v0w0x0y0z0{0|1P1U1y2V3o3r4S4V4W4]4^5^6R6U6b6f6g7h7{8]8r8}9W:dT!XQ!Y&_cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nQ&W!bR/u+[Y&Q!b&U&]+[+bS(i#y(oS+f&c+iS-_(j(qQ-`(kQ-f(rQ.p*TU0P+g+k+lU0U+m+n+oS0Z+p2sQ1p-eQ1r-gQ1s-hS2n.s2qU3w0S0T0VQ3{0WQ3|0YS5a2o2vS5d2t2uU6Y3x3z3}Q6_4OS7R5e5fQ7T5gS7l6[6^S8Q7S7UQ8`7nR8k8RlhOSj}!n$Z%b%e%f%h*m*r/a/dQ%j!QS&w!v9[Q)b$fQ*V%OQ*W%PQ+v&hS,X&|9uS-r)S:OQ.S)cQ.r*UQ/h*tQ/i*uQ/q+VQ0X+mQ0_+wS1z-s:SQ2T.TS2W.V:TQ3n/sQ3q/zQ4Q0`Q4}2UQ6P3kQ6S3pQ6W3vQ6`4RQ7f6QQ7i6XQ8[7jQ8o8YQ8q8^R8|8s$W#`Z!_!o%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n*}+Y+c+z,Y,`,c,s-q/o/r0b0l0p0q0r0s0t0u0v0w0x0y0z0{0|1P1U1y2V3o3r4S4V4W4]4^5^6R6U6b6f6g7h7{8]8r8}9W:dU(t#z&{1OT)W$_,e$W#_Z!_!o%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n*}+Y+c+z,Y,`,c,s-q/o/r0b0l0p0q0r0s0t0u0v0w0x0y0z0{0|1P1U1y2V3o3r4S4V4W4]4^5^6R6U6b6f6g7h7{8]8r8}9W:dQ'e#`S)V$_,eR-t)W&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nQ%e{Q%f|Q%h!OQ%i!PR/`*pQ&d!iQ)X$aQ+s&gS-y)])uS0[+q+rW1}-v-w-x.eS4P0]0^U4z2P2Q2RU6t4y5W5XQ7w6uR8f7zT+h&c+iS+f&c+iU0P+g+k+lU0U+m+n+oS0Z+p2sS2n.s2qU3w0S0T0VQ3{0WQ3|0YS5a2o2vS5d2t2uU6Y3x3z3}Q6_4OS7R5e5fQ7T5gS7l6[6^S8Q7S7UQ8`7nR8k8RS+h&c+iT2p.s2qS&q!q/^Q-Q(^Q-](iS0O+f2nQ1`-RS1j-^-fU3y0U0Z5dQ4c1ZS4q1q1sU6]3{3|7TQ6j4dQ6s4tR7o6_Q!xXS&p!q/^Q)T$YQ)`$dQ)f$jQ+|&qQ-P(^Q-[(iQ-a(lQ.R)aQ.z*ZS/}+f2nS1_-Q-RS1i-]-fQ1l-`Q1o-bQ3Q.{W3u0O0U0Z5dQ4b1ZQ4f1`S4k1j1sQ4r1rQ5p3RW6Z3y3{3|7TS6i4c4dQ6n4mQ6q4qQ7O5_Q7]5qS7m6]6_Q7q6jQ7s6oQ7v6sQ7}7PQ8W7^Q8a7oQ8d7uQ8h8OQ8w8iQ9P8xQ9T9QQ:^:XQ:g:bR:h:c$rWORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8tS!xn!k!j:W#]#k&V'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nR:^:m$rXORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8tQ$Yb!Y$dm!j$g$h$i&T&i&j&k(i)d)e+X+f+x+y-_.U/y0P0U0a1p3w3|6Y7l8`S$jn!kQ)a$eQ*Z%SW.{*[*]*^*_U3R.|.}/OQ5_2nS5q3S3TU7P5`5a5dQ7^5rU8O7Q7R7TS8i8P8QS8x8j8kQ9Q8y!j:X#]#k&V'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nQ:b:lR:c:m$f]OSTjk}!S!W!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8tY!hRU!]!`%wv$vrs!r!u$X$t&_&s&v)v)w)x*k+U+d,O,Q/j0eQ*h%_!h:Y#]#k'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nR:]&VS&Z!b$uR/w+_$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8t!j'd#]#k&V'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nR*g%_$roORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8tQ'T!{!k:Z#]#k&V'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:n!h#VZ!_$_%v%|&x'P'^'_'`'a'f'j)n*}+c+z,Y,`,s-q0b0l0|1y2V3r4S4V6U7h8]8r8}9W!R9c'c't+Y,e/o/r0p0x0y0z0{1P1U3o4W4]4^5^6R6b6f6g7{:d!d#XZ!_$_%v%|&x'P'`'a'f'j)n*}+c+z,Y,`,s-q0b0l0|1y2V3r4S4V6U7h8]8r8}9W}9e'c't+Y,e/o/r0p0z0{1P1U3o4W4]4^5^6R6b6f6g7{:d!`#]Z!_$_%v%|&x'P'f'j)n*}+c+z,Y,`,s-q0b0l0|1y2V3r4S4V6U7h8]8r8}9Wl(Y#t&})R,{-T-i-j0j1x4a4u:_:i:jx:n'c't+Y,e/o/r0p1P1U3o4W4]4^5^6R6b6f6g7{:d!`:q&y'h(](c+r,W,p-X-u-x.i.k0^0i1a1e2R2g2i2y4U4h4n4w4|5X5l6a6l6r7ZZ:r0}4[6c7p8b&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nS#l`#mR1R,h&e_ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,h,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nS#g^#nT'm#i'qT#h^#nT'o#i'q&e`ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,h,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nT#l`#mQ#o`R'x#m$rbORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8t!k:l#]#k&V'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:n#RdOSUj}!S!W!n!|#k$Z%Z%^%_%b%d%e%f%h%l&R&e'v)Z*i*m*r+t,i-n-{.v/X/Y/Z/]/a/d/f1Q2d2|3a3c3d5m5{t#za!y$R$S$W(V(X(Y(a(u(v,Z-p1Y1t:k:q:r!|&{!w#d#v#x&f'|(e)Y)[)_)|*P+u-U-W-z-|.j.m.u.w1c1m1{2O2S2e2{2}4g4s4{5i5n6{7X8U9n9p9r9x9z9|:Q:UQ)P$UQ,t(Rc1O9j9o9q9s9y9{9}:R:Vt#wa!y$R$S$W(V(X(Y(a(u(v,Z-p1Y1t:k:q:rS(l#y(oQ)Q$VQ-b(m!|:`!w#d#v#x&f'|(e)Y)[)_)|*P+u-U-W-z-|.j.m.u.w1c1m1{2O2S2e2{2}4g4s4{5i5n6{7X8U9n9p9r9x9z9|:Q:Ub:a9j9o9q9s9y9{9}:R:VQ:e:oR:f:pt#za!y$R$S$W(V(X(Y(a(u(v,Z-p1Y1t:k:q:r!|&{!w#d#v#x&f'|(e)Y)[)_)|*P+u-U-W-z-|.j.m.u.w1c1m1{2O2S2e2{2}4g4s4{5i5n6{7X8U9n9p9r9x9z9|:Q:Uc1O9j9o9q9s9y9{9}:R:VlfOSj}!n$Z%b%e%f%h*m*r/a/dQ(d#xQ*y%oQ*z%qR1b-U$U#{a!w!y#d#v#x$R$S$W&f'|(V(X(Y(a(e(u(v)Y)[)_)|*P+u,Z-U-W-p-z-|.j.m.u.w1Y1c1m1t1{2O2S2e2{2}4g4s4{5i5n6{7X8U9j9n9o9p9q9r9s9x9y9z9{9|9}:Q:R:U:V:k:q:rQ*O$|Q.l*QQ2h.kR5Z2iT(n#y(oS(n#y(oT2p.s2qQ)`$dQ-a(lQ.R)aQ.z*ZQ3Q.{Q5p3RQ7O5_Q7]5qQ7}7PQ8W7^Q8h8OQ8w8iQ9P8xR9T9Ql(V#t&})R,{-T-i-j0j1x4a4u:_:i:j!`9x&y'h(](c+r,W,p-X-u-x.i.k0^0i1a1e2R2g2i2y4U4h4n4w4|5X5l6a6l6r7ZZ9y0}4[6c7p8bn(X#t&})R,y,{-T-i-j0j1x4a4u:_:i:j!b9z&y'h(](c+r,W,p-X-u-x.i.k0^0g0i1a1e2R2g2i2y4U4h4n4w4|5X5l6a6l6r7Z]9{0}4[6c6d7p8bpeOSjy}!n$Z%X%b%e%f%h*m*r/a/dQ%UxR*i%_peOSjy}!n$Z%X%b%e%f%h*m*r/a/dR%UxQ*S$}R.h){qeOSjy}!n$Z%X%b%e%f%h*m*r/a/dQ.t*XS2z.x.yW5h2w2x2y3OU7W5j5k5lU8S7V7Y7ZQ8l8TR8z8mQ%]yR*c%XR3X/RR7`5sS$lp$qR.^)lQ%bzR*m%cR*s%iT/b*r/dQjOQ!nST$^j!nQ(O#sR,q(OQ!YQR%t!YQ!^RU%z!^%{+QQ%{!_R+Q%|Q+]&WR/v+]Q,[&}R0k,[Q,_'PS0n,_0oR0o,`Q+i&cR0Q+iS!eR$tU&`!e&a+RQ&a!fR+R%}Q+`&ZR/x+`Q&t!sQ+}&rU,R&t+}0fR0f,SQ'q#iR,j'qQ#m`R'w#mQ#cZU'g#c*|9iQ*|9WR9i'tQ-O(^W1]-O1^4e6kU1^-P-Q-RS4e1_1`R6k4f#q(T#t&y&}'h(](c(|(})R+r,U,V,W,p,y,z,{-T-X-i-j-u-x.i.k0^0g0h0i0j0}1a1e1x2R2g2i2y4U4Y4Z4[4a4h4n4u4w4|5X5l6a6c6d6e6l6r7Z7p8b:_:i:jQ-V(cU1d-V1f4iQ1f-XR4i1eQ(o#yR-c(oQ(x#}R-l(xQ1|-uR4x1|Q)y$wR.g)yQ2k.nS5]2k6}R6}5^Q*U%OR.q*UQ2q.sR5b2qQ/Q*`S3V/Q5tR5t3XQ.X)hW2[.X2^5R6xQ2^.[Q5R2]R6x5SQ)m$lR._)mQ/d*rR3g/dWiOSj!nQ%g}Q)U$ZQ*l%bQ*n%eQ*o%fQ*q%hQ/_*mS/b*r/dR3f/aQ$]gQ%k!RQ%n!TQ%p!UQ%r!VQ)t$rQ)z$xQ*b%]Q*w%mS/T*c*fQ/k*vQ/l*yQ/m*zS/{+f2nQ1g-ZQ1h-[Q1n-aQ2a.bQ2f.iQ3P.zQ3Z/VQ3e/`Y3s/}0O0U0Z5dQ4j1iQ4l1kQ4o1oQ5V2cQ5Y2gQ5o3QQ5u3Y[6T3r3u3y3{3|7TQ6m4kQ6p4pQ6y5TQ7[5pQ7a5vW7g6U6Z6]6_Q7r6nQ7t6qQ7y6zQ7|7OQ8V7]U8Z7h7m7oQ8c7sQ8e7vQ8g7}Q8n8WS8p8]8aQ8u8dQ8v8hQ8{8rQ9O8wQ9R8}Q9S9PR9U9TQ$fmQ&h!jU)c$g$h$iQ+V&TU+w&i&j&kQ-Z(iS.T)d)eQ/s+XQ/z+fS0`+x+yQ1k-_Q2U.UQ3p/yS3v0P0UQ4R0aQ4p1pS6X3w3|Q7j6YQ8^7lR8s8`S#ua:kR)^$cU#}a$c:kR-k(wQ#taS&y!w)_Q&}!yQ'h#dQ(]#vQ(c#xQ(|$RQ(}$SQ)R$WQ+r&fQ,U9nQ,V9pQ,W9rQ,p'|Q,y(VQ,z(XQ,{(YQ-T(aQ-X(eQ-i(uQ-j(vd-u)Y-z.u2O2{4{5i6{7X8UQ-x)[Q.i)|Q.k*PQ0^+uQ0g9xQ0h9zQ0i9|Q0j,ZQ0}9jQ1a-UQ1e-WQ1x-pQ2R-|Q2g.jQ2i.mQ2y.wQ4U:QQ4Y9oQ4Z9qQ4[9sQ4a1YQ4h1cQ4n1mQ4u1tQ4w1{Q4|2SQ5X2eQ5l2}Q6a:UQ6c9}Q6d9yQ6e9{Q6l4gQ6r4sQ7Z5nQ7p:RQ8b:VQ:_:kQ:i:qR:j:rlgOSj}!n$Z%b%e%f%h*m*r/a/dS!pU%dQ%m!SQ%s!WQ'U!|Q'u#kS*f%Z%^Q*j%_Q*v%lQ+S&RQ+q&eQ,n'vQ-w)ZQ/[*iQ0]+tQ1T,iQ1v-nQ2Q-{Q2x.vQ3]/XQ3^/YQ3`/ZQ3b/]Q3i/fQ4_1QQ5W2dQ5k2|Q5z3aQ5|3cQ5}3dQ7Y5mR7c5{!vZOSUj}!S!n!|$Z%Z%^%_%b%d%e%f%h%l&R&e)Z*i*m*r+t-n-{.v/X/Y/Z/]/a/d/f2d2|3a3c3d5m5{Q!_RQ!oTQ$_kS%v!]%yQ%|!`Q&x!vQ'P!zQ'V#PQ'W#QQ'X#RQ'Y#SQ'Z#TQ'[#UQ']#VQ'^#WQ'_#XQ'`#YQ'a#ZQ'c#]Q'f#bQ'j#eW't#k'v,i1QQ)n$mS*}%w+PS+Y&V/tQ+c&^Q+z&oQ,Y&|Q,`'QQ,c9VQ,e9XQ,s(QQ-q)SQ/o+TQ/r+WQ0b+{Q0l,^Q0p9[Q0q9]Q0r9^Q0s9_Q0t9`Q0u9aQ0v9bQ0w9cQ0x9dQ0y9eQ0z9fQ0{9gQ0|,dQ1P9kQ1U9hQ1y-sQ2V.VQ3o9tQ3r/|Q4S0cQ4V0mQ4W9uQ4]9wQ4^:OQ5^2lQ6R3mQ6U3tQ6b:PQ6f:SQ6g:TQ7h6VQ7{6|Q8]7kQ8r8_Q8}8tQ9W!WR:d:nR!aRR&X!bS&T!b+[S+X&U&]R/y+bR'O!yR'R!zT!tU$XS!sU$XU$wrs*kS&r!r!uQ,P&sQ,S&vQ.f)xS0d,O,QR4T0e`!dR!]!`$t%w&_)v+dh!qUrs!r!u$X&s&v)x,O,Q0eQ/^*kQ/p+UQ3l/jT:[&V)wT!gR$tS!fR$tS%x!]&_S%}!`)vS+O%w+dT+Z&V)wT&[!b$uQ#i^R'z#nT'p#i'qR1S,hT(`#v(hR(f#xQ-v)YQ2P-zQ2w.uQ4y2OQ5j2{Q6u4{Q7V5iQ7z6{Q8T7XR8m8UlhOSj}!n$Z%b%e%f%h*m*r/a/dQ%[yR*b%XV$xrs*kR.o*RR*a%VQ$ppR)s$qR)i$kT%`z%cT%az%cT/c*r/d",nodeNames:"\u26a0 ArithOp ArithOp InterpolationStart extends LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try catch finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:330,context:dd,nodeProps:[[Ps.closedBy,3,"InterpolationEnd",40,"]",51,"}",66,")",132,"JSXSelfCloseEndTag JSXEndTag",146,"JSXEndTag"],[Ps.group,-26,8,15,17,58,184,188,191,192,194,197,200,211,213,219,221,223,225,228,234,238,240,242,244,246,248,249,"Statement",-30,12,13,24,27,28,41,43,44,45,47,52,60,68,74,75,91,92,101,103,119,122,124,125,126,127,129,130,148,149,151,"Expression",-22,23,25,29,32,34,152,154,156,157,159,160,161,163,164,165,167,168,169,178,180,182,183,"Type",-3,79,85,90,"ClassItem"],[Ps.openedBy,30,"InterpolationStart",46,"[",50,"{",65,"(",131,"JSXStartTag",141,"JSXStartTag JSXStartCloseTag"]],skippedNodes:[0,5,6],repeatNodeCount:28,tokenData:"!C}~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst0htu2`uv4pvw5ewx6cxy<yyz=Zz{=k{|>k|}?O}!O>k!O!P?`!P!QCl!Q!R!0[!R![!1q![!]!7s!]!^!8V!^!_!8g!_!`!9d!`!a!:[!a!b!<R!b!c%T!c!}2`!}#O!=d#O#P%T#P#Q!=t#Q#R!>U#R#S2`#S#T!>i#T#o2`#o#p!>y#p#q!?O#q#r!?f#r#s!?x#s$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$I|2`$I|$I}!Bq$I}$JO!Bq$JO$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`W%YR$UWO!^%T!_#o%T#p~%T,T%jg$UW'W+{OX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T,T'YR$UW'X+{O!^%T!_#o%T#p~%T$T'jS$UW!j#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#e#v$UWO!^%T!_!`(Z!`#o%T#p~%T$O(bR#e#v$UWO!^%T!_#o%T#p~%T'u(rZ$UW]!ROY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV$UWOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR$P&j$UWO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO$P&j'u*{R$P&j$UW]!RO!^%T!_#o%T#p~%T'm+ZV]!ROY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U'm+wO$P&j]!R'm+zROr+Urs,Ts~+U'm,[U$P&j]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R,sU]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R-[O]!R!R-_PO~,n'u-gV$UWOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k'u.VZ$P&j$UW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/PZ$UW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/yR$UW]!RO!^%T!_#o%T#p~%T!Z0XT$UWO!^.x!^!_,n!_#o.x#o#p,n#p~.xy0mZ$UWOt%Ttu1`u!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`y1g]$UW'mqOt%Ttu1`u!Q%T!Q![1`![!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`&i2k_$UW#zS'Z%k'epOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`[3q_$UW#zSOt%Ttu3ju}%T}!O3j!O!Q%T!Q![3j![!^%T!_!c%T!c!}3j!}#R%T#R#S3j#S#T%T#T#o3j#p$g%T$g~3j$O4wS#^#v$UWO!^%T!_!`5T!`#o%T#p~%T$O5[R$UW#o#vO!^%T!_#o%T#p~%T%r5lU'v%j$UWOv%Tvw6Ow!^%T!_!`5T!`#o%T#p~%T$O6VS$UW#i#vO!^%T!_!`5T!`#o%T#p~%T'u6jZ$UW]!ROY6cYZ7]Zw6cwx*rx!^6c!^!_8T!_#O6c#O#P:T#P#o6c#o#p8T#p~6c&r7bV$UWOw7]wx*Px!^7]!^!_7w!_#o7]#o#p7w#p~7]&j7zROw7wwx*mx~7w'm8YV]!ROY8TYZ7wZw8Twx+px#O8T#O#P8o#P~8T'm8rROw8Twx8{x~8T'm9SU$P&j]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R9kU]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R:QPO~9f'u:YV$UWOw6cwx:ox!^6c!^!_8T!_#o6c#o#p8T#p~6c'u:xZ$P&j$UW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z;rZ$UW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z<jT$UWO!^;k!^!_9f!_#o;k#o#p9f#p~;k%V=QR!d$}$UWO!^%T!_#o%T#p~%TZ=bR!cR$UWO!^%T!_#o%T#p~%T%R=tU'[!R#_#v$UWOz%Tz{>W{!^%T!_!`5T!`#o%T#p~%T$O>_S#[#v$UWO!^%T!_!`5T!`#o%T#p~%T$u>rSj$m$UWO!^%T!_!`5T!`#o%T#p~%T&i?VR!R&a$UWO!^%T!_#o%T#p~%T&i?gVu%n$UWO!O%T!O!P?|!P!Q%T!Q![@r![!^%T!_#o%T#p~%Ty@RT$UWO!O%T!O!P@b!P!^%T!_#o%T#p~%Ty@iR!Qq$UWO!^%T!_#o%T#p~%Ty@yZ$UWkqO!Q%T!Q![@r![!^%T!_!g%T!g!hAl!h#R%T#R#S@r#S#X%T#X#YAl#Y#o%T#p~%TyAqZ$UWO{%T{|Bd|}%T}!OBd!O!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyBiV$UWO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyCVV$UWkqO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T,TCs`$UW#]#vOYDuYZ%TZzDuz{Jl{!PDu!P!Q!-e!Q!^Du!^!_Fx!_!`!.^!`!a!/]!a!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXD|[$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXEy_$UW}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%TPF}V}POYFxZ!PFx!P!QGd!Q!}Fx!}#OG{#O#PHh#P~FxPGiU}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGdPHOTOYG{Z#OG{#O#PH_#P#QFx#Q~G{PHbQOYG{Z~G{PHkQOYFxZ~FxXHvY$UWOYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~HqXIkV$UWOYHqYZ%TZ!^Hq!^!_G{!_#oHq#o#pG{#p~HqXJVV$UWOYDuYZ%TZ!^Du!^!_Fx!_#oDu#o#pFx#p~Du,TJs^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q!,R!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl,TKtV$UWOzKoz{LZ{!^Ko!^!_M]!_#oKo#o#pM]#p~Ko,TL`X$UWOzKoz{LZ{!PKo!P!QL{!Q!^Ko!^!_M]!_#oKo#o#pM]#p~Ko,TMSR$UWU+{O!^%T!_#o%T#p~%T+{M`ROzM]z{Mi{~M]+{MlTOzM]z{Mi{!PM]!P!QM{!Q~M]+{NQOU+{,TNX^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q! T!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl,T! ^_$UWU+{}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%T+{!!bY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!&x!Q!}!!]!}#O!$`#O#P!&f#P~!!]+{!#VY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!#u!Q!}!!]!}#O!$`#O#P!&f#P~!!]+{!#|UU+{}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGd+{!$cWOY!$`YZM]Zz!$`z{!${{#O!$`#O#P!&S#P#Q!!]#Q~!$`+{!%OYOY!$`YZM]Zz!$`z{!${{!P!$`!P!Q!%n!Q#O!$`#O#P!&S#P#Q!!]#Q~!$`+{!%sTU+{OYG{Z#OG{#O#PH_#P#QFx#Q~G{+{!&VTOY!$`YZM]Zz!$`z{!${{~!$`+{!&iTOY!!]YZM]Zz!!]z{!#Q{~!!]+{!&}_}POzM]z{Mi{#ZM]#Z#[!&x#[#]M]#]#^!&x#^#aM]#a#b!&x#b#gM]#g#h!&x#h#iM]#i#j!&x#j#mM]#m#n!&x#n~M],T!(R[$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|,T!(|^$UWOY!'|YZKoZz!'|z{!(w{!P!'|!P!Q!)x!Q!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|,T!*PY$UWU+{OYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~Hq,T!*tX$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#o!'|#o#p!$`#p~!'|,T!+fX$UWOYJlYZKoZzJlz{NQ{!^Jl!^!_!!]!_#oJl#o#p!!]#p~Jl,T!,Yc$UW}POzKoz{LZ{!^Ko!^!_M]!_#ZKo#Z#[!,R#[#]Ko#]#^!,R#^#aKo#a#b!,R#b#gKo#g#h!,R#h#iKo#i#j!,R#j#mKo#m#n!,R#n#oKo#o#pM]#p~Ko,T!-lV$UWT+{OY!-eYZ%TZ!^!-e!^!_!.R!_#o!-e#o#p!.R#p~!-e+{!.WQT+{OY!.RZ~!.R$P!.g[$UW#o#v}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du]!/f[#wS$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Duy!0cd$UWkqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#U%T#U#V!3X#V#X%T#X#YAl#Y#b%T#b#c!2w#c#d!4m#d#l%T#l#m!5{#m#o%T#p~%Ty!1x_$UWkqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#X%T#X#YAl#Y#b%T#b#c!2w#c#o%T#p~%Ty!3OR$UWkqO!^%T!_#o%T#p~%Ty!3^W$UWO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#o%T#p~%Ty!3}Y$UWkqO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#b%T#b#c!2w#c#o%T#p~%Ty!4rV$UWO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#o%T#p~%Ty!5`X$UWkqO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#b%T#b#c!2w#c#o%T#p~%Ty!6QZ$UWO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#o%T#p~%Ty!6z]$UWkqO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#b%T#b#c!2w#c#o%T#p~%T%w!7|R!]V$UW#m%hO!^%T!_#o%T#p~%T!P!8^R_w$UWO!^%T!_#o%T#p~%T+c!8rR'`d!a%Y#x&s'zP!P!Q!8{!^!_!9Q!_!`!9_W!9QO$WW#v!9VP#`#v!_!`!9Y#v!9_O#o#v#v!9dO#a#v%w!9kT!{%o$UWO!^%T!_!`'v!`!a!9z!a#o%T#p~%T$P!:RR#W#w$UWO!^%T!_#o%T#p~%T%w!:gT'_!s#a#v$RS$UWO!^%T!_!`!:v!`!a!;W!a#o%T#p~%T$O!:}R#a#v$UWO!^%T!_#o%T#p~%T$O!;_T#`#v$UWO!^%T!_!`5T!`!a!;n!a#o%T#p~%T$O!;uS#`#v$UWO!^%T!_!`5T!`#o%T#p~%T%w!<YV'n%o$UWO!O%T!O!P!<o!P!^%T!_!a%T!a!b!=P!b#o%T#p~%T$`!<vRv$W$UWO!^%T!_#o%T#p~%T$O!=WS$UW#j#vO!^%T!_!`5T!`#o%T#p~%T&e!=kRx&]$UWO!^%T!_#o%T#p~%TZ!={R!OR$UWO!^%T!_#o%T#p~%T$O!>]S#g#v$UWO!^%T!_!`5T!`#o%T#p~%T$P!>pR$UW'd#wO!^%T!_#o%T#p~%T~!?OO!T~%r!?VT'u%j$UWO!^%T!_!`5T!`#o%T#p#q!=P#q~%T$u!?oR!S$knQ$UWO!^%T!_#o%T#p~%TX!@PR!kP$UWO!^%T!_#o%T#p~%T,T!@gr$UW'W+{#zS'Z%k'epOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`,T!CO_$UW'X+{#zS'Z%k'epOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`",tokenizers:[fd,md,gd,0,1,2,3,4,5,6,7,8,ud],topRules:{Script:[0,7]},dialects:{jsx:11335,ts:11337},dynamicPrecedences:{149:1,176:1},specialized:[{term:287,get:(e,t)=>function(e,t){return"extends"==e&&t.dialectEnabled(1)?4:-1}(e,t)<<1},{term:287,get:e=>Od[e]||-1},{term:297,get:e=>xd[e]||-1},{term:63,get:e=>bd[e]||-1}],tokenPrec:11358});"undefined"!=typeof navigator&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints);function yd(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function wd(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[n,i]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);for(let{label:r}of e){t[r[0]]=!0;for(let e=1;e<r.length;e++)n[r[e]]=!0}let i=yd(t)+yd(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}(t);return e=>{let r=e.matchBefore(i);return r||e.explicit?{from:r?r.from:e.pos,options:t,span:n}:null}}const Sd=Vo.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class kd{constructor(e,t,n,i){this.field=e,this.line=t,this.from=n,this.to=i}}class Td{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,Le.TrackDel),n=e.mapPos(this.to,1,Le.TrackDel);return null==t||null==n?null:new Td(this.field,t,n)}}class Qd{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],i=[t],r=e.doc.lineAt(t),o=/^\s*/.exec(r.text)[0];for(let a of this.lines){if(n.length){let n=o,r=/^\t*/.exec(a)[0].length;for(let t=0;t<r;t++)n+=e.facet(Pa);i.push(t+n.length-r),a=n+a.slice(r)}n.push(a),t+=a.length+1}let s=this.fieldPositions.map((e=>new Td(e.field,i[e.line]+e.from,i[e.line]+e.to)));return{text:n,ranges:s}}static parse(e){let t,n=[],i=[],r=[];for(let o of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let e=t[1]?+t[1]:null,s=t[2]||t[3]||"",a=-1;for(let t=0;t<n.length;t++)(null!=e?n[t].seq==e:s&&n[t].name==s)&&(a=t);if(a<0){let t=0;for(;t<n.length&&(null==e||null!=n[t].seq&&n[t].seq<e);)t++;n.splice(t,0,{seq:e,name:s}),a=t;for(let e of r)e.field>=a&&e.field++}r.push(new kd(a,i.length,t.index,t.index+s.length)),o=o.slice(0,t.index)+s+o.slice(t.index+t[0].length)}i.push(o)}return new Qd(i,r)}}let Pd=vi.widget({widget:new class extends xi{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),Cd=vi.mark({class:"cm-snippetField"});class $d{constructor(e,t){this.ranges=e,this.active=t,this.deco=vi.set(e.map((e=>(e.from==e.to?Pd:Cd).range(e.from,e.to))))}map(e){let t=[];for(let n of this.ranges){let i=n.map(e);if(!i)return null;t.push(i)}return new $d(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const Id=It.define({map:(e,t)=>e&&e.map(t)}),Rd=It.define(),Ad=st.define({create:()=>null,update(e,t){for(let n of t.effects){if(n.is(Id))return n.value;if(n.is(Rd)&&e)return new $d(e.ranges,n.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>Vo.decorations.from(e,(e=>e?e.deco:vi.none))});function Md(e,t){return Ye.create(e.filter((e=>e.field==t)).map((e=>Ye.range(e.from,e.to))))}function jd(e){let t=Qd.parse(e);return(e,n,i,r)=>{let{text:o,ranges:s}=t.instantiate(e.state,i),a={changes:{from:i,to:r,insert:Ie.of(o)}};if(s.length&&(a.selection=Md(s,0)),s.length>1){let t=new $d(s,0),n=a.effects=[Id.of(t)];void 0===e.state.field(Ad,!1)&&n.push(It.appendConfig.of([Ad,Wd,Ld,Sd]))}e.dispatch(e.state.update(a))}}function Ed(e){return({state:t,dispatch:n})=>{let i=t.field(Ad,!1);if(!i||e<0&&0==i.active)return!1;let r=i.active+e,o=e>0&&!i.ranges.some((t=>t.field==r+e));return n(t.update({selection:Md(i.ranges,r),effects:Id.of(o?null:new $d(i.ranges,r))})),!0}}const Xd=[{key:"Tab",run:Ed(1),shift:Ed(-1)},{key:"Escape",run:({state:e,dispatch:t})=>!!e.field(Ad,!1)&&(t(e.update({effects:Id.of(null)})),!0)}],zd=et.define({combine:e=>e.length?e[0]:Xd}),Wd=ut.highest(rs.compute([zd],(e=>e.facet(zd))));function _d(e,t){return Object.assign(Object.assign({},t),{apply:jd(e)})}const Ld=Vo.domEventHandlers({mousedown(e,t){let n,i=t.state.field(Ad,!1);if(!i||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let r=i.ranges.find((e=>e.from<=n&&e.to>=n));return!(!r||r.field==i.active)&&(t.dispatch({selection:Md(i.ranges,r.field),effects:Id.of(i.ranges.some((e=>e.field>r.field))?new $d(i.ranges,r.field):null)}),!0)}});const Dd=[_d("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),_d("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),_d("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),_d("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"block",type:"keyword"}),_d("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),_d('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),_d('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Bd=fa.define({parser:vd.configure({props:[Aa.add({IfStatement:La({except:/^\s*({|else\b)/}),TryStatement:La({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:e=>e.baseIndent,SwitchBody:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),i=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:i?1:2)*e.unit},Block:Wa({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>-1,"Statement Property":La({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),Da.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":Ba,BlockComment:e=>({from:e.from+2,to:e.to-2})}),Vc({"get set async static":Sh.modifier,"for while do if else switch try catch finally return throw break continue default case":Sh.controlKeyword,"in of await yield void typeof delete instanceof":Sh.operatorKeyword,"let var const function class extends":Sh.definitionKeyword,"import export from":Sh.moduleKeyword,"with debugger as new":Sh.keyword,TemplateString:Sh.special(Sh.string),Super:Sh.atom,BooleanLiteral:Sh.bool,this:Sh.self,null:Sh.null,Star:Sh.modifier,VariableName:Sh.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Sh.function(Sh.variableName),VariableDefinition:Sh.definition(Sh.variableName),Label:Sh.labelName,PropertyName:Sh.propertyName,PrivatePropertyName:Sh.special(Sh.propertyName),"CallExpression/MemberExpression/PropertyName":Sh.function(Sh.propertyName),"FunctionDeclaration/VariableDefinition":Sh.function(Sh.definition(Sh.variableName)),"ClassDeclaration/VariableDefinition":Sh.definition(Sh.className),PropertyDefinition:Sh.definition(Sh.propertyName),PrivatePropertyDefinition:Sh.definition(Sh.special(Sh.propertyName)),UpdateOp:Sh.updateOperator,LineComment:Sh.lineComment,BlockComment:Sh.blockComment,Number:Sh.number,String:Sh.string,ArithOp:Sh.arithmeticOperator,LogicOp:Sh.logicOperator,BitOp:Sh.bitwiseOperator,CompareOp:Sh.compareOperator,RegExp:Sh.regexp,Equals:Sh.definitionOperator,"Arrow : Spread":Sh.punctuation,"( )":Sh.paren,"[ ]":Sh.squareBracket,"{ }":Sh.brace,"InterpolationStart InterpolationEnd":Sh.special(Sh.brace),".":Sh.derefOperator,", ;":Sh.separator,TypeName:Sh.typeName,TypeDefinition:Sh.definition(Sh.typeName),"type enum interface implements namespace module declare":Sh.definitionKeyword,"abstract global Privacy readonly override":Sh.modifier,"is keyof unique infer":Sh.operatorKeyword,JSXAttributeValue:Sh.attributeValue,JSXText:Sh.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Sh.angleBracket,"JSXIdentifier JSXNameSpacedName":Sh.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Sh.attributeName})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Ud=Bd.configure({dialect:"ts"}),Zd=Bd.configure({dialect:"jsx"}),Nd=Bd.configure({dialect:"jsx ts"});function Fd(e={}){let t=e.jsx?e.typescript?Nd:Zd:e.typescript?Ud:Bd;return new Ta(t,Bd.data.of({autocomplete:(n=["LineComment","BlockComment","String"],i=wd(Dd),e=>{for(let t=ma(e.state).resolveInner(e.pos,-1);t;t=t.parent)if(n.indexOf(t.name)>-1)return null;return i(e)})}));var n,i}const Gd=["_blank","_self","_top","_parent"],qd=["ascii","utf-8","utf-16","latin1","latin1"],Vd=["get","post","put","delete"],Yd=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Hd=["true","false"],Jd={},Kd={a:{attrs:{href:null,ping:null,type:null,media:null,target:Gd,hreflang:null}},abbr:Jd,acronym:Jd,address:Jd,applet:Jd,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Jd,aside:Jd,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Jd,base:{attrs:{href:null,target:Gd}},basefont:Jd,bdi:Jd,bdo:Jd,big:Jd,blockquote:{attrs:{cite:null}},body:Jd,br:Jd,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Yd,formmethod:Vd,formnovalidate:["novalidate"],formtarget:Gd,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Jd,center:Jd,cite:Jd,code:Jd,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Jd,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Jd,dir:Jd,div:Jd,dl:Jd,dt:Jd,em:Jd,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Jd,figure:Jd,font:Jd,footer:Jd,form:{attrs:{action:null,name:null,"accept-charset":qd,autocomplete:["on","off"],enctype:Yd,method:Vd,novalidate:["novalidate"],target:Gd}},frame:Jd,frameset:Jd,h1:Jd,h2:Jd,h3:Jd,h4:Jd,h5:Jd,h6:Jd,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Jd,hgroup:Jd,hr:Jd,html:{attrs:{manifest:null}},i:Jd,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Yd,formmethod:Vd,formnovalidate:["novalidate"],formtarget:Gd,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Jd,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Jd,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Jd,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:qd,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Jd,noframes:Jd,noscript:Jd,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Jd,param:{attrs:{name:null,value:null}},pre:Jd,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Jd,rt:Jd,ruby:Jd,s:Jd,samp:Jd,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:qd}},section:Jd,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},small:Jd,source:{attrs:{src:null,type:null,media:null}},span:Jd,strike:Jd,strong:Jd,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Jd,summary:Jd,sup:Jd,table:Jd,tbody:Jd,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Jd,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Jd,time:{attrs:{datetime:null}},title:Jd,tr:Jd,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},tt:Jd,u:Jd,ul:{children:["li","script","template","ul","ol"]},var:Jd,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Jd},eu={accesskey:null,class:null,contenteditable:Hd,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Hd,autocorrect:Hd,autocapitalize:Hd,style:null,tabindex:null,title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Hd,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Hd,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Hd,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Hd,"aria-hidden":Hd,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Hd,"aria-multiselectable":Hd,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Hd,"aria-relevant":null,"aria-required":Hd,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},tu=Object.keys(Kd),nu=Object.keys(eu);function iu(e,t,n=e.length){if(!t)return"";let i=t.firstChild,r=i&&i.getChild("TagName");return r?e.sliceString(r.from,Math.min(r.to,n)):""}function ru(e,t=!1){for(let n=e.parent;n;n=n.parent)if("Element"==n.name){if(!t)return n;t=!1}return null}function ou(e,t){let n=Kd[iu(e,ru(t,!0))];return(null==n?void 0:n.children)||tu}function su(e,t){let n=[];for(let i=t;i=ru(i);){let r=iu(e,i);if(r&&"CloseTag"==i.lastChild.name)break;r&&n.indexOf(r)<0&&("EndTag"==t.name||t.from>=i.firstChild.to)&&n.push(r)}return n}const au=/^[:\-\.\w\u00b7-\uffff]+$/;function lu(e,t,n,i){let r=/\s*>/.test(e.sliceDoc(i,i+5))?"":">";return{from:n,to:i,options:ou(e.doc,t).map((e=>({label:e,type:"type"}))).concat(su(e.doc,t).map(((e,t)=>({label:"/"+e,apply:"/"+e+r,type:"type",boost:99-t})))),span:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function cu(e,t,n,i){let r=/\s*>/.test(e.sliceDoc(i,i+5))?"":">";return{from:n,to:i,options:su(e.doc,t).map(((e,t)=>({label:e,apply:e+r,type:"type",boost:99-t}))),span:au}}const hu=fa.define({parser:sd.configure({props:[Aa.add({Element(e){let t=/^(\s*)(<\/)?/.exec(e.textAfter);return e.node.to<=e.pos+t[0].length?e.continue():e.lineIndent(e.node.from)+(t[2]?0:e.unit)},"OpenTag CloseTag SelfClosingTag":e=>e.column(e.node.from)+e.unit,Document(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length<e.node.to)return e.continue();let t,n=null;for(let i=e.node;;){let e=i.lastChild;if(!e||"Element"!=e.name||e.to!=i.to)break;n=i=e}return n&&(!(t=n.lastChild)||"CloseTag"!=t.name&&"SelfClosingTag"!=t.name)?e.lineIndent(n.from)+e.unit:null}}),Da.add({Element(e){let t=e.firstChild,n=e.lastChild;return t&&"OpenTag"==t.name?{from:t.to,to:"CloseTag"==n.name?n.from:e.to}:null}}),Vc({"Text RawText":Sh.content,"StartTag StartCloseTag SelfCloserEndTag EndTag SelfCloseEndTag":Sh.angleBracket,TagName:Sh.tagName,"MismatchedCloseTag/TagName":[Sh.tagName,Sh.invalid],AttributeName:Sh.attributeName,"AttributeValue UnquotedAttributeValue":Sh.attributeValue,Is:Sh.definitionOperator,"EntityReference CharacterReference":Sh.character,Comment:Sh.blockComment,ProcessingInst:Sh.processingInstruction,DoctypeDecl:Sh.documentMeta})],wrap:cd([{tag:"script",attrs:e=>!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type),parser:Bd.parser},{tag:"style",attrs:e=>(!e.lang||"css"==e.lang)&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type)),parser:Wp.parser}])}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),pu=hu.data.of({autocomplete:function(e){let{state:t,pos:n}=e,i=ma(t).resolveInner(n),r=i.resolve(n,-1);for(let o,s=n;i==r&&(o=r.childBefore(s));){let e=o.lastChild;if(!e||!e.type.isError||e.from<e.to)break;i=r=o,s=e.from}return"TagName"==r.name?r.parent&&/CloseTag$/.test(r.parent.name)?cu(t,r,r.from,n):lu(t,r,r.from,n):"StartTag"==r.name?lu(t,r,n,n):"StartCloseTag"==r.name||"IncompleteCloseTag"==r.name?cu(t,r,n,n):e.explicit&&("OpenTag"==r.name||"SelfClosingTag"==r.name)||"AttributeName"==r.name?function(e,t,n,i){let r=ru(t),o=r?Kd[iu(e.doc,r)]:null;return{from:n,to:i,options:(o&&o.attrs?Object.keys(o.attrs).concat(nu):nu).map((e=>({label:e,type:"property"}))),span:au}}(t,r,"AttributeName"==r.name?r.from:n,n):"Is"==r.name||"AttributeValue"==r.name||"UnquotedAttributeValue"==r.name?function(e,t,n,i){var r;let o,s=null===(r=t.parent)||void 0===r?void 0:r.getChild("AttributeName"),a=[];if(s){let r=e.sliceDoc(s.from,s.to),l=eu[r];if(!l){let n=ru(t),i=n?Kd[iu(e.doc,n)]:null;l=(null==i?void 0:i.attrs)&&i.attrs[r]}if(l){let t=e.sliceDoc(n,i).toLowerCase(),r='"',s='"';/^['"]/.test(t)?(o='"'==t[0]?/^[^"]*$/:/^[^']*$/,r="",s=e.sliceDoc(i,i+1)==t[0]?"":t[0],t=t.slice(1),n++):o=/^[^\s<>='"]*$/;for(let e of l)a.push({label:e,apply:r+e+s,type:"constant"})}}return{from:n,to:i,options:a,span:o}}(t,r,"Is"==r.name?n:r.from,n):!e.explicit||"Element"!=i.name&&"Text"!=i.name&&"Document"!=i.name?null:function(e,t,n){let i=[],r=0;for(let o of ou(e.doc,t))i.push({label:"<"+o,type:"type"});for(let o of su(e.doc,t))i.push({label:"</"+o+">",type:"type",boost:99-r++});return{from:n,to:n,options:i,span:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}(t,r,n)}});function du(e={}){let t=hu;return!1===e.matchClosingTags&&(t=t.configure({dialect:"noMatch"})),new Ta(t,[pu,!1!==e.autoCloseTags?uu:[],Fd().support,Lp().support])}const uu=Vo.inputHandler.of(((e,t,n,i)=>{if(e.composing||e.state.readOnly||t!=n||">"!=i&&"/"!=i||!hu.isActiveAt(e.state,t,-1))return!1;let{state:r}=e,o=r.changeByRange((e=>{var t,n,o;let s,{head:a}=e,l=ma(r).resolveInner(a,-1);if("TagName"!=l.name&&"StartTag"!=l.name||(l=l.parent),">"==i&&"OpenTag"==l.name){if("CloseTag"!=(null===(n=null===(t=l.parent)||void 0===t?void 0:t.lastChild)||void 0===n?void 0:n.name)&&(s=iu(r.doc,l.parent,a)))return{range:Ye.cursor(a+1),changes:{from:a,insert:`></${s}>`}}}else if("/"==i&&"OpenTag"==l.name){let e=l.parent,t=null==e?void 0:e.parent;if(e.from==a-1&&"CloseTag"!=(null===(o=t.lastChild)||void 0===o?void 0:o.name)&&(s=iu(r.doc,t,a))){let e=`/${s}>`;return{range:Ye.cursor(a+e.length),changes:{from:a,insert:e}}}}return{range:e}}));return!o.changes.empty&&(e.dispatch(o,{userEvent:"input.type",scrollIntoView:!0}),!0)}));var fu,mu=n(26961),gu=n.n(mu),Ou=e=>(0,r.createElement)("svg",{fill:"currentColor",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",...e}),xu=()=>(0,r.createElement)(Ou,null,(0,r.createElement)("title",null,"Run sandbox"),(0,r.createElement)("path",{d:"M11.0792 8.1078C11.2793 8.25007 11.27 8.55012 11.0616 8.67981L6.02535 11.8135C5.79638 11.956 5.5 11.7913 5.5 11.5216L5.5 8.40703L5.5 4.80661C5.5 4.52735 5.81537 4.36463 6.04296 4.52647L11.0792 8.1078Z"})),bu=()=>(0,r.createElement)(Ou,null,(0,r.createElement)("title",null,"Click to go back"),(0,r.createElement)("path",{d:"M9.64645 12.3536C9.84171 12.5488 10.1583 12.5488 10.3536 12.3536C10.5488 12.1583 10.5488 11.8417 10.3536 11.6464L9.64645 12.3536ZM10.3536 4.35355C10.5488 4.15829 10.5488 3.84171 10.3536 3.64644C10.1583 3.45118 9.84171 3.45118 9.64645 3.64644L10.3536 4.35355ZM6.07072 7.92929L5.71716 7.57573L6.07072 7.92929ZM10.3536 11.6464L6.42427 7.71716L5.71716 8.42426L9.64645 12.3536L10.3536 11.6464ZM6.42427 8.28284L10.3536 4.35355L9.64645 3.64644L5.71716 7.57573L6.42427 8.28284ZM6.42427 7.71716C6.58048 7.87337 6.58048 8.12663 6.42427 8.28284L5.71716 7.57573C5.48285 7.81005 5.48285 8.18995 5.71716 8.42426L6.42427 7.71716Z"})),vu=()=>(0,r.createElement)(Ou,null,(0,r.createElement)("title",null,"Click to go forward"),(0,r.createElement)("path",{d:"M6.35355 3.64645C6.15829 3.45118 5.84171 3.45118 5.64645 3.64645C5.45118 3.84171 5.45118 4.15829 5.64645 4.35355L6.35355 3.64645ZM5.64645 11.6464C5.45118 11.8417 5.45118 12.1583 5.64645 12.3536C5.84171 12.5488 6.15829 12.5488 6.35355 12.3536L5.64645 11.6464ZM9.92929 8.07071L10.2828 8.42426L9.92929 8.07071ZM5.64645 4.35355L9.57574 8.28284L10.2828 7.57574L6.35355 3.64645L5.64645 4.35355ZM9.57574 7.71716L5.64645 11.6464L6.35355 12.3536L10.2828 8.42426L9.57574 7.71716ZM9.57574 8.28284C9.41952 8.12663 9.41953 7.87337 9.57574 7.71716L10.2828 8.42426C10.5172 8.18995 10.5172 7.81005 10.2828 7.57574L9.57574 8.28284Z"})),yu=()=>(0,r.createElement)(Ou,null,(0,r.createElement)("title",null,"Refresh preview"),(0,r.createElement)("path",{clipRule:"evenodd",d:"M3.83325 7.99992C3.83325 5.69867 5.69853 3.83325 7.99934 3.83325C9.81246 3.83325 11.3563 4.99195 11.9285 6.61097C11.9396 6.6425 11.9536 6.67221 11.97 6.69992H8.80005C8.52391 6.69992 8.30005 6.92378 8.30005 7.19992C8.30005 7.47606 8.52391 7.69992 8.80005 7.69992H12.5667C12.8981 7.69992 13.1667 7.43129 13.1667 7.09992V3.33325C13.1667 3.05711 12.9429 2.83325 12.6667 2.83325C12.3906 2.83325 12.1667 3.05711 12.1667 3.33325V4.94608C11.2268 3.66522 9.7106 2.83325 7.99934 2.83325C5.14613 2.83325 2.83325 5.14651 2.83325 7.99992C2.83325 10.8533 5.14613 13.1666 7.99934 13.1666C9.91218 13.1666 11.5815 12.1266 12.474 10.5836C12.6123 10.3446 12.5306 10.0387 12.2915 9.90044C12.0525 9.76218 11.7466 9.84387 11.6084 10.0829C10.8873 11.3296 9.54072 12.1666 7.99934 12.1666C5.69853 12.1666 3.83325 10.3012 3.83325 7.99992Z",fillRule:"evenodd"})),wu=()=>(0,r.createElement)(Ou,{fill:"none",stroke:"currentColor"},(0,r.createElement)("title",null,"Open on CodeSandbox"),(0,r.createElement)("path",{d:"M6.66665 3.33337H4.33331C3.78103 3.33337 3.33331 3.78109 3.33331 4.33337V11.6667C3.33331 12.219 3.78103 12.6667 4.33331 12.6667H11.6666C12.2189 12.6667 12.6666 12.219 12.6666 11.6667V9.33337",strokeLinecap:"round"}),(0,r.createElement)("path",{d:"M10 3.33337H12.5667C12.6219 3.33337 12.6667 3.37815 12.6667 3.43337V6.00004",strokeLinecap:"round"}),(0,r.createElement)("path",{d:"M7.33331 8.66668L12.5333 3.46667",strokeLinecap:"round"})),Su=()=>(0,r.createElement)(Ou,{stroke:"currentColor"},(0,r.createElement)("title",null,"Close file"),(0,r.createElement)("path",{d:"M12 4L4 12",strokeLinecap:"round"}),(0,r.createElement)("path",{d:"M4 4L12 12",strokeLinecap:"round"})),ku={colors:{surface1:"#ffffff",surface2:"#EFEFEF",surface3:"#F3F3F3",disabled:"#C5C5C5",base:"#323232",clickable:"#808080",hover:"#4D4D4D",accent:"#3973E0",error:"#EA3323",errorSurface:"#FCF1F0",warning:"#6A4516",warningSurface:"#FEF2C0"},syntax:{plain:"#151515",comment:{color:"#999",fontStyle:"italic"},keyword:"#7C5AE3",tag:"#0971F1",punctuation:"#3B3B3B",definition:"#85A600",property:"#3B3B3B",static:"#3B3B3B",string:"#2E6BD0"},font:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',size:"13px",lineHeight:"20px"}},Tu={colors:{surface1:"#151515",surface2:"#252525",surface3:"#2F2F2F",disabled:"#4D4D4D",base:"#808080",clickable:"#999999",hover:"#C5C5C5",accent:"#E5E5E5",error:"#FFB4A6",errorSurface:"#690000",warning:"#E7C400",warningSurface:"#3A3000"},syntax:{plain:"#FFFFFF",comment:{color:"#757575",fontStyle:"italic"},keyword:"#77B7D7",tag:"#DFAB5C",punctuation:"#ffffff",definition:"#86D9CA",property:"#77B7D7",static:"#C64640",string:"#977CDC"},font:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',size:"13px",lineHeight:"20px"}},Qu={light:ku,dark:Tu,auto:"undefined"!=typeof window&&(null==(fu=null==window?void 0:window.matchMedia)?void 0:fu.call(window,"(prefers-color-scheme: dark)").matches)?Tu:ku},Pu=(...e)=>e.filter(Boolean).join(" "),Cu=e=>{let t=e.lastIndexOf("/");return e.slice(t+1)},$u=()=>Math.floor(1e4*Math.random()).toString(),Iu=()=>"",Ru=()=>Iu,Au=Object.getOwnPropertyDescriptors({toString:Iu});Object.defineProperties(Iu,Au),Object.defineProperties(Ru,Au);var Mu={createTheme:Iu,css:Ru,getCssText:Iu,keyframes:Ru},ju="sp",{createTheme:Eu,css:Xu,getCssText:zu,keyframes:Wu}="undefined"!=typeof process&&process.env.SANDPACK_BARE_COMPONENTS?Mu:Oe({prefix:ju}),_u={space:new Array(11).fill(" ").reduce(((e,t,n)=>({...e,[n+1]:4*(n+1)+"px"})),{}),border:{radius:"4px"},layout:{height:"300px",headerHeight:"40px"},transitions:{default:"150ms ease"},zIndices:{base:"1",overlay:"2",top:"3"}},Lu=(e="light")=>{var t,n,i,r,o;if("string"==typeof e){let t=Qu[e];if(!t)throw new Error(`[sandpack-react]: invalid theme '${e}' provided.`);return{theme:t,id:e,mode:"light"}}let s=(e=>{let t=0,n=0,i=0;if(e.startsWith("#")){if(e.length<7)return!0;t=parseInt(e.substr(1,2),16),n=parseInt(e.substr(3,2),16),i=parseInt(e.substr(5,2),16)}else{let r=e.replace("rgb(","").replace("rgba(","").replace(")","").split(",");if(r.length<3)return!0;t=parseInt(r[0],10),n=parseInt(r[1],10),i=parseInt(r[2],10)}return(299*t+587*n+114*i)/1e3<128})(null!=(n=null==(t=null==e?void 0:e.colors)?void 0:t.surface1)?n:ku.colors.surface1)?"dark":"light",a="dark"===s?Tu:ku,l={colors:{...a.colors,...null!=(i=null==e?void 0:e.colors)?i:{}},syntax:{...a.syntax,...null!=(r=null==e?void 0:e.syntax)?r:{}},font:{...a.font,...null!=(o=null==e?void 0:e.font)?o:{}}};return{theme:l,id:`sp-${e?Du(JSON.stringify(l)):"default"}`,mode:s}},Du=e=>{let t=0;for(let n=0;n<e.length;t&=t)t=31*t+e.charCodeAt(n++);return Math.abs(t)},Bu=Xu({all:"initial",fontSize:"$font$size",fontFamily:"$font$body",display:"block",boxSizing:"border-box",textRendering:"optimizeLegibility",WebkitTapHighlightColor:"transparent",WebkitFontSmoothing:"subpixel-antialiased",variants:{variant:{dark:{colorScheme:"dark"},light:{colorScheme:"light"}}},"@media screen and (min-resolution: 2dppx)":{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},"*":{boxSizing:"border-box"},".sp-wrapper:focus":{outline:"0"}}),Uu=(0,r.createContext)({theme:ku,id:"light",mode:"light"}),Zu=({theme:e,children:t,className:n,...i})=>{let{theme:o,id:s,mode:a}=Lu(e),l=h(ju),c=(0,r.useMemo)((()=>Eu(s,(e=>{let t=Object.entries(e.syntax).reduce(((e,[t,n])=>{let i={[`color-${t}`]:n};return"object"==typeof n&&(i=Object.entries(n).reduce(((e,[n,i])=>({...e,[`${n}-${t}`]:i})),{})),{...e,...i}}),{});return{..._u,colors:e.colors,font:e.font,syntax:t}})(o))),[o,s]);return(0,r.createElement)(Uu.Provider,{value:{theme:o,id:s,mode:a}},(0,r.createElement)("div",{className:Pu(l("wrapper"),c.toString(),Bu({variant:a}),n),...i},t))},Nu=(Uu.Consumer,{files:{"/src/app/app.component.css":{code:"div {\n  text-align: center;\n}        \n"},"/src/app/app.component.html":{code:"<div>\n<h1>{{ helloWorld }}</h1>\n</div>     \n"},"/src/app/app.component.ts":{code:'import { Component } from "@angular/core";\n\n@Component({\n  selector: "app-root",\n  templateUrl: "./app.component.html",\n  styleUrls: ["./app.component.css"]\n})\nexport class AppComponent {\n  helloWorld = "Hello World";\n}           \n'},"/src/app/app.module.ts":{code:'import { BrowserModule } from "@angular/platform-browser";\nimport { NgModule } from "@angular/core";\n      \nimport { AppComponent } from "./app.component";\n      \n@NgModule({\n  declarations: [AppComponent],\n  imports: [BrowserModule],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}       \n'},"/src/index.html":{code:'<!doctype html>\n<html lang="en">\n      \n<head>\n  <meta charset="utf-8">\n  <title>Angular</title>\n  <base href="/">\n      \n  <meta name="viewport" content="width=device-width, initial-scale=1">\n  <link rel="icon" type="image/x-icon" href="favicon.ico">\n</head>\n      \n<body>\n   <app-root></app-root>\n</body>\n      \n</html>\n'},"/src/main.ts":{code:'import { enableProdMode } from "@angular/core";\nimport { platformBrowserDynamic } from "@angular/platform-browser-dynamic";\n      \nimport { AppModule } from "./app/app.module";      \n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n      \n'},"/src/polyfills.ts":{code:'import "core-js/proposals/reflect-metadata";   \n      import "zone.js/dist/zone";\n'},"/package.json":{code:JSON.stringify({dependencies:{"@angular/core":"^11.2.0","@angular/platform-browser":"^11.2.0","@angular/platform-browser-dynamic":"^11.2.0","@angular/common":"^11.2.0","@angular/compiler":"^11.2.0","zone.js":"0.11.3","core-js":"3.8.3",rxjs:"6.6.3"},main:"/src/main.ts"})}},main:"/src/app/app.component.ts",environment:"angular-cli"}),Fu={files:{"/App.js":{code:"export default function App() {\n  return <h1>Hello World</h1>\n}\n"},"/index.js":{code:'import React, { StrictMode } from "react";\nimport { createRoot } from "react-dom/client";\nimport "./styles.css";\n\nimport App from "./App";\n\nconst root = createRoot(document.getElementById("root"));\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);'},"/styles.css":{code:"body {\n  font-family: sans-serif;\n  -webkit-font-smoothing: auto;\n  -moz-font-smoothing: auto;\n  -moz-osx-font-smoothing: grayscale;\n  font-smoothing: auto;\n  text-rendering: optimizeLegibility;\n  font-smooth: always;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n\nh1 {\n  font-size: 1.5rem;\n}"},"/public/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Document</title>\n  </head>\n  <body>\n    <div id="root"></div>\n  </body>\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{react:"^18.0.0","react-dom":"^18.0.0","react-scripts":"^4.0.0"},main:"/index.js"})}},main:"/App.js",environment:"create-react-app"},Gu={files:{"tsconfig.json":{code:'{\n  "include": [\n    "./**/*"\n  ],\n  "compilerOptions": {\n    "strict": true,\n    "esModuleInterop": true,\n    "lib": [ "dom", "es2015" ],\n    "jsx": "react-jsx"\n  }\n}'},"/App.tsx":{code:"export default function App(): JSX.Element {\n  return <h1>Hello World</h1>\n}\n"},"/index.tsx":{code:'import React, { StrictMode } from "react";\nimport { createRoot } from "react-dom/client";\nimport "./styles.css";\n\nimport App from "./App";\n\nconst root = createRoot(document.getElementById("root"));\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);'},"/styles.css":{code:"body {\n  font-family: sans-serif;\n  -webkit-font-smoothing: auto;\n  -moz-font-smoothing: auto;\n  -moz-osx-font-smoothing: grayscale;\n  font-smoothing: auto;\n  text-rendering: optimizeLegibility;\n  font-smooth: always;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n\nh1 {\n  font-size: 1.5rem;\n}"},"/public/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Document</title>\n  </head>\n  <body>\n    <div id="root"></div>\n  </body>\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{react:"^18.0.0","react-dom":"^18.0.0","react-scripts":"^4.0.0"},devDependencies:{"@types/react":"^18.0.0","@types/react-dom":"^18.0.0",typescript:"^4.0.0"},main:"/index.tsx"})}},main:"/App.tsx",environment:"create-react-app"},qu={files:{"/App.tsx":{code:'import { Component } from "solid-js";\n\nconst App: Component = () => {\n  return <h1>Hello World</h1>;\n};\n\nexport default App;'},"/index.tsx":{code:'import { render } from "solid-js/web";\nimport App from "./App";\n\nimport "./styles.css";\n\nrender(() => <App />, document.getElementById("app"));'},"/styles.css":{code:"body {\n  font-family: sans-serif;\n  -webkit-font-smoothing: auto;\n  -moz-font-smoothing: auto;\n  -moz-osx-font-smoothing: grayscale;\n  font-smoothing: auto;\n  text-rendering: optimizeLegibility;\n  font-smooth: always;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n\nh1 {\n  font-size: 1.5rem;\n}"},"/index.html":{code:'<html>\n<head>\n  <title>Parcel Sandbox</title>\n  <meta charset="UTF-8" />\n</head>\n<body>\n  <div id="app"></div>\n  <script src="src/index.tsx"><\/script>\n</body>\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{"solid-js":"1.3.15"},main:"/index.tsx"})}},main:"/App.tsx",environment:"solid"},Vu={files:{"/App.svelte":{code:"<style>\n  main {\n    font-family: sans-serif;\n    text-align: center;\n  }\n</style>\n\n<script>\n  let name = 'World';\n<\/script>\n\n<main>\n  <h1>Hello {name}</h1>\n</main>"},"/index.js":{code:'import App from "./App.svelte";\n\nconst app = new App({\n  target: document.body\n});\n\nexport default app;\n      '},"/public/index.html":{code:'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="utf8" />\n    <meta name="viewport" content="width=device-width" />\n\n    <title>Svelte app</title>\n\n    <link rel="stylesheet" href="public/bundle.css" />\n  </head>\n\n  <body>\n    <script src="bundle.js"><\/script>\n  </body>\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{svelte:"^3.0.0"},main:"/index.js"})}},main:"/index.js",environment:"svelte"},Yu={files:{"tsconfig.json":{code:'{\n  "include": [\n    "./**/*"\n  ],\n  "compilerOptions": {\n    "strict": true,\n    "esModuleInterop": true,\n    "lib": [ "dom", "es2015" ],\n    "jsx": "react-jsx"\n  }\n}'},"/add.ts":{code:"export const add = (a: number, b: number): number => a + b;"},"/add.test.ts":{code:"import { add } from './add';\n\ndescribe('add', () => {\n  test('Commutative Law of Addition', () => {\n    expect(add(1, 2)).toBe(add(2, 1));\n  });\n});"},"package.json":{code:JSON.stringify({dependencies:{},devDependencies:{typescript:"^4.0.0"},main:"/add.ts"})}},main:"/add.test.ts",environment:"parcel",mode:"tests"},Hu={files:{"/src/index.js":{code:'import "./styles.css";\n\ndocument.getElementById("app").innerHTML = `\n<h1>Hello World</h1>\n<div>\n  We use the same configuration as Parcel to bundle this sandbox, you can find more\n  info about Parcel \n  <a href="https://parceljs.org" target="_blank" rel="noopener noreferrer">here</a>.\n</div>\n`;\n'},"/src/styles.css":{code:"body {\n  font-family: sans-serif;\n}\n      "},"/index.html":{code:'<!DOCTYPE html>\n<html>\n\n<head>\n  <title>Parcel Sandbox</title>\n  <meta charset="UTF-8" />\n</head>\n\n<body>\n  <div id="app"></div>\n\n  <script src="src/index.js">\n  <\/script>\n</body>\n\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{},main:"/src/index.js"})}},main:"/src/index.js",environment:"parcel"},Ju={files:{"tsconfig.json":{code:'{\n  "compilerOptions": {\n    "strict": true,\n    "module": "commonjs",\n    "jsx": "preserve",\n    "esModuleInterop": true,\n    "sourceMap": true,\n    "allowJs": true,\n    "lib": [\n      "es6",\n      "dom"\n    ],\n    "rootDir": "src",\n    "moduleResolution": "node"\n  }\n}'},"/src/index.ts":{code:'import "./styles.css";\n\ndocument.getElementById("app").innerHTML = `\n<h1>Hello World</h1>\n<div>\n  We use the same configuration as Parcel to bundle this sandbox, you can find more\n  info about Parcel \n  <a href="https://parceljs.org" target="_blank" rel="noopener noreferrer">here</a>.\n</div>\n`;\n'},"/src/styles.css":{code:"body {\n  font-family: sans-serif;\n}\n      "},"/index.html":{code:'<!DOCTYPE html>\n<html>\n\n<head>\n  <title>Parcel Sandbox</title>\n  <meta charset="UTF-8" />\n</head>\n\n<body>\n  <div id="app"></div>\n\n  <script src="src/index.ts">\n  <\/script>\n</body>\n\n</html>'},"/package.json":{code:JSON.stringify({dependencies:{},devDependencies:{typescript:"^4.0.0"},main:"/src/index.ts"})}},main:"/src/index.ts",environment:"parcel"},Ku={react:Fu,"react-ts":Gu,vue:{files:{"/src/App.vue":{code:'<template>\n  <div id="app">\n    <h1>Hello {{ msg }}</h1>\n  </div>\n</template>\n\n<script>\nimport Vue from \'vue\';\n\nexport default Vue.extend({\n  name: "App",\n  data() {\n    return {\n      msg: "World",\n    };\n  },\n});\n<\/script>'},"/src/main.js":{code:'import Vue from "vue";\nimport App from "./App.vue";\nVue.config.productionTip = false;\n\nnew Vue({\n  render: h => h(App)\n}).$mount("#app");\n'},"/public/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta name="viewport" content="width=device-width,initial-scale=1.0" />\n    <link rel="icon" href="<%= BASE_URL %>favicon.ico" />\n    <title>codesandbox</title>\n  </head>\n  <body>\n    <noscript>\n      <strong\n        >We\'re sorry but codesandbox doesn\'t work properly without JavaScript\n        enabled. Please enable it to continue.</strong\n      >\n    </noscript>\n    <div id="app"></div>\n    \x3c!-- built files will be auto injected --\x3e\n  </body>\n</html>\n'},"/package.json":{code:JSON.stringify({name:"vue",version:"0.1.0",private:!0,main:"/src/main.js",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.26.1",vue:"^2.7.14"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-service":"^5.0.8","vue-template-compiler":"^2.7.14"}})}},main:"/src/App.vue",environment:"vue-cli"},vanilla:Hu,"vanilla-ts":Ju,vue3:{files:{"/src/App.vue":{code:"<template>\n  <h1>Hello {{ msg }}</h1>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\n\nconst msg = ref('World');\n<\/script>"},"/src/main.js":{code:"import { createApp } from 'vue'\nimport App from './App.vue'\ncreateApp(App).mount('#app')\n"},"/public/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta name="viewport" content="width=device-width,initial-scale=1.0" />\n    <title>codesandbox</title>\n  </head>\n  <body>\n    <noscript>\n      <strong\n        >We\'re sorry but codesandbox doesn\'t work properly without JavaScript\n        enabled. Please enable it to continue.</strong\n      >\n    </noscript>\n    <div id="app"></div>\n    \x3c!-- built files will be auto injected --\x3e\n  </body>\n</html>\n'},"/package.json":{code:JSON.stringify({name:"vue3",version:"0.1.0",private:!0,main:"/src/main.js",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.26.1",vue:"^3.2.45"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-service":"^5.0.8"}})}},main:"/src/App.vue",environment:"vue-cli"},"vue3-ts":{files:{"/src/App.vue":{code:"<template>\n  <h1>Hello {{ msg }}</h1>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue';\n\nconst msg = ref<string>('World');\n<\/script>"},"/src/main.ts":{code:"import { createApp } from 'vue'\nimport App from './App.vue'\ncreateApp(App).mount('#app')\n"},"/src/shims-vue.d.ts":'/* eslint-disable */\ndeclare module "*.vue" {\n  import type { DefineComponent } from "vue";\n  const component: DefineComponent<{}, {}, any>;\n  export default component;\n}',"/public/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta name="viewport" content="width=device-width,initial-scale=1.0" />\n    <title>codesandbox</title>\n  </head>\n  <body>\n    <noscript>\n      <strong\n        >We\'re sorry but codesandbox doesn\'t work properly without JavaScript\n        enabled. Please enable it to continue.</strong\n      >\n    </noscript>\n    <div id="app"></div>\n    \x3c!-- built files will be auto injected --\x3e\n  </body>\n</html>\n'},"/package.json":{code:JSON.stringify({name:"vue3-ts",version:"0.1.0",private:!0,main:"/src/main.ts",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.26.1",vue:"^3.2.45"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-plugin-typescript":"^5.0.8","@vue/cli-service":"^5.0.8",typescript:"^4.9.3"}})},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"esnext",module:"esnext",strict:!0,jsx:"preserve",moduleResolution:"node",experimentalDecorators:!0,skipLibCheck:!0,esModuleInterop:!0,allowSyntheticDefaultImports:!0,forceConsistentCasingInFileNames:!0,useDefineForClassFields:!0,sourceMap:!1,baseUrl:".",types:["webpack-env"],paths:{"@/*":["src/*"]},lib:["esnext","dom","dom.iterable","scripthost"]},include:["src/**/*.ts","src/**/*.tsx","src/**/*.vue","tests/**/*.ts","tests/**/*.tsx"],exclude:["node_modules"]})}},main:"/src/App.vue",environment:"vue-cli"},angular:Nu,svelte:Vu,solid:qu,"test-ts":Yu},ef=e=>{var t,n,i,r,o,s;let a=y(e.files),l=nf({template:e.template,customSetup:e.customSetup,files:a}),c=y(null!=(n=null==(t=e.options)?void 0:t.visibleFiles)?n:[]),h=(null==(i=e.options)?void 0:i.activeFile)?tf(null==(r=e.options)?void 0:r.activeFile,l.files):void 0;0===c.length&&a&&Object.keys(a).forEach((e=>{let t=a[e];"string"!=typeof t?(!h&&t.active&&(h=e,!0===t.hidden&&c.push(e)),t.hidden||c.push(e)):c.push(e)})),0===c.length&&(c=[l.main]),l.entry&&!l.files[l.entry]&&(l.entry=tf(l.entry,l.files)),!h&&l.main&&(h=l.main),(!h||!l.files[h])&&(h=c[0]),c.includes(h)||c.push(h);let p=O(l.files,null!=(o=l.dependencies)?o:{},null!=(s=l.devDependencies)?s:{},l.entry);return{visibleFiles:c.filter((e=>p[e])),activeFile:h,files:p,environment:l.environment}},tf=(e,t)=>{let n=y(t),i=y(e);if(i in n)return i;if(!e)return null;let r=null,o=0,s=[".js",".jsx",".ts",".tsx"];for(;!r&&o<s.length;){let e=`${i.split(".")[0]}${s[o]}`;void 0!==n[e]&&(r=e),o++}return r},nf=({files:e,template:t,customSetup:n})=>{if(!t){if(!n)return Ku.vanilla;if(!e||0===Object.keys(e).length)throw new Error("[sandpack-react]: without a template, you must pass at least one file");return{...n,files:rf(e)}}let i=Ku[t];if(!i)throw new Error(`[sandpack-react]: invalid template "${t}" provided`);return n||e?{files:rf({...i.files,...e}),dependencies:{...i.dependencies,...null==n?void 0:n.dependencies},devDependencies:{...i.devDependencies,...null==n?void 0:n.devDependencies},entry:y(null==n?void 0:n.entry),main:i.main,environment:(null==n?void 0:n.environment)||i.environment}:i},rf=e=>e?Object.keys(e).reduce(((t,n)=>("string"==typeof e[n]?t[n]={code:e[n]}:t[n]=e[n],t)),{}):{},of=(0,r.createContext)(null),sf=class extends r.PureComponent{constructor(e){var t,n,i,o;super(e),this.timeoutHook=null,this.initializeSandpackIframeHook=null,this.handleMessage=e=>{this.timeoutHook&&clearTimeout(this.timeoutHook),"state"===e.type?this.setState({bundlerState:e.state}):"done"!==e.type||e.compilatonError?"action"===e.type&&"show-error"===e.action?this.setState({error:x(e)}):"action"===e.type&&"notification"===e.action&&"error"===e.notificationType&&this.setState({error:{message:e.title}}):this.setState({error:null})},this.registerReactDevTools=e=>{this.setState({reactDevTools:e})},this.updateCurrentFile=e=>{this.updateFile(this.state.activeFile,e)},this.updateFile=(e,t)=>{var n;let i=this.state.files;if("string"==typeof e){if((null==(n=this.state.files[e])?void 0:n.code)&&t===this.state.files[e].code)return;i={...i,[e]:{code:null!=t?t:""}}}else"object"==typeof e&&(i={...i,...rf(e)});this.setState({files:y(i)},this.updateClients)},this.updateClients=()=>{var e,t,n,i;let{files:r,sandpackStatus:o}=this.state,s=null!=(t=null==(e=this.props.options)?void 0:e.recompileMode)?t:"delayed",a=null!=(i=null==(n=this.props.options)?void 0:n.recompileDelay)?i:500;"running"===o&&("immediate"===s&&Object.values(this.clients).forEach((e=>{e.updatePreview({files:r})})),"delayed"===s&&(window.clearTimeout(this.debounceHook),this.debounceHook=window.setTimeout((()=>{Object.values(this.clients).forEach((e=>{e.updatePreview({files:this.state.files})}))}),a)))},this.createClient=(e,t)=>{var n,i,r,o,s,a,l,c,h;let p=new S(e,{files:this.state.files,template:this.state.environment},{externalResources:null==(n=this.props.options)?void 0:n.externalResources,bundlerURL:null==(i=this.props.options)?void 0:i.bundlerURL,startRoute:null==(r=this.props.options)?void 0:r.startRoute,fileResolver:null==(o=this.props.options)?void 0:o.fileResolver,skipEval:null!=(a=null==(s=this.props.options)?void 0:s.skipEval)&&a,logLevel:null==(l=this.props.options)?void 0:l.logLevel,showOpenInCodeSandbox:!this.openInCSBRegistered.current,showErrorScreen:!this.errorScreenRegistered.current,showLoadingScreen:!this.loadingScreenRegistered.current,reactDevTools:this.state.reactDevTools,customNpmRegistries:null==(h=null==(c=this.props.customSetup)?void 0:c.npmRegistries)?void 0:h.map((e=>({...e,proxyEnabled:!1})))});return"function"!=typeof this.unsubscribe&&(this.unsubscribe=p.listen(this.handleMessage),this.timeoutHook=setTimeout((()=>{this.setState({sandpackStatus:"timeout"})}),3e4)),this.unsubscribeClientListeners[t]=this.unsubscribeClientListeners[t]||{},this.queuedListeners[t]&&(Object.keys(this.queuedListeners[t]).forEach((e=>{let n=this.queuedListeners[t][e],i=p.listen(n);this.unsubscribeClientListeners[t][e]=i})),this.queuedListeners[t]={}),Object.entries(this.queuedListeners.global).forEach((([e,n])=>{let i=p.listen(n);this.unsubscribeClientListeners[t][e]=i})),p},this.runSandpack=()=>{Object.keys(this.preregisteredIframes).forEach((e=>{let t=this.preregisteredIframes[e];this.clients[e]=this.createClient(t,e)})),this.setState({sandpackStatus:"running"})},this.registerBundler=(e,t)=>{"running"===this.state.sandpackStatus?this.clients[t]=this.createClient(e,t):this.preregisteredIframes[t]=e},this.unregisterBundler=e=>{var t;let n=this.clients[e];n?(n.cleanup(),null==(t=n.iframe.contentWindow)||t.location.replace("about:blank"),delete this.clients[e]):delete this.preregisteredIframes[e],this.timeoutHook&&clearTimeout(this.timeoutHook),Object.values(this.unsubscribeClientListeners).forEach((e=>{Object.values(e).forEach((e=>e()))})),this.setState({sandpackStatus:"idle"})},this.unregisterAllClients=()=>{Object.keys(this.clients).map(this.unregisterBundler),"function"==typeof this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)},this.setActiveFile=e=>{this.setState({activeFile:e})},this.openFile=e=>{this.setState((({visibleFiles:t})=>{let n=t.includes(e)?t:[...t,e];return{activeFile:e,visibleFiles:n}}))},this.closeFile=e=>{1!==this.state.visibleFiles.length&&this.setState((({visibleFiles:t,activeFile:n})=>{let i=t.indexOf(e),r=t.filter((t=>t!==e));return{activeFile:e===n?0===i?t[1]:t[i-1]:n,visibleFiles:r}}))},this.deleteFile=e=>{this.setState((({visibleFiles:t,files:n,activeFile:i})=>{let r={...n};delete r[e];let o=t.filter((t=>t!==e));if(0===o.length){let e=Object.keys(n)[Object.keys(n).length-1];return{visibleFiles:[e],activeFile:e,files:r}}return{visibleFiles:o,activeFile:e===i?o[o.length-1]:i,files:r}}),this.updateClients)},this.addFile=this.updateFile,this.dispatchMessage=(e,t)=>{"running"===this.state.sandpackStatus?t?this.clients[t].dispatch(e):Object.values(this.clients).forEach((t=>{t.dispatch(e)})):console.warn("[sandpack-react]: dispatch cannot be called while in idle mode")},this.addListener=(e,t)=>{if(t){if(this.clients[t])return this.clients[t].listen(e);{let n=$u();return this.queuedListeners[t]=this.queuedListeners[t]||{},this.unsubscribeClientListeners[t]=this.unsubscribeClientListeners[t]||{},this.queuedListeners[t][n]=e,()=>{this.queuedListeners[t][n]?delete this.queuedListeners[t][n]:this.unsubscribeClientListeners[t][n]&&(this.unsubscribeClientListeners[t][n](),delete this.unsubscribeClientListeners[t][n])}}}{let t=$u();this.queuedListeners.global[t]=e;let n=Object.values(this.clients).map((t=>t.listen(e)));return()=>{n.forEach((e=>e()))}}},this.resetFile=e=>{let{files:t}=ef({template:this.props.template,files:this.props.files,customSetup:this.props.customSetup,options:this.props.options});this.setState((n=>({files:{...n.files,[e]:t[e]}})),this.updateClients)},this.resetAllFiles=()=>{let{files:e}=ef({template:this.props.template,files:this.props.files,customSetup:this.props.customSetup,options:this.props.options});this.setState({files:e},this.updateClients)},this._getSandpackState=()=>{let{files:e,activeFile:t,visibleFiles:n,visibleFilesFromProps:i,startRoute:r,bundlerState:o,editorState:s,error:a,sandpackStatus:l,environment:c,initMode:h}=this.state;return{files:e,environment:c,visibleFiles:n,visibleFilesFromProps:i,activeFile:t,startRoute:r,error:a,bundlerState:o,status:l,editorState:s,initMode:h,clients:this.clients,dispatch:this.dispatchMessage,errorScreenRegisteredRef:this.errorScreenRegistered,lazyAnchorRef:this.lazyAnchorRef,listen:this.addListener,loadingScreenRegisteredRef:this.loadingScreenRegistered,openInCSBRegisteredRef:this.openInCSBRegistered,registerBundler:this.registerBundler,runSandpack:this.runSandpack,unregisterBundler:this.unregisterBundler,registerReactDevTools:this.registerReactDevTools,openFile:this.openFile,resetFile:this.resetFile,resetAllFiles:this.resetAllFiles,setActiveFile:this.setActiveFile,updateCurrentFile:this.updateCurrentFile,updateFile:this.updateFile,addFile:this.addFile,closeFile:this.closeFile,deleteFile:this.deleteFile}};let{activeFile:s,visibleFiles:a,files:l,environment:c}=ef({template:e.template,files:e.files,customSetup:e.customSetup,options:e.options});this.state={files:l,environment:c,visibleFiles:a,visibleFilesFromProps:a,activeFile:s,startRoute:null==(t=this.props.options)?void 0:t.startRoute,bundlerState:void 0,error:null,sandpackStatus:null==(i=null==(n=this.props.options)?void 0:n.autorun)||i?"initial":"idle",editorState:"pristine",initMode:(null==(o=this.props.options)?void 0:o.initMode)||"lazy",reactDevTools:void 0},this.queuedListeners={global:{}},this.unsubscribeClientListeners={},this.preregisteredIframes={},this.clients={},this.lazyAnchorRef=(0,r.createRef)(),this.errorScreenRegistered=(0,r.createRef)(),this.openInCSBRegistered=(0,r.createRef)(),this.loadingScreenRegistered=(0,r.createRef)()}initializeSandpackIframe(){var e,t,n,i,r;if(null!=(t=null==(e=this.props.options)?void 0:e.autorun)&&!t)return;let o=null!=(i=null==(n=this.props.options)?void 0:n.initModeObserverOptions)?i:{rootMargin:"1000px 0px"};this.intersectionObserver&&this.lazyAnchorRef.current&&(null==(r=this.intersectionObserver)||r.unobserve(this.lazyAnchorRef.current)),this.lazyAnchorRef.current&&"lazy"===this.state.initMode?(this.intersectionObserver=new IntersectionObserver((e=>{var t;e.some((e=>e.isIntersecting))&&(this.initializeSandpackIframeHook=setTimeout((()=>{this.runSandpack()}),50),this.lazyAnchorRef.current&&(null==(t=this.intersectionObserver)||t.unobserve(this.lazyAnchorRef.current)))}),o),this.intersectionObserver.observe(this.lazyAnchorRef.current)):this.lazyAnchorRef.current&&"user-visible"===this.state.initMode?(this.intersectionObserver=new IntersectionObserver((e=>{e.some((e=>e.isIntersecting))?this.initializeSandpackIframeHook=setTimeout((()=>{this.runSandpack()}),50):(this.initializeSandpackIframeHook&&clearTimeout(this.initializeSandpackIframeHook),Object.keys(this.clients).map(this.unregisterBundler),this.unregisterAllClients())}),o),this.intersectionObserver.observe(this.lazyAnchorRef.current)):this.initializeSandpackIframeHook=setTimeout((()=>this.runSandpack()),50)}componentDidMount(){this.initializeSandpackIframe()}componentDidUpdate(e){var t,n,i,r;(null==(t=e.options)?void 0:t.initMode)!==(null==(n=this.props.options)?void 0:n.initMode)&&(null==(i=this.props.options)?void 0:i.initMode)&&this.setState({initMode:null==(r=this.props.options)?void 0:r.initMode},this.initializeSandpackIframe);let{activeFile:o,visibleFiles:s,files:a,environment:l}=ef({template:this.props.template,files:this.props.files,customSetup:this.props.customSetup,options:this.props.options});if(e.template!==this.props.template||!f()(e.options,this.props.options)||!f()(e.customSetup,this.props.customSetup)||!f()(e.files,this.props.files)){if(this.setState({activeFile:o,visibleFiles:s,visibleFilesFromProps:s,files:a,environment:l}),"running"!==this.state.sandpackStatus)return;Object.values(this.clients).forEach((e=>e.updatePreview({files:a,template:l})))}let c=f()(a,this.state.files)?"pristine":"dirty";c!==this.state.editorState&&this.setState({editorState:c})}componentWillUnmount(){"function"==typeof this.unsubscribe&&this.unsubscribe(),this.timeoutHook&&clearTimeout(this.timeoutHook),this.debounceHook&&clearTimeout(this.debounceHook),this.initializeSandpackIframeHook&&clearTimeout(this.initializeSandpackIframeHook),this.intersectionObserver&&this.intersectionObserver.disconnect()}render(){var e;let{children:t,theme:n,className:i,style:o}=this.props;return(0,r.createElement)(of.Provider,{value:this._getSandpackState()},(0,r.createElement)(c,{classes:null==(e=this.props.options)?void 0:e.classes},(0,r.createElement)(Zu,{className:i,style:o,theme:n},t)))}},af=sf;of.Consumer;function lf(){let e=(0,r.useContext)(of);if(null===e)throw new Error('[sandpack-react]: "useSandpack" must be wrapped by a "SandpackProvider"');let{dispatch:t,listen:n,...i}=e;return{sandpack:{...i},dispatch:t,listen:n}}var cf=()=>{var e,t,n;let{sandpack:i}=lf();return{code:null==(e=i.files[i.activeFile])?void 0:e.code,readOnly:null!=(n=null==(t=i.files[i.activeFile])?void 0:t.readOnly)&&n,updateCode:i.updateCurrentFile}},hf=Xu({svg:{margin:"auto"}}),pf=Xu({appearance:"none",border:"0",outline:"none",display:"flex",alignItems:"center",fontSize:"inherit",fontFamily:"inherit",backgroundColor:"transparent",transition:"color $default, background $default",cursor:"pointer",color:"$colors$clickable","&:disabled":{color:"$colors$disabled"},"&:hover:not(:disabled,[data-active='true'])":{color:"$colors$hover"},'&[data-active="true"]':{color:"$colors$accent"},svg:{minWidth:"$space$4",width:"$space$4",height:"$space$4"},[`&.${hf}`]:{padding:"$space$1",width:"$space$7",height:"$space$7",display:"flex"}}),df=Xu({backgroundColor:"$colors$surface2",borderRadius:"99999px",'&[data-active="true"]':{color:"$colors$surface1",background:"$colors$accent"},"&:hover:not(:disabled,[data-active='true'])":{backgroundColor:"$colors$surface3"}}),uf=Xu({padding:0}),ff=Wu({"0%":{opacity:0,transform:"translateY(4px)"},"100%":{opacity:1,transform:"translateY(0)"}}),mf=Xu({position:"absolute",bottom:"0",left:"0",right:"0",top:"0",margin:"0",overflow:"auto",height:"100%",zIndex:"$top"}),gf=Xu({padding:"$space$4",whiteSpace:"pre-wrap",fontFamily:"$font$mono",backgroundColor:"$colors$errorSurface"}),Of=Xu({animation:`${ff} 150ms ease`,color:"$colors$error"}),xf=Xu({borderBottom:"1px solid $colors$surface2",background:"$colors$surface1"}),bf=Xu({padding:"0 $space$2",overflow:"auto",display:"flex",flexWrap:"nowrap",alignItems:"stretch",minHeight:"40px",marginBottom:"-1px"}),vf=Xu({padding:"0 $space$1 0 $space$1",borderRadius:"$border$radius",marginLeft:"$space$1",width:"$space$5",visibility:"hidden",svg:{width:"$space$3",height:"$space$3",display:"block",position:"relative",top:1}}),yf=Xu({padding:"0 $space$2",height:"$layout$headerHeight",whiteSpace:"nowrap","&:focus":{outline:"none"},[`&:hover > .${vf}`]:{visibility:"unset"}}),wf=({closableTabs:e,className:t,...n})=>{let{sandpack:i}=lf(),o=h(ju),{activeFile:s,visibleFiles:a,setActiveFile:l}=i,c=e=>{e.stopPropagation();let t=e.target.closest("[data-active]"),n=null==t?void 0:t.getAttribute("title");!n||i.closeFile(n)};return(0,r.createElement)("div",{className:Pu(o("tabs"),xf,t),translate:"no",...n},(0,r.createElement)("div",{"aria-label":"Select active file",className:Pu(o("tabs-scrollable-container"),bf),role:"tablist"},a.map((t=>(0,r.createElement)("button",{key:t,"aria-selected":t===s,className:Pu(o("tab-button"),pf,yf),"data-active":t===s,onClick:()=>l(t),role:"tab",title:t,type:"button"},(e=>{let t=Cu(e),n=a.reduce(((n,i)=>(i===e||Cu(i)===t&&n.push(i),n)),[]);return 0===n.length?t:((e,t)=>{let n=("/"===e[0]?e.slice(1):e).split("/"),i=[];if(1===n.length)i.unshift(n[0]);else for(let r=0;r<t.length;r++){let e=t[r].split("/");for(let t=1;t<=n.length;t++){let r=n[n.length-t],o=e[e.length-t];if(i.length<t&&i.unshift(r),r!==o)break}}return i.length<n.length&&i.unshift(".."),i.join("/")})(e,n)})(t),e&&a.length>1&&(0,r.createElement)("span",{className:Pu(o("close-button"),vf),onClick:c},(0,r.createElement)(Su,null)))))))},Sf=Xu({position:"absolute",bottom:"$space$2",right:"$space$2",paddingRight:"$space$3"}),kf=({className:e,onClick:t,...n})=>{let i=h(ju),{sandpack:o}=lf();return(0,r.createElement)("button",{className:Pu(i("button"),pf,df,Sf,e),onClick:e=>{o.runSandpack(),null==t||t(e)},type:"button",...n},(0,r.createElement)(xu,null),"Run")},Tf=Xu({display:"flex",flexDirection:"column",width:"100%",position:"relative",backgroundColor:"$colors$surface1",transition:"flex $transitions$default",gap:1,[`&:has(.${ju}-stack)`]:{backgroundColor:"$colors$surface2"}}),Qf=({className:e,...t})=>{let n=h(ju);return(0,r.createElement)("div",{className:Pu(n("stack"),Tf,e),...t})},Pf=()=>{let{theme:e,id:t,mode:n}=(0,r.useContext)(Uu);return{theme:e,themeId:t,themeMode:n}},Cf=(e,t)=>{if(e.length!==t.length)return!1;let n=!0;for(let i=0;i<e.length;i++)if(e[i]!==t[i]){n=!1;break}return n},$f=(e,{line:t,column:n})=>e.line(t).from+(null!=n?n:0)-1,If=e=>`${ju}-syntax-${e}`,Rf=(...e)=>(0,r.useCallback)((t=>e.forEach((e=>{if(e){if("function"==typeof e)return e(t);e.current=t}}))),e);var Af=vi.line({attributes:{class:"cm-errorLine"}}),Mf=qi.fromClass(class{constructor(){this.decorations=vi.none}update(e){e.transactions.forEach((t=>{let n=t.annotation("show-error");if(void 0!==n){let t=$f(e.view.state.doc,{line:n})+1;this.decorations=vi.set([Af.range(t)])}else t.annotation("remove-errors")&&(this.decorations=vi.none)}))}},{decorations:e=>e.decorations}),jf=Xu({margin:"0",display:"block",fontFamily:"$font$mono",fontSize:"$font$size",color:"$syntax$color$plain",lineHeight:"$font$lineHeight"}),Ef=Xu(["string","plain","comment","keyword","definition","punctuation","property","tag","static"].reduce(((e,t)=>({...e,[`.${If(t)}`]:{color:`$syntax$color$${t}`,fontStyle:`$syntax$fontStyle$${t}`}})),{})),Xf=Xu({flex:1,position:"relative",overflow:"auto",background:"$colors$surface1",".cm-scroller":{padding:"$space$4 0"},[`.${jf}`]:{padding:"$space$4 0"}}),zf=Xu({margin:"0",outline:"none",height:"100%"}),Wf=Xu({fontFamily:"$font$mono",fontSize:"0.8em",position:"absolute",right:"$space$2",bottom:"$space$2",zIndex:"$top",color:"$colors$clickable",backgroundColor:"$colors$surface2",borderRadius:"99999px",padding:"calc($space$1 / 2) $space$2",[`& + .${pf}`]:{right:"calc($space$11 * 2)"}}),_f=({langSupport:e,highlightTheme:t,code:n=""})=>{let i=e.language.parser.parse(n),o=0,s=[],a=(e,t)=>{if(e>o){let i=n.slice(o,e);s.push(t?(0,r.createElement)("span",{children:i,className:t,key:`${e}${o}`}):i),o=e}};return function(e,t,n,i=0,r=e.length){sh(e,i,r,t,n)}(i,t.match,((e,t,n)=>{a(e,""),a(t,n)})),o<n.length&&s.push("\n\n"),s},Lf=(0,r.forwardRef)((({code:e="",filePath:t,fileType:n,onCodeUpdate:i,showLineNumbers:o=!1,showInlineErrors:s=!1,wrapContent:a=!1,editorState:l="pristine",readOnly:c=!1,showReadOnly:p=!0,decorators:d,initMode:u="lazy",id:f,extensions:m=[],extensionsKeymap:g=[],additionalLanguages:O=[]},x)=>{let b=(0,r.useRef)(null),v=Rf(b,x),y=(0,r.useRef)(),{theme:w,themeId:S}=Pf(),[k,T]=(0,r.useState)(e),[Q,P]=(0,r.useState)("immediate"===u),C=h(ju),{listen:$}=lf(),I=(0,r.useRef)([]),R=(0,r.useRef)([]),{isIntersecting:A}=Yh(b,{rootMargin:"600px 0px",threshold:.2});(0,r.useImperativeHandle)(x,(()=>({getCodemirror:()=>y.current}))),(0,r.useEffect)((()=>{("lazy"===u||"user-visible"===u)&&A&&P(!0)}),[u,A]);let M=((e,t,n)=>{if(!e&&!t)return"javascript";let i=t;if(!i&&e){let t=e.lastIndexOf(".");i=e.slice(t+1)}for(let r of n)if(i===r.name||r.extensions.includes(i||""))return r.name;switch(i){case"ts":case"tsx":return"typescript";case"html":case"svelte":case"vue":return"html";case"css":case"less":case"scss":return"css";default:return"javascript"}})(t,n,O),j=((e,t)=>{let n={javascript:Fd({jsx:!0,typescript:!1}),typescript:Fd({jsx:!0,typescript:!0}),html:du(),css:Lp()};for(let i of t)if(e===i.name)return i.language;return n[e]})(M,O),E=(e=>th.define([{tag:Sh.link,textDecoration:"underline"},{tag:Sh.emphasis,fontStyle:"italic"},{tag:Sh.strong,fontWeight:"bold"},{tag:Sh.keyword,class:If("keyword")},{tag:[Sh.atom,Sh.number,Sh.bool],class:If("static")},{tag:Sh.tagName,class:If("tag")},{tag:Sh.variableName,class:If("plain")},{tag:Sh.function(Sh.variableName),class:If("definition")},{tag:Sh.definition(Sh.function(Sh.variableName)),class:If("definition")},{tag:Sh.propertyName,class:If("property")},{tag:[Sh.literal,Sh.inserted],class:If(e.syntax.string?"string":"static")},{tag:Sh.punctuation,class:If("punctuation")},{tag:[Sh.comment,Sh.quote],class:If("comment")}]))(w),X=_f({langSupport:j,highlightTheme:E,code:e}),z=(0,r.useMemo)((()=>d&&d.sort(((e,t)=>e.line-t.line))),[d]);(0,r.useEffect)((()=>{if(!b.current||!Q)return;let n=setTimeout((function(){let n=[{key:"Tab",run:e=>{var t;fc(e);let n=g.find((({key:e})=>"Tab"===e));return null==(t=null==n?void 0:n.run(e))||t}},{key:"Shift-Tab",run:({state:e,dispatch:t})=>{var n;mc({state:e,dispatch:t});let i=g.find((({key:e})=>"Shift-Tab"===e));return null==(n=null==i?void 0:i.run(d))||n}},{key:"Escape",run:()=>(c||b.current&&b.current.focus(),!0)},{key:"mod-Backspace",run:oc}],r=[xs(),Ih(),[Ja,Ga],...m,rs.of([...Ka,...Oc,...Fh,...wc,...n,...g]),j,kh.fallback,Vo.theme({"&":{backgroundColor:`var(--${ju}-colors-surface1)`,color:`var(--${ju}-syntax-color-plain)`,height:"100%"},".cm-matchingBracket, .cm-nonmatchingBracket, &.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{color:"inherit",backgroundColor:"rgba(128,128,128,.25)",backgroundBlendMode:"difference"},"&.cm-editor.cm-focused":{outline:"none"},".cm-activeLine":{backgroundColor:`var(--${ju}-colors-surface3)`,borderRadius:`var(--${ju}-border-radius)`},".cm-errorLine":{backgroundColor:`var(--${ju}-colors-errorSurface)`,borderRadius:`var(--${ju}-border-radius)`},".cm-content":{caretColor:`var(--${ju}-colors-accent)`,padding:`0 var(--${ju}-space-4)`},".cm-scroller":{fontFamily:`var(--${ju}-font-mono)`,lineHeight:`var(--${ju}-font-lineHeight)`},".cm-gutters":{backgroundColor:`var(--${ju}-colors-surface1)`,color:`var(--${ju}-colors-disabled)`,border:"none",paddingLeft:`var(--${ju}-space-1)`},".cm-gutter.cm-lineNumbers":{fontSize:".6em"},".cm-lineNumbers .cm-gutterElement":{lineHeight:`var(--${ju}-font-lineHeight)`,minWidth:`var(--${ju}-space-5)`},".cm-content .cm-line":{paddingLeft:`var(--${ju}-space-1)`},".cm-content.cm-readonly .cm-line":{paddingLeft:0}}),E];c?(r.push(Bt.readOnly.of(!0)),r.push(Vo.editable.of(!1))):(r.push(function(e={}){return[ll.of(e),dl]}()),r.push(Ss)),z&&r.push(function(e){return qi.fromClass(class{constructor(e){this.decorations=this.getDecoration(e)}update(e){}getDecoration(t){if(!e)return vi.none;let n=e.map((e=>{var n,i,r;let o=vi.line({attributes:{class:null!=(n=e.className)?n:""}}),s=vi.mark({class:null!=(i=e.className)?i:"",attributes:null!=(r=e.elementAttributes)?r:void 0}),a=$f(t.state.doc,{line:e.line,column:e.startColumn})+1;if(e.startColumn&&e.endColumn){let n=$f(t.state.doc,{line:e.line,column:e.endColumn})+1;return s.range(a,n)}return o.range(a)}));return vi.set(n)}},{decorations:e=>e.decorations})}(z)),a&&r.push(Vo.lineWrapping),o&&r.push(function(e={}){return[_c.of(e),Rc(),Bc]}()),s&&r.push(Mf);let l=Bt.create({doc:e,extensions:r}),h=b.current,p=h.querySelector(".sp-pre-placeholder");p&&h.removeChild(p);let d=new Vo({state:l,parent:h,dispatch:e=>{if(d.update([e]),e.docChanged){let t=e.newDoc.sliceString(0,e.newDoc.length);T(t),null==i||i(t)}}});d.contentDOM.setAttribute("data-gramm","false"),d.contentDOM.setAttribute("aria-label",t?`Code Editor for ${Cu(t)}`:"Code Editor"),c?d.contentDOM.classList.add("cm-readonly"):d.contentDOM.setAttribute("tabIndex","-1"),y.current=d}),0);return()=>{var e;null==(e=y.current)||e.destroy(),clearTimeout(n)}}),[Q,o,a,S,z,c]),(0,r.useEffect)((function(){let e=y.current,t=!Cf(m,I.current)||!Cf(g,R.current);e&&t&&(e.dispatch({effects:It.appendConfig.of(m)}),e.dispatch({effects:It.appendConfig.of(rs.of([...g]))}),I.current=m,R.current=g)}),[m,g]),(0,r.useEffect)((()=>{y.current&&"dirty"===l&&window.matchMedia("(min-width: 768px)").matches&&y.current.contentDOM.focus()}),[]),(0,r.useEffect)((()=>{if(y.current&&e!==k){let t=y.current,n=t.state.selection.ranges.some((({to:t,from:n})=>t>e.length||n>e.length))?Ye.cursor(e.length):t.state.selection,i={from:0,to:t.state.doc.length,insert:e};t.dispatch({changes:i,selection:n})}}),[e]),(0,r.useEffect)((function(){if(!s)return;let e=$((e=>{let n=y.current;"success"===e.type?null==n||n.dispatch({annotations:[new Pt("remove-errors",!0)]}):"action"===e.type&&"show-error"===e.action&&e.path===t&&e.line&&(null==n||n.dispatch({annotations:[new Pt("show-error",e.line)]}))}));return()=>e()}),[$,s]);let W=()=>{let e=4;return o&&(e+=6),c||(e+=1),`var(--${ju}-space-${e})`};return c?(0,r.createElement)(r.Fragment,null,(0,r.createElement)("pre",{ref:v,className:Pu(C("cm",l,M),zf,Ef),translate:"no"},(0,r.createElement)("code",{className:Pu(C("pre-placeholder"),jf),style:{marginLeft:W()}},X)),c&&p&&(0,r.createElement)("span",{className:Pu(C("read-only"),Wf)},"Read-only")):(0,r.createElement)("div",{ref:v,"aria-autocomplete":"list","aria-label":t?`Code Editor for ${Cu(t)}`:"Code Editor","aria-multiline":"true",className:Pu(C("cm",l,M),zf,Ef),onKeyDown:e=>{"Enter"===e.key&&y.current&&(e.preventDefault(),y.current.contentDOM.focus())},role:"textbox",tabIndex:0,translate:"no",suppressHydrationWarning:!0},(0,r.createElement)("pre",{className:Pu(C("pre-placeholder"),jf),style:{marginLeft:W()}},X))})),Df=((0,r.forwardRef)((({style:e,showTabs:t,showLineNumbers:n=!1,showInlineErrors:i=!1,showRunButton:o=!0,wrapContent:s=!1,closableTabs:a=!1,initMode:l,extensions:c,extensionsKeymap:p,id:d,readOnly:u,showReadOnly:f,additionalLanguages:m},g)=>{let{sandpack:O}=lf(),{code:x,updateCode:b,readOnly:v}=cf(),{activeFile:y,status:w,editorState:S}=O,k=null!=t?t:O.visibleFiles.length>1,T=h(ju);return(0,r.createElement)(Qf,{className:T("editor"),style:e},k&&(0,r.createElement)(wf,{closableTabs:a}),(0,r.createElement)("div",{className:Pu(T("code-editor"),Xf)},(0,r.createElement)(Lf,{key:y,ref:g,additionalLanguages:m,code:x,editorState:S,extensions:c,extensionsKeymap:p,filePath:y,id:d,initMode:l||O.initMode,onCodeUpdate:e=>{b(e)},readOnly:u||v,showInlineErrors:i,showLineNumbers:n,showReadOnly:f,wrapContent:s}),o&&"idle"===w?(0,r.createElement)(kf,null):null))})),(0,r.forwardRef)((({showTabs:e,showLineNumbers:t,decorators:n,code:i,initMode:o,wrapContent:s,...a},l)=>{let{sandpack:c}=lf(),{code:p}=cf(),d=h(ju),u=null!=e?e:c.visibleFiles.length>1;return(0,r.createElement)(Qf,{...a},u?(0,r.createElement)(wf,null):null,(0,r.createElement)("div",{className:Pu(d("code-editor"),Xf)},(0,r.createElement)(Lf,{ref:l,code:null!=i?i:p,decorators:n,filePath:c.activeFile,initMode:o||c.initMode,showLineNumbers:t,showReadOnly:!1,wrapContent:s,readOnly:!0})),"idle"===c.status?(0,r.createElement)(kf,null):null)})),Xu({borderRadius:"0",width:"100%",padding:0,marginBottom:"$space$2",span:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},svg:{marginRight:"$space$1"}}),Xu({padding:"$space$3",overflow:"auto",height:"100%"}),Xu({display:"flex",alignItems:"center",height:"$layout$headerHeight",borderBottom:"1px solid $colors$surface2",padding:"$space$3 $space$2",background:"$colors$surface1"})),Bf=Xu({backgroundColor:"$colors$surface2",color:"$colors$clickable",padding:"$space$1 $space$3",borderRadius:"99999px",border:"1px solid $colors$surface2",height:"24px",lineHeight:"24px",fontSize:"inherit",outline:"none",flex:1,marginLeft:"$space$4",width:"0",transition:"background $transitions$default","&:hover":{backgroundColor:"$colors$surface3"},"&:focus":{backgroundColor:"$surface1",border:"1px solid $colors$accent",color:"$colors$base"}}),Uf=({clientId:e,onURLChange:t,className:n,...i})=>{var o;let[s,a]=(0,r.useState)(""),{sandpack:l,dispatch:c,listen:p}=lf(),[d,u]=(0,r.useState)(null!=(o=l.startRoute)?o:"/"),[f,m]=(0,r.useState)(!1),[g,O]=(0,r.useState)(!1),x=h(ju);(0,r.useEffect)((()=>{let t=p((e=>{if("urlchange"===e.type){let{url:t,back:n,forward:i}=e,[r,o]=(e=>{let t=e.match(/(https?:\/\/.*?)\//);return t&&t[1]?[t[1],e.replace(t[1],"")]:[e,"/"]})(t);a(r),u(o),m(n),O(i)}}),e);return()=>t()}),[]);let b=Pu(x("button","icon"),pf,uf,Xu({minWidth:"$space$6",justifyContent:"center"}));return(0,r.createElement)("div",{className:Pu(x("navigator"),Df,n),...i},(0,r.createElement)("button",{"aria-label":"Go back one page",className:b,disabled:!f,onClick:()=>{c({type:"urlback"})},type:"button"},(0,r.createElement)(bu,null)),(0,r.createElement)("button",{"aria-label":"Go forward one page",className:b,disabled:!g,onClick:()=>{c({type:"urlforward"})},type:"button"},(0,r.createElement)(vu,null)),(0,r.createElement)("button",{"aria-label":"Refresh page",className:b,onClick:()=>{c({type:"refresh"})},type:"button"},(0,r.createElement)(yu,null)),(0,r.createElement)("input",{"aria-label":"Current Sandpack URL",className:Pu(x("input"),Bf),name:"Current Sandpack URL",onChange:e=>{let t=e.target.value.startsWith("/")?e.target.value:`/${e.target.value}`;u(t)},onKeyDown:e=>{"Enter"===e.code&&(e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t(s+e.currentTarget.value))},type:"text",value:d}))};var Zf,Nf=()=>{let{sandpack:e,listen:t,dispatch:n}=lf(),i=(0,r.useRef)(null),o=(0,r.useRef)($u());return(0,r.useEffect)((()=>{let t=i.current,n=o.current;return null!==t&&e.registerBundler(t,n),()=>e.unregisterBundler(n)}),[]),{sandpack:e,getClient:()=>e.clients[o.current]||null,clientId:o.current,iframe:i,listen:e=>t(e,o.current),dispatch:e=>n(e,o.current)}},Ff=({children:e,className:t,...n})=>{let i=(()=>{var e;let{sandpack:t}=lf(),{error:n}=t;return(0,r.useEffect)((()=>{t.errorScreenRegisteredRef.current=!0}),[]),null!=(e=null==n?void 0:n.message)?e:null})(),o=h(ju);return i||e?(0,r.createElement)("div",{className:Pu(o("overlay","error"),mf,gf,t),translate:"no",...n},(0,r.createElement)("div",{className:Pu(o("error-message"),Of)},i||e)):null},Gf="https://codesandbox.io/api/v1/sandboxes/define",qf=(e,t)=>{let n=Object.keys(e).reduce(((t,n)=>({...t,[n.replace("/","")]:{content:e[n].code,isBinary:!1}})),{});return(e=>gu().compressToBase64(JSON.stringify(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""))({files:n,...t?{template:t}:null})},Vf=({children:e,...t})=>{var n,i,o;let{sandpack:s}=lf(),a=(0,r.useRef)(null),[l,c]=(0,r.useState)();return(0,r.useEffect)((function(){let e=setTimeout((()=>{let e=qf(s.files,s.environment),t=new URLSearchParams({parameters:e,query:new URLSearchParams({file:s.activeFile,utm_medium:"sandpack"}).toString()});c(t)}),600);return()=>{clearTimeout(e)}}),[s.activeFile,s.environment,s.files]),(0,r.useEffect)((function(){s.openInCSBRegisteredRef.current=!0}),[]),(null!=(o=null==(i=null==(n=null==l?void 0:l.get)?void 0:n.call(l,"parameters"))?void 0:i.length)?o:0)>1500?(0,r.createElement)("button",{onClick:()=>{var e;return null==(e=a.current)?void 0:e.submit()},title:"Open in CodeSandbox",...t},(0,r.createElement)("form",{ref:a,action:Gf,method:"POST",style:{visibility:"hidden"},target:"_blank"},Array.from(l,(([e,t])=>(0,r.createElement)("input",{key:e,name:e,type:"hidden",value:t})))),e):(0,r.createElement)("a",{href:`${Gf}?${null==l?void 0:l.toString()}`,rel:"noreferrer noopener",target:"_blank",title:"Open in CodeSandbox",...t},e)},Yf=()=>{let e=h(ju);return(0,r.createElement)(Vf,{className:Pu(e("button","icon-standalone"),pf,hf,df)},(0,r.createElement)(wu,null))},Hf=Xu({transform:"translate(-4px, 9px) scale(0.13, 0.13)","*":{position:"absolute",width:"96px",height:"96px"}}),Jf=Xu({position:"absolute",right:"$space$2",bottom:"$space$2",zIndex:"$top",width:"32px",height:"32px",borderRadius:"$border$radius",[`.${Hf}`]:{display:"flex"},[`.${pf}`]:{display:"none"},[`&:hover .${pf}`]:{display:"flex"},[`&:hover .${Hf}`]:{display:"none"}}),Kf=Wu({"0%":{transform:"rotateX(-25.5deg) rotateY(45deg)"},"100%":{transform:"rotateX(-25.5deg) rotateY(405deg)"}}),em=Xu({animation:`${Kf} 1s linear infinite`,animationFillMode:"forwards",transformStyle:"preserve-3d",transform:"rotateX(-25.5deg) rotateY(45deg)","*":{border:"10px solid $colors$clickable",borderRadius:"8px",background:"$colors$surface1"},".top":{transform:"rotateX(90deg) translateZ(44px)",transformOrigin:"50% 50%"},".bottom":{transform:"rotateX(-90deg) translateZ(44px)",transformOrigin:"50% 50%"},".front":{transform:"rotateY(0deg) translateZ(44px)",transformOrigin:"50% 50%"},".back":{transform:"rotateY(-180deg) translateZ(44px)",transformOrigin:"50% 50%"},".left":{transform:"rotateY(-90deg) translateZ(44px)",transformOrigin:"50% 50%"},".right":{transform:"rotateY(90deg) translateZ(44px)",transformOrigin:"50% 50%"}}),tm=({className:e,showOpenInCodeSandbox:t,...n})=>{let i=h(ju);return(0,r.createElement)("div",{className:Pu(i("cube-wrapper"),Jf,e),title:"Open in CodeSandbox",...n},t&&(0,r.createElement)(Yf,null),(0,r.createElement)("div",{className:Pu(i("cube"),Hf)},(0,r.createElement)("div",{className:Pu(i("sides"),em)},(0,r.createElement)("div",{className:"top"}),(0,r.createElement)("div",{className:"right"}),(0,r.createElement)("div",{className:"bottom"}),(0,r.createElement)("div",{className:"left"}),(0,r.createElement)("div",{className:"front"}),(0,r.createElement)("div",{className:"back"}))))},nm=Xu({backgroundColor:"$colors$surface1"}),im=({clientId:e,loading:t,className:n,style:i,showOpenInCodeSandbox:o,...s})=>{let a=((e,t)=>{let{sandpack:n,listen:i}=lf(),[o,s]=(0,r.useState)("LOADING");return(0,r.useEffect)((()=>{n.loadingScreenRegisteredRef.current=!0;let t=i((e=>{"start"===e.type&&!0===e.firstLoad&&s("LOADING"),"done"===e.type&&s((e=>"LOADING"===e?"PRE_FADING":"HIDDEN"))}),e);return()=>{t()}}),[e,"idle"===n.status]),(0,r.useEffect)((()=>{let e;return"PRE_FADING"!==o||t?"FADING"===o&&(e=setTimeout((()=>s("HIDDEN")),200)):s("FADING"),()=>{clearTimeout(e)}}),[o,t]),"timeout"===n.status?"TIMEOUT":"running"!==n.status?"HIDDEN":o})(e,t),l=h(ju);if("HIDDEN"===a)return null;if("TIMEOUT"===a)return(0,r.createElement)("div",{className:Pu(l("overlay","error"),mf,gf,n),...s},(0,r.createElement)("div",{className:Pu(l("error-message"),Of)},"Unable to establish connection with the sandpack bundler. Make sure you are online or try again later. If the problem persists, please report it via"," ",(0,r.createElement)("a",{className:Pu(l("error-message"),Of),href:"mailto:hello@codesandbox.io?subject=Sandpack Timeout Error"},"email")," ","or submit an issue on"," ",(0,r.createElement)("a",{className:Pu(l("error-message"),Of),href:"https://github.com/codesandbox/sandpack/issues",rel:"noreferrer noopener",target:"_blank"},"GitHub.")));let c="LOADING"===a||"PRE_FADING"===a;return(0,r.createElement)("div",{className:Pu(l("overlay","loading"),mf,nm,n),style:{...i,opacity:c?1:0,transition:"opacity 200ms ease-out"},...s},(0,r.createElement)(tm,{showOpenInCodeSandbox:o}))},rm=({clientId:e})=>{let{refresh:t}=(e=>{let{dispatch:t}=lf();return{refresh:()=>t({type:"refresh"},e),back:()=>t({type:"urlback"},e),forward:()=>t({type:"urlforward"},e)}})(e),n=h(ju);return(0,r.createElement)("button",{className:Pu(n("button","icon-standalone"),pf,hf,df),onClick:t,title:"Refresh Sandpack",type:"button"},(0,r.createElement)(yu,null))},om=Xu({flex:1,display:"flex",flexDirection:"column",background:"white",overflow:"auto",position:"relative"}),sm=Xu({border:"0",outline:"0",width:"100%",height:"100%",minHeight:"160px",maxHeight:"2000px",flex:1}),am=Xu({display:"flex",position:"absolute",bottom:"$space$2",right:"$space$2",zIndex:"$overlay","> *":{marginLeft:"$space$2"}}),lm=(0,r.forwardRef)((({showNavigator:e=!1,showRefreshButton:t=!0,showOpenInCodeSandbox:n=!0,showSandpackErrorOverlay:i=!0,actionsChildren:o=(0,r.createElement)(r.Fragment,null),children:s,className:a,...l},c)=>{let{sandpack:p,listen:d,iframe:u,getClient:f,clientId:m}=Nf(),[g,O]=(0,r.useState)(null),{status:x,errorScreenRegisteredRef:b,openInCSBRegisteredRef:v,loadingScreenRegisteredRef:y}=p,w=h(ju);v.current=!0,b.current=!0,y.current=!0,(0,r.useEffect)((()=>d((e=>{"resize"===e.type&&O(e.height)}))),[]),(0,r.useImperativeHandle)(c,(()=>({clientId:m,getClient:f})),[f,m]);return(0,r.createElement)(Qf,{className:Pu(`${ju}-preview`,a),...l},e&&(0,r.createElement)(Uf,{clientId:m,onURLChange:e=>{!u.current||(u.current.src=e)}}),(0,r.createElement)("div",{className:Pu(w("preview-container"),om)},(0,r.createElement)("iframe",{ref:u,className:Pu(w("preview-iframe"),sm),style:{height:g||void 0},title:"Sandpack Preview"}),i&&(0,r.createElement)(Ff,null),(0,r.createElement)("div",{className:Pu(w("preview-actions"),am)},o,!e&&t&&"running"===x&&(0,r.createElement)(rm,{clientId:m}),n&&(0,r.createElement)(Yf,null)),(0,r.createElement)(im,{clientId:m,showOpenInCodeSandbox:n}),s))})),cm=(Xu({display:"flex",flexDirection:"column",width:"100%",position:"relative",overflow:"auto",minHeight:"160px",flex:1}),Xu({height:"$layout$height",width:"100%"}),Xu({border:"1px solid $colors$surface2",display:"flex",flexWrap:"wrap",alignItems:"stretch",borderRadius:"$border$radius",overflow:"hidden",position:"relative",backgroundColor:"$colors$surface2",gap:1,[`> .${Tf}`]:{flexGrow:1,flexShrink:1,flexBasis:"0",minWidth:"350px",height:"$layout$height","@media print":{height:"auto",display:"block"},"@media screen and (max-width: 768px)":{height:"auto",minWidth:"100% !important;"}},[`> .${ju}-file-explorer`]:{flex:.2,minWidth:200}})),hm=(0,r.forwardRef)((({children:e,className:t,...n},i)=>{let{sandpack:o}=lf(),s=h(ju),a=Rf(o.lazyAnchorRef,i);return(0,r.createElement)("div",{ref:a,className:Pu(s("layout"),cm,t),...n},e)})),pm=(Xu({justifyContent:"space-between",borderBottom:"1px solid $colors$surface2",padding:"$space$3 $space$2",fontFamily:"$font$mono",maxHeight:"$layout$headerHeight",overflowX:"auto",whiteSpace:"nowrap"}),Xu({display:"flex",flexDirection:"row",alignItems:"center",gap:"$space$2"}),Xu({variants:{status:{pass:{color:"var(--test-pass)"},fail:{color:"var(--test-fail)"},skip:{color:"var(--test-skip)"},title:{color:"var(--test-title)"}}}})),dm=(pm({status:"pass"}),pm({status:"fail"}),pm({status:"skip"}),pm({status:"title"}),Xu({variants:{status:{pass:{background:"var(--test-pass)",color:"$colors$surface1"},fail:{background:"var(--test-fail)",color:"$colors$surface1"},run:{background:"var(--test-run)",color:"$colors$surface1"}}}}));dm({status:"run"}),dm({status:"pass"}),dm({status:"fail"}),Xu({marginLeft:"$space$4"}),Xu({marginBottom:"$space$2",color:"$colors$clickable"}),Xu({marginBottom:"$space$2",color:"$colors$hover"}),Xu({marginLeft:"$space$2"}),Xu({marginRight:"$space$2"}),Xu({color:"$colors$hover",marginBottom:"$space$2"}),Xu({marginLeft:"$space$4"}),Xu({color:"$colors$hover",fontSize:"$font$size",padding:"$space$2",whiteSpace:"pre-wrap"}),Xu({display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"$space$2"}),Xu({marginBottom:"$space$2"}),Xu({fontWeight:"bold"}),Xu({borderRadius:"calc($border$radius / 2)"}),Xu({padding:"$space$1 $space$2",fontFamily:"$font$mono",textTransform:"uppercase",marginRight:"$space$2"}),Xu({fontFamily:"$font$mono",cursor:"pointer",display:"inline-block"}),Xu({color:"$colors$clickable",textDecorationStyle:"dotted",textDecorationLine:"underline"}),Xu({color:"$colors$hover",fontWeight:"bold",textDecorationStyle:"dotted",textDecorationLine:"underline"}),Xu({marginBottom:"$space$2"}),Xu({fontWeight:"bold",color:"$colors$hover",whiteSpace:"pre-wrap"}),Xu({fontWeight:"bold",color:"$colors$clickable"}),Xu({display:"flex",position:"absolute",bottom:"$space$2",right:"$space$2",zIndex:"$overlay","> *":{marginLeft:"$space$2"}}),Xu({padding:"$space$4",height:"100%",overflow:"auto",display:"flex",flexDirection:"column",position:"relative",fontFamily:"$font$mono"}),Xu({fontWeight:"bold",color:"$colors$base"}),(0,eval)("this");!function(e){e[e.infinity=0]="infinity",e[e.minusInfinity=1]="minusInfinity",e[e.minusZero=2]="minusZero"}(Zf||(Zf={}));Xu({width:"100%",padding:"$space$3 $space$2",fontSize:".85em",position:"relative","&:not(:first-child):after":{content:"",position:"absolute",top:0,left:0,right:0,height:1,background:"$colors$surface3"},".sp-cm":{padding:0},".cm-editor":{background:"none"},".cm-content":{padding:0},[`.${ju}-pre-placeholder`]:{margin:"0 !important",fontSize:"1em"},variants:{variant:{error:{color:"$colors$error",background:"$colors$errorSurface","&:not(:first-child):after":{background:"$colors$error",opacity:.07}},warning:{color:"$colors$warning",background:"$colors$warningSurface","&:not(:first-child):after":{background:"$colors$warning",opacity:.07}},clear:{fontStyle:"italic"},info:{}}}}),Xu({position:"relative",span:{background:"$colors$clickable",color:"$colors$surface1",minWidth:12,height:12,padding:"0 2px",borderRadius:12,fontSize:8,lineHeight:"12px",position:"absolute",top:0,right:0}}),Xu({transition:"flex $transitions$default",width:"100%",overflow:"hidden"});const um=function(e,t){void 0===t&&(t=!0),(0,r.useEffect)((()=>{const n=document.querySelector("main > .container");if(null!==n&&t)return n.classList.add(e),()=>{n.classList.remove(e)}}),[e,t])};var fm=n(11825),mm=n(81249);const gm=fm.reduce(((e,t)=>(0,mm.gt)(t.version,e.version)?t:e),fm[0]).version;function Om(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xm(Object(n),!0).forEach((function(t){Om(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vm(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ym(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function km(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sm(Object(n),!0).forEach((function(t){wm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function Qm(e){return function t(){for(var n=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return r.length>=e.length?e.apply(this,r):function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return t.apply(n,[].concat(r,i))}}}function Pm(e){return{}.toString.call(e).includes("Object")}function Cm(e){return"function"==typeof e}var $m=Qm((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),Im={changes:function(e,t){return Pm(t)||$m("changeType"),Object.keys(t).some((function(t){return n=e,i=t,!Object.prototype.hasOwnProperty.call(n,i);var n,i}))&&$m("changeField"),t},selector:function(e){Cm(e)||$m("selectorType")},handler:function(e){Cm(e)||Pm(e)||$m("handlerType"),Pm(e)&&Object.values(e).some((function(e){return!Cm(e)}))&&$m("handlersType")},initial:function(e){var t;e||$m("initialIsRequired"),Pm(e)||$m("initialType"),t=e,Object.keys(t).length||$m("initialContent")}};function Rm(e,t){return Cm(t)?t(e.current):t}function Am(e,t){return e.current=km(km({},e.current),t),t}function Mm(e,t,n){return Cm(t)?t(e.current):Object.keys(n).forEach((function(n){var i;return null===(i=t[n])||void 0===i?void 0:i.call(t,e.current[n])})),n}var jm={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Im.initial(e),Im.handler(t);var n={current:e},i=Qm(Mm)(n,t),r=Qm(Am)(n),o=Qm(Im.changes)(e),s=Qm(Rm)(n);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return Im.selector(e),e(n.current)}function l(e){Tm(i,r,o,s)(e)}return[a,l]}};const Em=jm;const Xm={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs"}};const zm=function(e){return{}.toString.call(e).includes("Object")};var Wm={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},_m=function(e){return function t(){for(var n=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return r.length>=e.length?e.apply(this,r):function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return t.apply(n,[].concat(r,i))}}}((function(e,t){throw new Error(e[t]||e.default)}))(Wm),Lm={config:function(e){return e||_m("configIsRequired"),zm(e)||_m("configType"),e.urls?(console.warn(Wm.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};const Dm=Lm;const Bm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};const Um=function e(t,n){return Object.keys(n).forEach((function(i){n[i]instanceof Object&&t[i]&&Object.assign(n[i],e(t[i],n[i]))})),bm(bm({},t),n)};var Zm={type:"cancelation",msg:"operation is manually canceled"};const Nm=function(e){var t=!1,n=new Promise((function(n,i){e.then((function(e){return t?i(Zm):n(e)})),e.catch(i)}));return n.cancel=function(){return t=!0},n};var Fm=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ym(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ym(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Em.create({config:Xm,isInitialized:!1,resolve:null,reject:null,monaco:null}),2),Gm=Fm[0],qm=Fm[1];function Vm(e){return document.body.appendChild(e)}function Ym(e){var t,n,i=Gm((function(e){return{config:e.config,reject:e.reject}})),r=(t="".concat(i.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return r.onload=function(){return e()},r.onerror=i.reject,r}function Hm(){var e=Gm((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){Jm(t),e.resolve(t)}),(function(t){e.reject(t)}))}function Jm(e){Gm().monaco||qm({monaco:e})}var Km=new Promise((function(e,t){return qm({resolve:e,reject:t})})),eg={config:function(e){var t=Dm.config(e),n=t.monaco,i=vm(t,["monaco"]);qm((function(e){return{config:Um(e.config,i),monaco:n}}))},init:function(){var e=Gm((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(qm({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Nm(Km);if(window.monaco&&window.monaco.editor)return Jm(window.monaco),e.resolve(window.monaco),Nm(Km);Bm(Vm,Ym)(Hm)}return Nm(Km)},__getMonacoInstance:function(){return Gm((function(e){return e.monaco}))}};const tg=eg;var ng=n(45697),ig=n.n(ng);function rg(){return rg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rg.apply(this,arguments)}const og={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};const sg=function({content:e}){return r.createElement("div",{style:og},e)},ag={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function lg({width:e,height:t,isEditorReady:n,loading:i,_ref:o,className:s,wrapperProps:a}){return r.createElement("section",rg({style:{...ag.wrapper,width:e,height:t}},a),!n&&r.createElement(sg,{content:i}),r.createElement("div",{ref:o,style:{...ag.fullWidth,...!n&&ag.hide},className:s}))}lg.propTypes={width:ig().oneOfType([ig().number,ig().string]).isRequired,height:ig().oneOfType([ig().number,ig().string]).isRequired,loading:ig().oneOfType([ig().element,ig().string]).isRequired,isEditorReady:ig().bool.isRequired,className:ig().string,wrapperProps:ig().object};const cg=lg;const hg=(0,r.memo)(cg);const pg=function(e){(0,r.useEffect)(e,[])};const dg=function(e,t,n=!0){const i=(0,r.useRef)(!0);(0,r.useEffect)(i.current||!n?()=>{i.current=!1}:e,t)};function ug(){}function fg(e,t,n,i){return function(e,t){return e.editor.getModel(mg(e,t))}(e,i)||function(e,t,n,i){return e.editor.createModel(t,n,i&&mg(e,i))}(e,t,n,i)}function mg(e,t){return e.Uri.parse(t)}function gg({original:e,modified:t,language:n,originalLanguage:i,modifiedLanguage:o,originalModelPath:s,modifiedModelPath:a,keepCurrentOriginalModel:l,keepCurrentModifiedModel:c,theme:h,loading:p,options:d,height:u,width:f,className:m,wrapperProps:g,beforeMount:O,onMount:x}){const[b,v]=(0,r.useState)(!1),[y,w]=(0,r.useState)(!0),S=(0,r.useRef)(null),k=(0,r.useRef)(null),T=(0,r.useRef)(null),Q=(0,r.useRef)(x),P=(0,r.useRef)(O);pg((()=>{const e=tg.init();return e.then((e=>(k.current=e)&&w(!1))).catch((e=>"cancelation"!==(null==e?void 0:e.type)&&console.error("Monaco initialization: error:",e))),()=>S.current?function(){const e=S.current.getModel();var t,n;l||null===(t=e.original)||void 0===t||t.dispose();c||null===(n=e.modified)||void 0===n||n.dispose();S.current.dispose()}():e.cancel()})),dg((()=>{const e=S.current.getModifiedEditor();e.getOption(k.current.editor.EditorOption.readOnly)?e.setValue(t):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),e.pushUndoStop())}),[t],b),dg((()=>{S.current.getModel().original.setValue(e)}),[e],b),dg((()=>{const{original:e,modified:t}=S.current.getModel();k.current.editor.setModelLanguage(e,i||n),k.current.editor.setModelLanguage(t,o||n)}),[n,i,o],b),dg((()=>{k.current.editor.setTheme(h)}),[h],b),dg((()=>{S.current.updateOptions(d)}),[d],b);const C=(0,r.useCallback)((()=>{P.current(k.current);const r=fg(k.current,e,i||n,s),l=fg(k.current,t,o||n,a);S.current.setModel({original:r,modified:l})}),[n,t,o,e,i,s,a]),$=(0,r.useCallback)((()=>{S.current=k.current.editor.createDiffEditor(T.current,{automaticLayout:!0,...d}),C(),k.current.editor.setTheme(h),v(!0)}),[d,h,C]);return(0,r.useEffect)((()=>{b&&Q.current(S.current,k.current)}),[b]),(0,r.useEffect)((()=>{!y&&!b&&$()}),[y,b,$]),r.createElement(hg,{width:f,height:u,isEditorReady:b,loading:p,_ref:T,className:m,wrapperProps:g})}gg.propTypes={original:ig().string,modified:ig().string,language:ig().string,originalLanguage:ig().string,modifiedLanguage:ig().string,originalModelPath:ig().string,modifiedModelPath:ig().string,keepCurrentOriginalModel:ig().bool,keepCurrentModifiedModel:ig().bool,theme:ig().string,loading:ig().oneOfType([ig().element,ig().string]),options:ig().object,width:ig().oneOfType([ig().number,ig().string]),height:ig().oneOfType([ig().number,ig().string]),className:ig().string,wrapperProps:ig().object,beforeMount:ig().func,onMount:ig().func},gg.defaultProps={theme:"light",loading:"Loading...",options:{},keepCurrentOriginalModel:!1,keepCurrentModifiedModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:ug,onMount:ug};const Og=function(e){const t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e}),[e]),t.current},xg=new Map;function bg({defaultValue:e,defaultLanguage:t,defaultPath:n,value:i,language:o,path:s,theme:a,line:l,loading:c,options:h,overrideServices:p,saveViewState:d,keepCurrentModel:u,width:f,height:m,className:g,wrapperProps:O,beforeMount:x,onMount:b,onChange:v,onValidate:y}){const[w,S]=(0,r.useState)(!1),[k,T]=(0,r.useState)(!0),Q=(0,r.useRef)(null),P=(0,r.useRef)(null),C=(0,r.useRef)(null),$=(0,r.useRef)(b),I=(0,r.useRef)(x),R=(0,r.useRef)(null),A=(0,r.useRef)(i),M=Og(s),j=(0,r.useRef)(!1);pg((()=>{const e=tg.init();return e.then((e=>(Q.current=e)&&T(!1))).catch((e=>"cancelation"!==(null==e?void 0:e.type)&&console.error("Monaco initialization: error:",e))),()=>P.current?function(){var e,t;null===(e=R.current)||void 0===e||e.dispose(),u?d&&xg.set(s,P.current.saveViewState()):null===(t=P.current.getModel())||void 0===t||t.dispose();P.current.dispose()}():e.cancel()})),dg((()=>{const n=fg(Q.current,e||i,t||o,s);n!==P.current.getModel()&&(d&&xg.set(M,P.current.saveViewState()),P.current.setModel(n),d&&P.current.restoreViewState(xg.get(s)))}),[s],w),dg((()=>{P.current.updateOptions(h)}),[h],w),dg((()=>{P.current.getOption(Q.current.editor.EditorOption.readOnly)?P.current.setValue(i):i!==P.current.getValue()&&(P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),P.current.pushUndoStop())}),[i],w),dg((()=>{Q.current.editor.setModelLanguage(P.current.getModel(),o)}),[o],w),dg((()=>{void 0!==l&&P.current.revealLine(l)}),[l],w),dg((()=>{Q.current.editor.setTheme(a)}),[a],w);const E=(0,r.useCallback)((()=>{if(!j.current){I.current(Q.current);const r=s||n,l=fg(Q.current,i||e,t||o,r);P.current=Q.current.editor.create(C.current,{model:l,automaticLayout:!0,...h},p),d&&P.current.restoreViewState(xg.get(r)),Q.current.editor.setTheme(a),S(!0),j.current=!0}}),[e,t,n,i,o,s,h,p,d,a]);return(0,r.useEffect)((()=>{w&&$.current(P.current,Q.current)}),[w]),(0,r.useEffect)((()=>{!k&&!w&&E()}),[k,w,E]),A.current=i,(0,r.useEffect)((()=>{var e,t;w&&v&&(null===(e=R.current)||void 0===e||e.dispose(),R.current=null===(t=P.current)||void 0===t?void 0:t.onDidChangeModelContent((e=>{v(P.current.getValue(),e)})))}),[w,v]),(0,r.useEffect)((()=>{if(w){const e=Q.current.editor.onDidChangeMarkers((e=>{var t;const n=null===(t=P.current.getModel())||void 0===t?void 0:t.uri;if(n){if(e.find((e=>e.path===n.path))){const e=Q.current.editor.getModelMarkers({resource:n});null==y||y(e)}}}));return()=>{null==e||e.dispose()}}}),[w,y]),r.createElement(hg,{width:f,height:m,isEditorReady:w,loading:c,_ref:C,className:g,wrapperProps:O})}bg.propTypes={defaultValue:ig().string,defaultPath:ig().string,defaultLanguage:ig().string,value:ig().string,language:ig().string,path:ig().string,theme:ig().string,line:ig().number,loading:ig().oneOfType([ig().element,ig().string]),options:ig().object,overrideServices:ig().object,saveViewState:ig().bool,keepCurrentModel:ig().bool,width:ig().oneOfType([ig().number,ig().string]),height:ig().oneOfType([ig().number,ig().string]),className:ig().string,wrapperProps:ig().object,beforeMount:ig().func,onMount:ig().func,onChange:ig().func,onValidate:ig().func},bg.defaultProps={theme:"light",loading:"Loading...",options:{},overrideServices:{},saveViewState:!0,keepCurrentModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:ug,onMount:ug,onValidate:ug};const vg=bg;const yg=(0,r.memo)(vg);var wg=n(85893);function Sg(e){let{useTabs:t,onChange:n}=e;const o=(0,r.useRef)(null),s=(0,r.useCallback)((e=>{o.current=e}),[]);(0,r.useEffect)((()=>{const e=()=>{null!==o.current&&o.current.layout({})};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const{colorMode:a}=(0,i.I)(),{code:l,updateCode:c}=cf(),{sandpack:h}=lf();(0,r.useEffect)((()=>{const e=document.querySelector(".sp-tab-button[data-active=true]");null==e||e.scrollIntoView(!1)}),[h.activeFile]);const p=(e=>{const t=(e=>{const t=e.split(".");return t[t.length-1]})(e);switch(t){case"js":return"javascript";case"ts":return"typescript";case"html":return"html";case"css":return"css";case"wgsl":return"wgsl";default:return"plaintext"}})(h.activeFile);return(0,wg.jsxs)(Qf,{style:{height:"100%",margin:0},children:[t&&(0,wg.jsx)(wf,{}),(0,wg.jsx)(yg,{defaultLanguage:p,defaultValue:l,options:{lineNumbers:"off",padding:{top:24},minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,scrollbar:{alwaysConsumeMouseWheel:!1}},onMount:s,onChange:e=>{c(e||""),null==n||n(e,h)},theme:"dark"===a?"vs-dark":"light"},h.activeFile)]})}const kg=e=>{let{isPixiWebWorkerVersion:t,isPixiDevVersion:n,pixiVersion:i,extraPackages:o}=e;return(0,r.useMemo)((()=>{const e=t?"@pixi/webworker":"pixi.js",r=e=>n?`${i}/${e}`:i,s=[e];(e=>Number(e.split(".")[0])<8)(i)&&s.push("@pixi/graphics-extras","@pixi/math-extras");const a={...s.reduce(((e,t)=>({...e,[t]:r(t)})),{}),...o};return{dependenciesKey:`${e}-${i}`,dependencies:a}}),[n,t,i,o])},Tg=e=>{let{code:t,extraFiles:n,extraPackages:i,isPixiWebWorkerVersion:o,isPixiDevVersion:s,pixiVersion:a}=e;const l=Object.fromEntries(Object.entries(n??{}).map((e=>{let[t,n]=e;return[t.replace(/[!*]/g,""),n]}))),c=((e,t)=>(0,r.useMemo)((()=>({".babelrc":{code:JSON.stringify({presets:[["@babel/preset-env",{useBuiltIns:"entry",corejs:"3.29",targets:"last 2 chrome versions"}]],plugins:["@babel/plugin-proposal-class-properties"]},null,2)},"src/styles.css":"body { margin: 0; overflow: hidden; }","src/index.js":e,"index.html":'\n<!DOCTYPE html>\n  <html>\n  <head>\n  <title>PixiJS Playground</title>\n  <meta charset="UTF-8" />\n  <link rel="stylesheet" href="src/styles.css">\n</head>\n<body>\n  <script src="src/index.js"><\/script>\n</body>\n</html>',"sandbox.config.json":'{\n                "infiniteLoopProtection": false\n            }',"package.json":{code:JSON.stringify({scripts:{start:"parcel index.html --open",build:"parcel build index.html"}},null,2)},...t})),[e,t]))(t,l),{dependenciesKey:h,dependencies:p}=kg({isPixiWebWorkerVersion:o,isPixiDevVersion:s,pixiVersion:a,extraPackages:i});return{files:c,key:`${h}-${t}-${Object.values(n??{}).join("-")}`,customSetup:{entry:"index.html",dependencies:p,devDependencies:{"parcel-bundler":"^1.6.1","@babel/core":"^7.21.3","@babel/plugin-proposal-class-properties":"^7.10.1"}}}},Qg={spWrapper:"spWrapper_VRoR",tpWrapper:"tpWrapper_QQr8",spLayout:"spLayout_pbAr",tutorial:"tutorial_N6cT",editorWrapper:"editorWrapper_CMEp",previewWrapper:"previewWrapper_iBBb",showOutput:"showOutput_ihKj",fullscreen:"fullscreen__S0z",example:"example_L5se",spTabs:"spTabs_tWI2",spTabButton:"spTabButton_zX0t",sandpackLoadingOverlay:"sandpackLoadingOverlay_ZcGX",loadingPulse:"loadingPulse_FaXb"};function Pg(e){let{useTabs:t,mode:n,onCodeChanged:i}=e;const{sandpack:o}=lf(),[a,l]=(0,r.useState)(!1),{activeFile:c,bundlerState:h}=o,p=(0,r.useCallback)((()=>{l((e=>!e))}),[]);return(0,wg.jsxs)(hm,{className:s()(Qg[n],a&&Qg.showOutput),children:["embedded"!==n&&(0,wg.jsx)("div",{className:Qg.editorWrapper,children:(0,wg.jsx)(Sg,{useTabs:t,onChange:i},c)}),(0,wg.jsxs)("div",{className:Qg.previewWrapper,children:[(0,wg.jsx)(lm,{showOpenInCodeSandbox:!0}),!h&&(0,wg.jsx)("div",{className:Qg.sandpackLoadingOverlay})]}),(0,wg.jsx)("button",{onClick:p,children:a?"Show Code":"Show Output"})]})}function Cg(e){var t;let{code:n,extraFiles:r,extraPackages:o,activeFile:s,isPixiWebWorkerVersion:a=!1,isPixiDevVersion:l=!1,pixiVersion:c=gm,mode:h="example",onCodeChanged:p}=e;const{colorMode:d}=(0,i.I)(),{key:u,files:f,customSetup:m}=Tg({code:n,extraFiles:r,extraPackages:o,isPixiDevVersion:l,isPixiWebWorkerVersion:a,pixiVersion:c}),g=Object.keys(r??{}).filter((e=>!e.endsWith("!"))).map((e=>e.replace("*",""))),O=s??(null==(t=Object.keys(r??{}).find((e=>e.endsWith("*"))))?void 0:t.replace("*",""))??"src/index.js";return um("example","example"===h),um("coding","example"!==h),(0,wg.jsx)(af,{template:"vanilla",theme:d,files:f,customSetup:m,options:{classes:{"sp-wrapper":"tutorial"===h?Qg.tpWrapper:Qg.spWrapper,"sp-layout":Qg.spLayout,"sp-tabs-scrollable-container":Qg.spTabs,"sp-tab-button":Qg.spTabButton},visibleFiles:["src/index.js",...g],activeFile:O},children:(0,wg.jsx)(Pg,{useTabs:!!r,mode:h,onCodeChanged:p})},u)}},53874:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>s,K7:()=>a,L8:()=>o});var i=n(67294),r=n(93039);const o="sprite.basic",s=e=>{let{urlState:t,selectedOptionId:n,setURLState:o,pixiVersion:s}=e;const l=s.version,c=(0,r.B)(l),h=Boolean(t),p=(0,i.useMemo)((()=>(0,r.Y)(l,n)),[l,n]),{indexCode:d,extraFiles:u,activeFile:f,usesWebWorkerLibrary:m}=(0,i.useMemo)((()=>{if(!t){const{indexCode:e,extraFiles:t}=a((null==p?void 0:p.source)??"");return{indexCode:e,extraFiles:t,usesWebWorkerLibrary:!(null==p||!p.usesWebWorkerLibrary)}}const{files:e,visibleFiles:n,activeFile:i}=t;if(!n.length)return{indexCode:e["/src/index.js"].code,activeFile:i,usesWebWorkerLibrary:!1};const r=Object.entries(e).filter((e=>{let[t]=e;return/^\/src\/(?!index\.js$|styles\.css$)/.test(t)})).reduce(((e,t)=>{let[r,o]=t,s="";return i===r&&(s="*"),n.includes(r)||(s="!"),e[r.substring(1)+s]=o.code,e}),{});return{indexCode:e["/src/index.js"].code,extraFiles:r,usesWebWorkerLibrary:!1}}),[t,p]),g=(0,i.useMemo)((()=>h?c.concat({label:"Custom Code",options:[{label:"User Edited Code",value:"custom"}]}):c),[c,h]),O=(0,i.useCallback)((e=>{e!==n&&o({state:void 0,exampleId:e},!0,!0)}),[n,o]),x=(0,i.useCallback)(((e,t)=>{if(!e)return;const{files:n,visibleFiles:i,activeFile:r}=t;n[r].code=e,o({state:{files:n,visibleFiles:i,activeFile:r},exampleId:"custom"},!h)}),[h,o]);return{indexCode:d,extraFiles:u,activeFile:f,usesWebWorkerLibrary:m,exampleOptions:g,handleOptionSelected:O,handleEditorCodeChanged:x}};function a(e){const t="string"!=typeof e;return{indexCode:t?e.index:e,extraFiles:t?Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return"index"!==t}))):void 0}}},93039:(e,t,n)=>{"use strict";n.d(t,{Y:()=>g,B:()=>O});var i=n(81249);const r=JSON.parse('{"basic":["container","transparentBackground","tinting","cacheAsBitmap","particleContainer","blendModes","simplePlane"],"advanced":["slots","scratchCard","starWarp","mouseTrail","screenShot","collisionDetection","spinners"],"sprite":["basic","textureSwap","animatedSpriteExplosion","animatedSpriteJet","animatedSpriteAnimationSpeed","tilingSprite","video"],"text":["pixiText","bitmapText","fromFont","webFont"],"graphics":["simple","advanced","dynamic"],"events":["click","interactivity","dragging","customMouseIcon","customHitarea",{"name":"hitTestingWithSpatialHash","hide":true},"logger","nestedBoundaryWithProjection","pointerTracker","slider"],"masks":["graphics","sprite","filter"],"filtersBasic":["blur","colorMatrix","displacementMapCrawlies","displacementMapFlag"],"filtersAdvanced":["mouseBlending","custom","shaderToyFilterRenderTexture"],"meshAndShaders":["texturedMeshBasic","texturedMeshAdvanced","triangle","triangleColor","triangleTextured","uniforms","sharingGeometry","sharedShader","mergingGeometry","interleavingGeometry","instancedGeometry","shaderToyMesh","multiPassShaderGeneratedMesh"],"textures":["textureRotate","renderTextureBasic","renderTextureAdvanced","gradientBasic","gradientResource"],"assets":["promise","async","multiple","background","bundle"],"offscreenCanvas":["basic",{"name":"webWorker","hide":true,"usesWebWorkerLibrary":true}]}');function o(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}const s={basic:{blendModes:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// create a new background sprite\nconst background = PIXI.Sprite.from('https://pixijs.com/assets/bg_rotate.jpg');\n\nbackground.width = app.screen.width;\nbackground.height = app.screen.height;\napp.stage.addChild(background);\n\n// create an array to store a reference to the dudes\nconst dudeArray = [];\n\nconst totaldudes = 20;\n\nfor (let i = 0; i < totaldudes; i++)\n{\n    // create a new Sprite that uses the image name that we just generated as its source\n    const dude = PIXI.Sprite.from('https://pixijs.com/assets/flowerTop.png');\n\n    dude.anchor.set(0.5);\n\n    // set a random scale for the dude\n    dude.scale.set(0.8 + Math.random() * 0.3);\n\n    // finally let's set the dude to be at a random position...\n    dude.x = Math.floor(Math.random() * app.screen.width);\n    dude.y = Math.floor(Math.random() * app.screen.height);\n\n    // The important bit of this example, this is how you change the default blend mode of the sprite\n    dude.blendMode = PIXI.BLEND_MODES.ADD;\n\n    // create some extra properties that will control movement\n    dude.direction = Math.random() * Math.PI * 2;\n\n    // this number will be used to modify the direction of the dude over time\n    dude.turningSpeed = Math.random() - 0.8;\n\n    // create a random speed for the dude between 0 - 2\n    dude.speed = 2 + Math.random() * 2;\n\n    // finally we push the dude into the dudeArray so it it can be easily accessed later\n    dudeArray.push(dude);\n\n    app.stage.addChild(dude);\n}\n\n// create a bounding box for the little dudes\nconst dudeBoundsPadding = 100;\n\nconst dudeBounds = new PIXI.Rectangle(\n    -dudeBoundsPadding,\n    -dudeBoundsPadding,\n    app.screen.width + dudeBoundsPadding * 2,\n    app.screen.height + dudeBoundsPadding * 2,\n);\n\napp.ticker.add(() =>\n{\n    // iterate through the dudes and update the positions\n    for (let i = 0; i < dudeArray.length; i++)\n    {\n        const dude = dudeArray[i];\n\n        dude.direction += dude.turningSpeed * 0.01;\n        dude.x += Math.sin(dude.direction) * dude.speed;\n        dude.y += Math.cos(dude.direction) * dude.speed;\n        dude.rotation = -dude.direction - Math.PI / 2;\n\n        // wrap the dudes by testing their bounds...\n        if (dude.x < dudeBounds.x)\n        {\n            dude.x += dudeBounds.width;\n        }\n        else if (dude.x > dudeBounds.x + dudeBounds.width)\n        {\n            dude.x -= dudeBounds.width;\n        }\n\n        if (dude.y < dudeBounds.y)\n        {\n            dude.y += dudeBounds.height;\n        }\n        else if (dude.y > dudeBounds.y + dudeBounds.height)\n        {\n            dude.y -= dudeBounds.height;\n        }\n    }\n});\n",cacheAsBitmap:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\napp.stop();\n\n// load resources\nPIXI.Assets.load('https://pixijs.com/assets/spritesheet/monsters.json').then(onAssetsLoaded);\n\n// holder to store aliens\nconst aliens = [];\nconst alienFrames = ['eggHead.png', 'flowerTop.png', 'helmlok.png', 'skully.png'];\n\nlet count = 0;\n\n// create an empty container\nconst alienContainer = new PIXI.Container();\n\nalienContainer.x = 400;\nalienContainer.y = 300;\n\n// make the stage interactive\napp.stage.eventMode = 'static';\napp.stage.addChild(alienContainer);\n\nfunction onAssetsLoaded()\n{\n    // add a bunch of aliens with textures from image paths\n    for (let i = 0; i < 100; i++)\n    {\n        const frameName = alienFrames[i % 4];\n\n        // create an alien using the frame name..\n        const alien = PIXI.Sprite.from(frameName);\n\n        alien.tint = Math.random() * 0xffffff;\n\n        alien.x = Math.random() * 800 - 400;\n        alien.y = Math.random() * 600 - 300;\n        alien.anchor.x = 0.5;\n        alien.anchor.y = 0.5;\n        aliens.push(alien);\n        alienContainer.addChild(alien);\n    }\n    app.start();\n}\n\n// Combines both mouse click + touch tap\napp.stage.on('pointertap', onClick);\n\nfunction onClick()\n{\n    alienContainer.cacheAsBitmap = !alienContainer.cacheAsBitmap;\n}\n\napp.ticker.add(() =>\n{\n    // let's rotate the aliens a little bit\n    for (let i = 0; i < 100; i++)\n    {\n        const alien = aliens[i];\n\n        alien.rotation += 0.1;\n    }\n\n    count += 0.01;\n\n    alienContainer.scale.x = Math.sin(count);\n    alienContainer.scale.y = Math.sin(count);\n    alienContainer.rotation += 0.01;\n});\n",container:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst container = new PIXI.Container();\n\napp.stage.addChild(container);\n\n// Create a new texture\nconst texture = PIXI.Texture.from('https://pixijs.com/assets/bunny.png');\n\n// Create a 5x5 grid of bunnies\nfor (let i = 0; i < 25; i++)\n{\n    const bunny = new PIXI.Sprite(texture);\n\n    bunny.anchor.set(0.5);\n    bunny.x = (i % 5) * 40;\n    bunny.y = Math.floor(i / 5) * 40;\n    container.addChild(bunny);\n}\n\n// Move container to the center\ncontainer.x = app.screen.width / 2;\ncontainer.y = app.screen.height / 2;\n\n// Center bunny sprite in local container coordinates\ncontainer.pivot.x = container.width / 2;\ncontainer.pivot.y = container.height / 2;\n\n// Listen for animate update\napp.ticker.add((delta) =>\n{\n    // rotate the container!\n    // use delta to create frame-independent transform\n    container.rotation -= 0.01 * delta;\n});\n",particleContainer:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst sprites = new PIXI.ParticleContainer(10000, {\n    scale: true,\n    position: true,\n    rotation: true,\n    uvs: true,\n    alpha: true,\n});\n\napp.stage.addChild(sprites);\n\n// create an array to store all the sprites\nconst maggots = [];\n\nconst totalSprites = app.renderer instanceof PIXI.Renderer ? 10000 : 100;\n\nfor (let i = 0; i < totalSprites; i++)\n{\n    // create a new Sprite\n    const dude = PIXI.Sprite.from('https://pixijs.com/assets/maggot_tiny.png');\n\n    // set the anchor point so the texture is centerd on the sprite\n    dude.anchor.set(0.5);\n\n    // different maggots, different sizes\n    dude.scale.set(0.8 + Math.random() * 0.3);\n\n    // scatter them all\n    dude.x = Math.random() * app.screen.width;\n    dude.y = Math.random() * app.screen.height;\n\n    dude.tint = Math.random() * 0x808080;\n\n    // create a random direction in radians\n    dude.direction = Math.random() * Math.PI * 2;\n\n    // this number will be used to modify the direction of the sprite over time\n    dude.turningSpeed = Math.random() - 0.8;\n\n    // create a random speed between 0 - 2, and these maggots are slooww\n    dude.speed = (2 + Math.random() * 2) * 0.2;\n\n    dude.offset = Math.random() * 100;\n\n    // finally we push the dude into the maggots array so it it can be easily accessed later\n    maggots.push(dude);\n\n    sprites.addChild(dude);\n}\n\n// create a bounding box box for the little maggots\nconst dudeBoundsPadding = 100;\nconst dudeBounds = new PIXI.Rectangle(\n    -dudeBoundsPadding,\n    -dudeBoundsPadding,\n    app.screen.width + dudeBoundsPadding * 2,\n    app.screen.height + dudeBoundsPadding * 2,\n);\n\nlet tick = 0;\n\napp.ticker.add(() =>\n{\n    // iterate through the sprites and update their position\n    for (let i = 0; i < maggots.length; i++)\n    {\n        const dude = maggots[i];\n\n        dude.scale.y = 0.95 + Math.sin(tick + dude.offset) * 0.05;\n        dude.direction += dude.turningSpeed * 0.01;\n        dude.x += Math.sin(dude.direction) * (dude.speed * dude.scale.y);\n        dude.y += Math.cos(dude.direction) * (dude.speed * dude.scale.y);\n        dude.rotation = -dude.direction + Math.PI;\n\n        // wrap the maggots\n        if (dude.x < dudeBounds.x)\n        {\n            dude.x += dudeBounds.width;\n        }\n        else if (dude.x > dudeBounds.x + dudeBounds.width)\n        {\n            dude.x -= dudeBounds.width;\n        }\n\n        if (dude.y < dudeBounds.y)\n        {\n            dude.y += dudeBounds.height;\n        }\n        else if (dude.y > dudeBounds.y + dudeBounds.height)\n        {\n            dude.y -= dudeBounds.height;\n        }\n    }\n\n    // increment the ticker\n    tick += 0.1;\n});\n",simplePlane:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nPIXI.Assets.load('https://pixijs.com/assets/bg_grass.jpg').then((texture) =>\n{\n    const plane = new PIXI.SimplePlane(texture, 10, 10);\n\n    plane.x = 100;\n    plane.y = 100;\n\n    app.stage.addChild(plane);\n\n    // Get the buffer for vertice positions.\n    const buffer = plane.geometry.getBuffer('aVertexPosition');\n\n    // Listen for animate update\n    let timer = 0;\n\n    app.ticker.add(() =>\n    {\n        // Randomize the vertice positions a bit to create movement.\n        for (let i = 0; i < buffer.data.length; i++)\n        {\n            buffer.data[i] += Math.sin(timer / 10 + i) * 0.5;\n        }\n        buffer.update();\n        timer++;\n    });\n});\n",tinting:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// holder to store the aliens\nconst aliens = [];\n\nconst totalDudes = 20;\n\nfor (let i = 0; i < totalDudes; i++)\n{\n    // create a new Sprite that uses the image name that we just generated as its source\n    const dude = PIXI.Sprite.from('https://pixijs.com/assets/eggHead.png');\n\n    // set the anchor point so the texture is centered on the sprite\n    dude.anchor.set(0.5);\n\n    // set a random scale for the dude - no point them all being the same size!\n    dude.scale.set(0.8 + Math.random() * 0.3);\n\n    // finally lets set the dude to be at a random position..\n    dude.x = Math.random() * app.screen.width;\n    dude.y = Math.random() * app.screen.height;\n\n    dude.tint = Math.random() * 0xffffff;\n\n    // create some extra properties that will control movement :\n    // create a random direction in radians. This is a number between 0 and PI*2 which is the equivalent of 0 - 360 degrees\n    dude.direction = Math.random() * Math.PI * 2;\n\n    // this number will be used to modify the direction of the dude over time\n    dude.turningSpeed = Math.random() - 0.8;\n\n    // create a random speed for the dude between 2 - 4\n    dude.speed = 2 + Math.random() * 2;\n\n    // finally we push the dude into the aliens array so it it can be easily accessed later\n    aliens.push(dude);\n\n    app.stage.addChild(dude);\n}\n\n// create a bounding box for the little dudes\nconst dudeBoundsPadding = 100;\nconst dudeBounds = new PIXI.Rectangle(\n    -dudeBoundsPadding,\n    -dudeBoundsPadding,\n    app.screen.width + dudeBoundsPadding * 2,\n    app.screen.height + dudeBoundsPadding * 2,\n);\n\napp.ticker.add(() =>\n{\n    // iterate through the dudes and update their position\n    for (let i = 0; i < aliens.length; i++)\n    {\n        const dude = aliens[i];\n\n        dude.direction += dude.turningSpeed * 0.01;\n        dude.x += Math.sin(dude.direction) * dude.speed;\n        dude.y += Math.cos(dude.direction) * dude.speed;\n        dude.rotation = -dude.direction - Math.PI / 2;\n\n        // wrap the dudes by testing their bounds...\n        if (dude.x < dudeBounds.x)\n        {\n            dude.x += dudeBounds.width;\n        }\n        else if (dude.x > dudeBounds.x + dudeBounds.width)\n        {\n            dude.x -= dudeBounds.width;\n        }\n\n        if (dude.y < dudeBounds.y)\n        {\n            dude.y += dudeBounds.height;\n        }\n        else if (dude.y > dudeBounds.y + dudeBounds.height)\n        {\n            dude.y -= dudeBounds.height;\n        }\n    }\n});\n",transparentBackground:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ backgroundAlpha: 0, resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// create a new Sprite from an image path.\nconst bunny = PIXI.Sprite.from('https://pixijs.com/assets/bunny.png');\n\n// center the sprite's anchor point\nbunny.anchor.set(0.5);\n\n// move the sprite to the center of the screen\nbunny.x = app.screen.width / 2;\nbunny.y = app.screen.height / 2;\n\napp.stage.addChild(bunny);\n\napp.ticker.add(() =>\n{\n    // just for fun, let's rotate mr rabbit a little\n    bunny.rotation += 0.1;\n});\n"},sprite:{animatedSpriteAnimationSpeed:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ autoStart: false, resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nPIXI.Assets.load('https://pixijs.com/assets/spritesheet/0123456789.json').then((spritesheet) =>\n{\n    // create an array to store the textures\n    const textures = [];\n    let i;\n\n    for (i = 0; i < 10; i++)\n    {\n        const framekey = `0123456789 ${i}.ase`;\n        const texture = PIXI.Texture.from(framekey);\n        const time = spritesheet.data.frames[framekey].duration;\n\n        textures.push({ texture, time });\n    }\n\n    const scaling = 4;\n\n    // create a slow AnimatedSprite\n    const slow = new PIXI.AnimatedSprite(textures);\n\n    slow.anchor.set(0.5);\n    slow.scale.set(scaling);\n    slow.animationSpeed = 0.5;\n    slow.x = (app.screen.width - slow.width) / 2;\n    slow.y = app.screen.height / 2;\n    slow.play();\n    app.stage.addChild(slow);\n\n    // create a fast AnimatedSprite\n    const fast = new PIXI.AnimatedSprite(textures);\n\n    fast.anchor.set(0.5);\n    fast.scale.set(scaling);\n    fast.x = (app.screen.width + fast.width) / 2;\n    fast.y = app.screen.height / 2;\n    fast.play();\n    app.stage.addChild(fast);\n\n    // start animating\n    app.start();\n});\n",animatedSpriteExplosion:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ autoStart: false, resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nPIXI.Assets.load('https://pixijs.com/assets/spritesheet/mc.json').then(() =>\n{\n    // create an array to store the textures\n    const explosionTextures = [];\n    let i;\n\n    for (i = 0; i < 26; i++)\n    {\n        const texture = PIXI.Texture.from(`Explosion_Sequence_A ${i + 1}.png`);\n\n        explosionTextures.push(texture);\n    }\n\n    for (i = 0; i < 50; i++)\n    {\n        // create an explosion AnimatedSprite\n        const explosion = new PIXI.AnimatedSprite(explosionTextures);\n\n        explosion.x = Math.random() * app.screen.width;\n        explosion.y = Math.random() * app.screen.height;\n        explosion.anchor.set(0.5);\n        explosion.rotation = Math.random() * Math.PI;\n        explosion.scale.set(0.75 + Math.random() * 0.5);\n        explosion.gotoAndPlay((Math.random() * 26) | 0);\n        app.stage.addChild(explosion);\n    }\n\n    // start animating\n    app.start();\n});\n",animatedSpriteJet:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nPIXI.Assets.load('https://pixijs.com/assets/spritesheet/fighter.json').then(() =>\n{\n    // create an array of textures from an image path\n    const frames = [];\n\n    for (let i = 0; i < 30; i++)\n    {\n        const val = i < 10 ? `0${i}` : i;\n\n        // magically works since the spritesheet was loaded with the pixi loader\n        frames.push(PIXI.Texture.from(`rollSequence00${val}.png`));\n    }\n\n    // create an AnimatedSprite (brings back memories from the days of Flash, right ?)\n    const anim = new PIXI.AnimatedSprite(frames);\n\n    /*\n     * An AnimatedSprite inherits all the properties of a PIXI sprite\n     * so you can change its position, its anchor, mask it, etc\n     */\n    anim.x = app.screen.width / 2;\n    anim.y = app.screen.height / 2;\n    anim.anchor.set(0.5);\n    anim.animationSpeed = 0.5;\n    anim.play();\n\n    app.stage.addChild(anim);\n\n    // Animate the rotation\n    app.ticker.add(() =>\n    {\n        anim.rotation += 0.01;\n    });\n});\n",basic:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// create a new Sprite from an image path\nconst bunny = PIXI.Sprite.from('https://pixijs.com/assets/bunny.png');\n\n// center the sprite's anchor point\nbunny.anchor.set(0.5);\n\n// move the sprite to the center of the screen\nbunny.x = app.screen.width / 2;\nbunny.y = app.screen.height / 2;\n\napp.stage.addChild(bunny);\n\n// Listen for animate update\napp.ticker.add((delta) =>\n{\n    // just for fun, let's rotate mr rabbit a little\n    // delta is 1 if running at 100% performance\n    // creates frame-independent transformation\n    bunny.rotation += 0.1 * delta;\n});\n",textureSwap:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nlet isFlower = true;\n\nconst texture = PIXI.Texture.from('https://pixijs.com/assets/flowerTop.png');\nconst secondTexture = PIXI.Texture.from('https://pixijs.com/assets/eggHead.png');\n\n// create a new Sprite using the texture\nconst character = new PIXI.Sprite(texture);\n\n// center the sprites anchor point\ncharacter.anchor.set(0.5);\n\n// move the sprite to the center of the screen\ncharacter.x = app.screen.width / 2;\ncharacter.y = app.screen.height / 2;\n\napp.stage.addChild(character);\n\n// make the sprite interactive\ncharacter.eventMode = 'static';\ncharacter.cursor = 'pointer';\n\ncharacter.on('pointertap', () =>\n{\n    isFlower = !isFlower;\n    // Dynamically swap the texture\n    character.texture = isFlower ? texture : secondTexture;\n});\n\napp.ticker.add(() =>\n{\n    character.rotation += 0.02;\n});\n",tilingSprite:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// create a texture from an image path\nconst texture = PIXI.Texture.from('https://pixijs.com/assets/p2.jpeg');\n\n/* create a tiling sprite ...\n * requires a texture, a width and a height\n * in WebGL the image size should preferably be a power of two\n */\nconst tilingSprite = new PIXI.TilingSprite(texture, app.screen.width, app.screen.height);\n\napp.stage.addChild(tilingSprite);\n\nlet count = 0;\n\napp.ticker.add(() =>\n{\n    count += 0.005;\n\n    tilingSprite.tileScale.x = 2 + Math.sin(count);\n    tilingSprite.tileScale.y = 2 + Math.cos(count);\n\n    tilingSprite.tilePosition.x += 1;\n    tilingSprite.tilePosition.y += 1;\n});\n",video:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ backgroundAlpha: 0, resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Create play button that can be used to trigger the video\nconst button = new PIXI.Graphics()\n    .beginFill(0x0, 0.5)\n    .drawRoundedRect(0, 0, 100, 100, 10)\n    .endFill()\n    .beginFill(0xffffff)\n    .moveTo(36, 30)\n    .lineTo(36, 70)\n    .lineTo(70, 50);\n\n// Position the button\nbutton.x = (app.screen.width - button.width) / 2;\nbutton.y = (app.screen.height - button.height) / 2;\n\n// Enable interactivity on the button\nbutton.eventMode = 'static';\nbutton.cursor = 'pointer';\n\n// Add to the stage\napp.stage.addChild(button);\n\n// Listen for a click/tap event to start playing the video\n// this is useful for some mobile platforms. For example:\n// ios9 and under cannot render videos in PIXI without a\n// polyfill - https://github.com/bfred-it/iphone-inline-video\n// ios10 and above require a click/tap event to render videos\n// that contain audio in PIXI. Videos with no audio track do\n// not have this requirement\nbutton.on('pointertap', onPlayVideo);\n\nfunction onPlayVideo()\n{\n    // Don't need the button anymore\n    button.destroy();\n\n    // create a video texture from a path\n    const texture = PIXI.Texture.from('https://pixijs.com/assets/video.mp4');\n\n    // create a new Sprite using the video texture (yes it's that easy)\n    const videoSprite = new PIXI.Sprite(texture);\n\n    // Stetch the fullscreen\n    videoSprite.width = app.screen.width;\n    videoSprite.height = app.screen.height;\n\n    app.stage.addChild(videoSprite);\n}\n"},text:{bitmapText:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nPIXI.Assets.load('https://pixijs.com/assets/bitmap-font/desyrel.xml').then(() =>\n{\n    const bitmapFontText = new PIXI.BitmapText('bitmap fonts are supported!\\nWoo yay!', {\n        fontName: 'Desyrel',\n        fontSize: 55,\n        align: 'left',\n    });\n\n    bitmapFontText.x = 50;\n    bitmapFontText.y = 200;\n\n    app.stage.addChild(bitmapFontText);\n});\n",fromFont:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Load from any font file!\nPIXI.Assets.addBundle('fonts', {\n    ChaChicle: 'https://pixijs.com/assets/webfont-loader/ChaChicle.ttf',\n    Lineal: 'https://pixijs.com/assets/webfont-loader/Lineal.otf',\n    'Dotrice Regular': 'https://pixijs.com/assets/webfont-loader/Dotrice-Regular.woff',\n    Crosterian: 'https://pixijs.com/assets/webfont-loader/Crosterian.woff2',\n});\nPIXI.Assets.loadBundle('fonts').then(() =>\n{\n    const text1 = new PIXI.Text('ChaChicle.ttf', new PIXI.TextStyle({ fontFamily: 'ChaChicle', fontSize: 50 }));\n    const text2 = new PIXI.Text('Lineal.otf', new PIXI.TextStyle({ fontFamily: 'Lineal', fontSize: 50 }));\n    const text3 = new PIXI.Text('Dotrice Regular.woff', new PIXI.TextStyle({ fontFamily: 'Dotrice Regular', fontSize: 50 }));\n    const text4 = new PIXI.Text('Crosterian.woff2', new PIXI.TextStyle({ fontFamily: 'Crosterian', fontSize: 50 }));\n\n    text2.y = 150;\n    text3.y = 300;\n    text4.y = 450;\n\n    app.stage.addChild(text1);\n    app.stage.addChild(text2);\n    app.stage.addChild(text3);\n    app.stage.addChild(text4);\n});\n",pixiText:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst basicText = new PIXI.Text('Basic text in pixi');\n\nbasicText.x = 50;\nbasicText.y = 100;\n\napp.stage.addChild(basicText);\n\nconst style = new PIXI.TextStyle({\n    fontFamily: 'Arial',\n    fontSize: 36,\n    fontStyle: 'italic',\n    fontWeight: 'bold',\n    fill: ['#ffffff', '#00ff99'], // gradient\n    stroke: '#4a1850',\n    strokeThickness: 5,\n    dropShadow: true,\n    dropShadowColor: '#000000',\n    dropShadowBlur: 4,\n    dropShadowAngle: Math.PI / 6,\n    dropShadowDistance: 6,\n    wordWrap: true,\n    wordWrapWidth: 440,\n    lineJoin: 'round',\n});\n\nconst richText = new PIXI.Text('Rich text with a lot of options and across multiple lines', style);\n\nrichText.x = 50;\nrichText.y = 220;\n\napp.stage.addChild(richText);\n\nconst skewStyle = new PIXI.TextStyle({\n    fontFamily: 'Arial',\n    dropShadow: true,\n    dropShadowAlpha: 0.8,\n    dropShadowAngle: 2.1,\n    dropShadowBlur: 4,\n    dropShadowColor: '0x111111',\n    dropShadowDistance: 10,\n    fill: ['#ffffff'],\n    stroke: '#004620',\n    fontSize: 60,\n    fontWeight: 'lighter',\n    lineJoin: 'round',\n    strokeThickness: 12,\n});\n\nconst skewText = new PIXI.Text('SKEW IS COOL', skewStyle);\n\nskewText.skew.set(0.65, -0.3);\nskewText.anchor.set(0.5, 0.5);\nskewText.x = 300;\nskewText.y = 480;\n\napp.stage.addChild(skewText);\n",webFont:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Load them google fonts before starting...\nwindow.WebFontConfig = {\n    google: {\n        families: ['Snippet'],\n    },\n    active()\n    {\n        init();\n    },\n};\n\n/* eslint-disable */\n// include the web-font loader script\n(function () {\n    const wf = document.createElement('script');\n    wf.src = `${\n        document.location.protocol === 'https:' ? 'https' : 'http'\n    }://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js`;\n    wf.type = 'text/javascript';\n    wf.async = 'true';\n    const s = document.getElementsByTagName('script')[0];\n    s.parentNode.insertBefore(wf, s);\n})();\n/* eslint-enabled */\n\nfunction init() {\n    // create some white text using the Snippet webfont\n    const textSample = new PIXI.Text('PixiJS text using the\\ncustom \"Snippet\" Webfont', {\n        fontFamily: 'Snippet',\n        fontSize: 50,\n        fill: 'white',\n        align: 'left',\n    });\n    textSample.position.set(50, 200);\n    app.stage.addChild(textSample);\n}\n"},graphics:{advanced:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ antialias: true, resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst sprite = PIXI.Sprite.from('https://pixijs.com/assets/bg_rotate.jpg');\n\n// // BEZIER CURVE ////\n// information: https://en.wikipedia.org/wiki/B\xe9zier_curve\n\nconst realPath = new PIXI.Graphics();\n\nrealPath.lineStyle(2, 0xffffff, 1);\nrealPath.moveTo(0, 0);\nrealPath.lineTo(100, 200);\nrealPath.lineTo(200, 200);\nrealPath.lineTo(240, 100);\n\nrealPath.position.x = 50;\nrealPath.position.y = 50;\n\napp.stage.addChild(realPath);\n\nconst bezier = new PIXI.Graphics();\n\nbezier.lineStyle(5, 0xaa0000, 1);\nbezier.bezierCurveTo(100, 200, 200, 200, 240, 100);\n\nbezier.position.x = 50;\nbezier.position.y = 50;\n\napp.stage.addChild(bezier);\n\n// // BEZIER CURVE 2 ////\nconst realPath2 = new PIXI.Graphics();\n\nrealPath2.lineStyle(2, 0xffffff, 1);\nrealPath2.moveTo(0, 0);\nrealPath2.lineTo(0, -100);\nrealPath2.lineTo(150, 150);\nrealPath2.lineTo(240, 100);\n\nrealPath2.position.x = 320;\nrealPath2.position.y = 150;\n\napp.stage.addChild(realPath2);\n\nconst bezier2 = new PIXI.Graphics();\n\nbezier2.lineTextureStyle({ width: 10, texture: sprite.texture });\nbezier2.bezierCurveTo(0, -100, 150, 150, 240, 100);\n\nbezier2.position.x = 320;\nbezier2.position.y = 150;\n\napp.stage.addChild(bezier2);\n\n// // ARC ////\nconst arc = new PIXI.Graphics();\n\narc.lineStyle(5, 0xaa00bb, 1);\narc.arc(600, 100, 50, Math.PI, 2 * Math.PI);\n\napp.stage.addChild(arc);\n\n// // ARC 2 ////\nconst arc2 = new PIXI.Graphics();\n\narc2.lineStyle(6, 0x3333dd, 1);\narc2.arc(650, 270, 60, 2 * Math.PI, (3 * Math.PI) / 2);\n\napp.stage.addChild(arc2);\n\n// // ARC 3 ////\nconst arc3 = new PIXI.Graphics();\n\narc3.lineTextureStyle({ width: 20, texture: sprite.texture });\narc3.arc(650, 420, 60, 2 * Math.PI, (2.5 * Math.PI) / 2);\n\napp.stage.addChild(arc3);\n\n// / Hole ////\nconst rectAndHole = new PIXI.Graphics();\n\nrectAndHole.beginFill(0x00ff00);\nrectAndHole.drawRect(350, 350, 150, 150);\nrectAndHole.beginHole();\nrectAndHole.drawCircle(375, 375, 25);\nrectAndHole.drawCircle(425, 425, 25);\nrectAndHole.drawCircle(475, 475, 25);\nrectAndHole.endHole();\nrectAndHole.endFill();\n\napp.stage.addChild(rectAndHole);\n\n// // Line Texture Style ////\nconst beatifulRect = new PIXI.Graphics();\n\nbeatifulRect.lineTextureStyle({ width: 20, texture: sprite.texture });\nbeatifulRect.beginFill(0xff0000);\nbeatifulRect.drawRect(80, 350, 150, 150);\nbeatifulRect.endFill();\n\napp.stage.addChild(beatifulRect);\n",dynamic:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ antialias: true, resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\napp.stage.eventMode = 'static';\napp.stage.hitArea = app.screen;\n\nconst graphics = new PIXI.Graphics();\n\n// set a fill and line style\ngraphics.beginFill(0xff3300);\ngraphics.lineStyle(10, 0xffd900, 1);\n\n// draw a shape\ngraphics.moveTo(50, 50);\ngraphics.lineTo(250, 50);\ngraphics.lineTo(100, 100);\ngraphics.lineTo(250, 220);\ngraphics.lineTo(50, 220);\ngraphics.lineTo(50, 50);\ngraphics.closePath();\ngraphics.endFill();\n\n// set a fill and line style again\ngraphics.lineStyle(10, 0xff0000, 0.8);\ngraphics.beginFill(0xff700b, 1);\n\n// draw a second shape\ngraphics.moveTo(210, 300);\ngraphics.lineTo(450, 320);\ngraphics.lineTo(570, 350);\ngraphics.quadraticCurveTo(600, 0, 480, 100);\ngraphics.lineTo(330, 120);\ngraphics.lineTo(410, 200);\ngraphics.lineTo(210, 300);\ngraphics.closePath();\ngraphics.endFill();\n\n// draw a rectangle\ngraphics.lineStyle(2, 0x0000ff, 1);\ngraphics.drawRect(50, 250, 100, 100);\n\n// draw a circle\ngraphics.lineStyle(0);\ngraphics.beginFill(0xffff0b, 0.5);\ngraphics.drawCircle(470, 200, 100);\ngraphics.endFill();\n\ngraphics.lineStyle(20, 0x33ff00);\ngraphics.moveTo(30, 30);\ngraphics.lineTo(600, 300);\n\napp.stage.addChild(graphics);\n\n// let's create a moving shape\nconst thing = new PIXI.Graphics();\n\napp.stage.addChild(thing);\nthing.x = 800 / 2;\nthing.y = 600 / 2;\n\nlet count = 0;\n\n// Just click on the stage to draw random lines\nwindow.app = app;\napp.stage.on('pointerdown', () =>\n{\n    graphics.lineStyle(Math.random() * 30, Math.random() * 0xffffff, 1);\n    graphics.moveTo(Math.random() * 800, Math.random() * 600);\n    graphics.bezierCurveTo(\n        Math.random() * 800,\n        Math.random() * 600,\n        Math.random() * 800,\n        Math.random() * 600,\n        Math.random() * 800,\n        Math.random() * 600,\n    );\n});\n\napp.ticker.add(() =>\n{\n    count += 0.1;\n\n    thing.clear();\n    thing.lineStyle(10, 0xff0000, 1);\n    thing.beginFill(0xffff00, 0.5);\n\n    thing.moveTo(-120 + Math.sin(count) * 20, -100 + Math.cos(count) * 20);\n    thing.lineTo(120 + Math.cos(count) * 20, -100 + Math.sin(count) * 20);\n    thing.lineTo(120 + Math.sin(count) * 20, 100 + Math.cos(count) * 20);\n    thing.lineTo(-120 + Math.cos(count) * 20, 100 + Math.sin(count) * 20);\n    thing.lineTo(-120 + Math.sin(count) * 20, -100 + Math.cos(count) * 20);\n    thing.closePath();\n\n    thing.rotation = count * 0.1;\n});\n",simple:"import * as PIXI from 'pixi.js';\nimport '@pixi/graphics-extras';\n\nconst app = new PIXI.Application({ antialias: true, resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst graphics = new PIXI.Graphics();\n\n// Rectangle\ngraphics.beginFill(0xde3249);\ngraphics.drawRect(50, 50, 100, 100);\ngraphics.endFill();\n\n// Rectangle + line style 1\ngraphics.lineStyle(2, 0xfeeb77, 1);\ngraphics.beginFill(0x650a5a);\ngraphics.drawRect(200, 50, 100, 100);\ngraphics.endFill();\n\n// Rectangle + line style 2\ngraphics.lineStyle(10, 0xffbd01, 1);\ngraphics.beginFill(0xc34288);\ngraphics.drawRect(350, 50, 100, 100);\ngraphics.endFill();\n\n// Rectangle 2\ngraphics.lineStyle(2, 0xffffff, 1);\ngraphics.beginFill(0xaa4f08);\ngraphics.drawRect(530, 50, 140, 100);\ngraphics.endFill();\n\n// Circle\ngraphics.lineStyle(0); // draw a circle, set the lineStyle to zero so the circle doesn't have an outline\ngraphics.beginFill(0xde3249, 1);\ngraphics.drawCircle(100, 250, 50);\ngraphics.endFill();\n\n// Circle + line style 1\ngraphics.lineStyle(2, 0xfeeb77, 1);\ngraphics.beginFill(0x650a5a, 1);\ngraphics.drawCircle(250, 250, 50);\ngraphics.endFill();\n\n// Circle + line style 2\ngraphics.lineStyle(10, 0xffbd01, 1);\ngraphics.beginFill(0xc34288, 1);\ngraphics.drawCircle(400, 250, 50);\ngraphics.endFill();\n\n// Ellipse + line style 2\ngraphics.lineStyle(2, 0xffffff, 1);\ngraphics.beginFill(0xaa4f08, 1);\ngraphics.drawEllipse(600, 250, 80, 50);\ngraphics.endFill();\n\n// draw a shape\ngraphics.beginFill(0xff3300);\ngraphics.lineStyle(4, 0xffd900, 1);\ngraphics.moveTo(50, 350);\ngraphics.lineTo(250, 350);\ngraphics.lineTo(100, 400);\ngraphics.lineTo(50, 350);\ngraphics.closePath();\ngraphics.endFill();\n\n// draw a rounded rectangle\ngraphics.lineStyle(2, 0xff00ff, 1);\ngraphics.beginFill(0x650a5a, 0.25);\ngraphics.drawRoundedRect(50, 440, 100, 100, 16);\ngraphics.endFill();\n\n// draw star\ngraphics.lineStyle(2, 0xffffff);\ngraphics.beginFill(0x35cc5a, 1);\ngraphics.drawStar(360, 370, 5, 50);\ngraphics.endFill();\n\n// draw star 2\ngraphics.lineStyle(2, 0xffffff);\ngraphics.beginFill(0xffcc5a, 1);\ngraphics.drawStar(280, 510, 7, 50);\ngraphics.endFill();\n\n// draw star 3\ngraphics.lineStyle(4, 0xffffff);\ngraphics.beginFill(0x55335a, 1);\ngraphics.drawStar(470, 450, 4, 50);\ngraphics.endFill();\n\n// draw polygon\nconst path = [600, 370, 700, 460, 780, 420, 730, 570, 590, 520];\n\ngraphics.lineStyle(0);\ngraphics.beginFill(0x3500fa, 1);\ngraphics.drawPolygon(path);\ngraphics.endFill();\n\napp.stage.addChild(graphics);\n"},events:{click:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Scale mode for all textures, will retain pixelation\nPIXI.settings.SCALE_MODE = PIXI.SCALE_MODES.NEAREST;\n\nconst sprite = PIXI.Sprite.from('https://pixijs.com/assets/bunny.png');\n\n// Set the initial position\nsprite.anchor.set(0.5);\nsprite.x = app.screen.width / 2;\nsprite.y = app.screen.height / 2;\n\n// Opt-in to interactivity\nsprite.eventMode = 'static';\n\n// Shows hand cursor\nsprite.cursor = 'pointer';\n\n// Pointers normalize touch and mouse (good for mobile and desktop)\nsprite.on('pointerdown', onClick);\n\n// Alternatively, use the mouse & touch events:\n// sprite.on('click', onClick); // mouse-only\n// sprite.on('tap', onClick); // touch-only\n\napp.stage.addChild(sprite);\n\nfunction onClick()\n{\n    sprite.scale.x *= 1.25;\n    sprite.scale.y *= 1.25;\n}\n",customHitarea:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application(800, 600, { background: '#1099bb' });\n\ndocument.body.appendChild(app.view);\n\nconst yellowStar = PIXI.Texture.from('https://pixijs.com/assets/yellowstar.png');\n\n// Standard Sprite Button\nconst starButton1 = new PIXI.Sprite(yellowStar);\n\nstarButton1.position.set(50, 200);\nstarButton1.cursor = 'pointer';\nstarButton1.eventMode = 'static';\n\nstarButton1\n    .on('pointerdown', onClick, starButton1)\n    .on('pointerover', onPointerOver, starButton1)\n    .on('pointerout', onPointerOut, starButton1);\n\n// Custom Hitarea Button\nconst starButton2 = new PIXI.Sprite(yellowStar);\n\nstarButton2.position.set(250, 200);\n\n// Create a hitarea that matches the sprite, which will be used for point\n// intersection\nstarButton2.hitArea = new PIXI.Polygon([\n    80, 0, 100, 50, 160, 55, 115, 95, 130, 150, 80, 120, 30, 150, 45, 95, 0, 55, 60, 50,\n]);\nstarButton2.cursor = 'pointer';\nstarButton2.eventMode = 'static';\n\nstarButton2\n    .on('pointerdown', onClick, starButton2)\n    .on('pointerover', onPointerOver, starButton2)\n    .on('pointerout', onPointerOut, starButton2);\n\n// With Mask, No Hit Area\nconst starButton3 = new PIXI.Sprite(yellowStar);\n\nstarButton3.position.set(450, 200);\nstarButton3.cursor = 'pointer';\nstarButton3.eventMode = 'static';\n\nconst squareMask = new PIXI.Graphics().beginFill(0xffffff).drawRect(starButton3.x, starButton3.y, 75, 200).endFill();\n\nstarButton3.mask = squareMask;\n\nstarButton3\n    .on('pointerdown', onClick, starButton3)\n    .on('pointerover', onPointerOver, starButton3)\n    .on('pointerout', onPointerOut, starButton3);\n\n// With a Mask and Hit Area\n// Hitareas ignore masks. You can still click on a button made in this way,\n// even from areas covered by a mask\nconst starButton4 = new PIXI.Sprite(yellowStar);\n\nstarButton4.position.set(600, 200);\n\nconst squareMask2 = new PIXI.Graphics().beginFill(0xffffff).drawRect(starButton4.x, starButton4.y, 75, 200).endFill();\n\nstarButton4.mask = squareMask2;\n\n// Again, hitarea for intersection checks\nstarButton4.hitArea = new PIXI.Polygon([\n    80, 0, 100, 50, 160, 55, 115, 95, 130, 150, 80, 120, 30, 150, 45, 95, 0, 55, 60, 50,\n]);\nstarButton4.cursor = 'pointer';\nstarButton4.eventMode = 'static';\n\nstarButton4\n    .on('pointerdown', onClick, starButton4)\n    .on('pointerover', onPointerOver, starButton4)\n    .on('pointerout', onPointerOut, starButton4);\n\nconst style = new PIXI.TextStyle({ fill: '#ffffff' });\n\nconst text1 = new PIXI.Text('Standard', style);\n\ntext1.x = starButton1.x + 25;\ntext1.y = starButton1.y + 170;\n\nconst text2 = new PIXI.Text('Hit Area', style);\n\ntext2.x = starButton2.x + 35;\ntext2.y = starButton2.y + 170;\n\nconst text3 = new PIXI.Text('Mask', style);\n\ntext3.x = starButton3.x + 10;\ntext3.y = starButton3.y + 170;\n\nconst text4 = new PIXI.Text('Mask + Hit Area', style);\n\ntext4.x = starButton4.x - 10;\ntext4.y = starButton4.y + 170;\n\n// Add to stage\napp.stage.addChild(starButton2, starButton1, starButton3, starButton4, squareMask, squareMask2, text1, text2, text3, text4);\n\nfunction onClick()\n{\n    this.tint = 0x333333;\n}\n\nfunction onPointerOver()\n{\n    this.tint = 0x666666;\n}\n\nfunction onPointerOut()\n{\n    this.tint = 0xffffff;\n}\n",customMouseIcon:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Css style for icons\nconst defaultIcon = 'url(\\'https://pixijs.com/assets/bunny.png\\'),auto';\nconst hoverIcon = 'url(\\'https://pixijs.com/assets/bunny_saturated.png\\'),auto';\n\n// Add custom cursor styles\napp.renderer.events.cursorStyles.default = defaultIcon;\napp.renderer.events.cursorStyles.hover = hoverIcon;\n\n// create a background...\nconst background = PIXI.Sprite.from('https://pixijs.com/assets/bg_button.jpg');\n\nbackground.width = app.screen.width;\nbackground.height = app.screen.height;\n// add background to stage...\napp.stage.addChild(background);\n\n// create some textures from an image path\nconst textureButton = PIXI.Texture.from('https://pixijs.com/assets/button.png');\nconst textureButtonDown = PIXI.Texture.from('https://pixijs.com/assets/button_down.png');\nconst textureButtonOver = PIXI.Texture.from('https://pixijs.com/assets/button_over.png');\n\nconst buttons = [];\n\nconst buttonPositions = [175, 75, 655, 75, 410, 325, 150, 465, 685, 445];\n\nfor (let i = 0; i < 5; i++)\n{\n    const button = new PIXI.Sprite(textureButton);\n\n    button.cursor = 'hover';\n\n    button.anchor.set(0.5);\n    button.x = buttonPositions[i * 2];\n    button.y = buttonPositions[i * 2 + 1];\n\n    // make the button interactive...\n    button.eventMode = 'static';\n\n    button\n        .on('pointerdown', onButtonDown)\n        .on('pointerup', onButtonUp)\n        .on('pointerupoutside', onButtonUp)\n        .on('pointerover', onButtonOver)\n        .on('pointerout', onButtonOut);\n\n    // add it to the stage\n    app.stage.addChild(button);\n\n    // add button to array\n    buttons.push(button);\n}\n\n// set some silly values...\nbuttons[0].scale.set(1.2);\nbuttons[2].rotation = Math.PI / 10;\nbuttons[3].scale.set(0.8);\nbuttons[4].scale.set(0.8, 1.2);\nbuttons[4].rotation = Math.PI;\n\nfunction onButtonDown()\n{\n    this.isdown = true;\n    this.texture = textureButtonDown;\n    this.alpha = 1;\n}\n\nfunction onButtonUp()\n{\n    this.isdown = false;\n    if (this.isOver)\n    {\n        this.texture = textureButtonOver;\n    }\n    else\n    {\n        this.texture = textureButton;\n    }\n}\n\nfunction onButtonOver()\n{\n    this.isOver = true;\n    if (this.isdown)\n    {\n        return;\n    }\n    this.texture = textureButtonOver;\n}\n\nfunction onButtonOut()\n{\n    this.isOver = false;\n    if (this.isdown)\n    {\n        return;\n    }\n    this.texture = textureButton;\n}\n",dragging:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// create a texture from an image path\nconst texture = PIXI.Texture.from('https://pixijs.com/assets/bunny.png');\n\n// Scale mode for pixelation\ntexture.baseTexture.scaleMode = PIXI.SCALE_MODES.NEAREST;\n\nfor (let i = 0; i < 10; i++)\n{\n    createBunny(Math.floor(Math.random() * app.screen.width), Math.floor(Math.random() * app.screen.height));\n}\n\nfunction createBunny(x, y)\n{\n    // create our little bunny friend..\n    const bunny = new PIXI.Sprite(texture);\n\n    // enable the bunny to be interactive... this will allow it to respond to mouse and touch events\n    bunny.eventMode = 'static';\n\n    // this button mode will mean the hand cursor appears when you roll over the bunny with your mouse\n    bunny.cursor = 'pointer';\n\n    // center the bunny's anchor point\n    bunny.anchor.set(0.5);\n\n    // make it a bit bigger, so it's easier to grab\n    bunny.scale.set(3);\n\n    // setup events for mouse + touch using\n    // the pointer events\n    bunny.on('pointerdown', onDragStart, bunny);\n\n    // move the sprite to its designated position\n    bunny.x = x;\n    bunny.y = y;\n\n    // add it to the stage\n    app.stage.addChild(bunny);\n}\n\nlet dragTarget = null;\n\napp.stage.eventMode = 'static';\napp.stage.hitArea = app.screen;\napp.stage.on('pointerup', onDragEnd);\napp.stage.on('pointerupoutside', onDragEnd);\n\nfunction onDragMove(event)\n{\n    if (dragTarget)\n    {\n        dragTarget.parent.toLocal(event.global, null, dragTarget.position);\n    }\n}\n\nfunction onDragStart()\n{\n    // store a reference to the data\n    // the reason for this is because of multitouch\n    // we want to track the movement of this particular touch\n    // this.data = event.data;\n    this.alpha = 0.5;\n    dragTarget = this;\n    app.stage.on('pointermove', onDragMove);\n}\n\nfunction onDragEnd()\n{\n    if (dragTarget)\n    {\n        app.stage.off('pointermove', onDragMove);\n        dragTarget.alpha = 1;\n        dragTarget = null;\n    }\n}\n",hitTestingWithSpatialHash:"import * as PIXI from 'pixi.js';\n\n// This example shows how you can create your own EventBoundary to accelerate\n// hit-testing using spatial hashes. This can be used to optimize relatively\n// \"flat\" scene graphs, where  a container contains so many objects that it\n// covers the whole scene.\n\n// This special event boundary overrides the hit-testing implementation to use\n// HashingContainer's own childHash to find children near the pointer\n// location.\nclass HashingEventBoundary extends PIXI.EventBoundary\n{\n    constructor(...args)\n    {\n        super(...args);\n        // Create reusable temp rectangle for hit-testing!\n        this.tempRect = new PIXI.Rectangle();\n    }\n\n    hitTestRecursive(currentTarget, interactive, location, testFn, pruneFn)\n    {\n        // If currentTarget isn't a HashingContainer, then default to the\n        // regular hit-testing implementation provided by PixiJS.\n        if (!currentTarget || !currentTarget.visible || !currentTarget.childHash)\n        {\n            return super.hitTestRecursive(currentTarget, interactive, location, testFn, pruneFn);\n        }\n\n        // Check if the location is outside of the entire container\n        if (pruneFn(currentTarget, location)) return null;\n\n        // Time to get recursive and find the next child in the propagation\n        // path of the event, accelerated using the childHash.\n        if (currentTarget.interactiveChildren)\n        {\n            /* This is where the magic happens! */\n            const tempRect = this.tempRect;\n\n            // Store the location as a 0x0 rectangle. SpatialHash requires a\n            // rectangle for searching.\n            tempRect.x = location.x;\n            tempRect.y = location.y;\n\n            // Find all the children overlapping with tempRect a.k.a location,\n            // and then sort them by their index in the HashingContainer's\n            // children array.\n            const children = Array.from(currentTarget.childHash.search(tempRect)).sort((a, b) => a.refIndex - b.refIndex);\n\n            /* The following is copied from EventBoundary's code. */\n            for (let i = children.length - 1; i >= 0; i--)\n            {\n                const child = children[i];\n                const nestedHit = this.hitTestRecursive(child, interactive || child.interactive, location, testFn, pruneFn);\n\n                if (nestedHit)\n                {\n                    // Its a good idea to check if a child has lost its\n                    // parent. this means it has been removed whilst looping\n                    // so its best\n                    if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent)\n                    {\n                        // eslint-disable-next-line no-continue\n                        continue;\n                    }\n\n                    // Only add the current hit-test target to the hit-test\n                    // chain if the chain has already started (i.e. the event\n                    // target has been found) or if the current target is\n                    // interactive (i.e. it becomes the event target).\n                    if (nestedHit.length > 0 || currentTarget.interactive)\n                    {\n                        nestedHit.push(currentTarget);\n                    }\n\n                    return nestedHit;\n                }\n            }\n        }\n\n        /* The following is copied from EventBoundary's own implementation. */\n\n        // Finally, hit test this DisplayObject itself.\n        if (interactive && testFn(currentTarget, location))\n        {\n            // The current hit-test target is the event's target only if it\n            // is interactive. Otherwise, the first interactive ancestor will\n            // be the event's target.\n            return currentTarget.interactive ? [currentTarget] : [];\n        }\n\n        return null;\n    }\n}\n\n// HashingContainer is a special kind of container that organizes its children\n// in a spatial hash. It also sets each child's refIndex property to its index\n// in the hashing container's children array.\nclass HashingContainer extends PIXI.Container\n{\n    constructor()\n    {\n        super();\n        this.childHash = new PIXI.SpatialHash();\n    }\n\n    // Override updateTransform to update this.childHash!\n    updateTransform()\n    {\n        super.updateTransform();\n\n        // Reset childHash & re-add all the children. This will\n        // make the spatial hash re-evaluate the coverage of each child.\n        this.childHash.reset();\n        for (let i = 0; i < this.children.length; i++)\n        {\n            const child = this.children[i];\n\n            this.childHash.put(child);\n            child.refIndex = i;\n        }\n    }\n}\n\n// This is the actual program using HashingEventBoundary, HashingContainer.\nfunction main()\n{\n    // Create app. autoStart = false so that the app doesn't render until\n    // something changes - this prevents redundant spatial-hash updates.\n    const app = new PIXI.Application({\n        antialias: true,\n        autoStart: false,\n        background: '#1099bb',\n    });\n\n    document.body.appendChild(app.view);\n\n    // Install our own EventBoundary!\n    app.renderer.events.rootBoundary = new HashingEventBoundary(app.stage);\n\n    // Make the hashing container\n    const container = app.stage.addChild(new HashingContainer());\n    // Textures to choose from for each random character\n    const textures = [\n        PIXI.Texture.from('https://pixijs.com/assets/skully.png'),\n        PIXI.Texture.from('https://pixijs.com/assets/eggHead.png'),\n        PIXI.Texture.from('https://pixijs.com/assets/flowerTop.png'),\n        PIXI.Texture.from('https://pixijs.com/assets/helmlok.png'),\n    ];\n    // Rerender scene when each texture loads\n\n    textures.forEach((tex) => tex.baseTexture.once('loaded', () => app.render()));\n\n    // Populate the hashing container!\n    function makeMonster(x, y)\n    {\n        const texture = textures[Math.floor(Math.random() * textures.length)];\n        const sprite = new PIXI.Sprite(texture);\n\n        // Randomly place the character\n        sprite.position.set(\n            x || Math.random() * (app.screen.width - 64),\n            y || 64 + Math.random() * (app.screen.height - 128),\n        );\n\n        // Make character smaller so we can have a bunch of 'em\n        sprite.scale.set(0.34);\n\n        // Make the character interactive!\n        sprite.eventMode = 'static';\n\n        // Explode on clicks!\n        sprite.addEventListener('click', onMonsterClicked);\n\n        container.addChild(sprite);\n\n        return sprite;\n    }\n    function onMonsterClicked(e)\n    {\n        const monster = this;\n        const pos = monster.position;\n        const radius = Math.max(monster.width, monster.height) * 2;\n\n        // Remove monster from scene once the event finishes propagating.\n        e.manager.dispatch.once('click', () =>\n        {\n            // TODO: Fix PixiJS throwing errors since the monster is removed\n            // from scene graph while was under hover.\n\n            monster.parent.removeChild(monster);\n            PIXI.Ticker.shared.addOnce(() => app.render());\n        });\n\n        for (let i = 0; i < 8; i++)\n        {\n            const x = pos.x + radius * Math.cos((i * Math.PI) / 4);\n            const y = pos.y + radius * Math.sin((i * Math.PI) / 4);\n\n            makeMonster(x, y);\n        }\n    }\n    // Make initial set of monsters\n    for (let i = 0; i < 100; i++) makeMonster();\n\n    // Add a descriptive title\n    const title = app.stage.addChild(\n        new PIXI.Text('Click on a monster and see it explode into more!', {\n            fontSize: 12,\n        }),\n    );\n\n    title.position.set(12, 12);\n\n    // Render the stage once\n    app.render();\n}\n\n// Run our program!\nmain();\n",interactivity:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// create a background...\nconst background = PIXI.Sprite.from('https://pixijs.com/assets/bg_button.jpg');\n\nbackground.width = app.screen.width;\nbackground.height = app.screen.height;\n\n// add background to stage...\napp.stage.addChild(background);\n\n// create some textures from an image path\nconst textureButton = PIXI.Texture.from('https://pixijs.com/assets/button.png');\nconst textureButtonDown = PIXI.Texture.from('https://pixijs.com/assets/button_down.png');\nconst textureButtonOver = PIXI.Texture.from('https://pixijs.com/assets/button_over.png');\n\nconst buttons = [];\n\nconst buttonPositions = [175, 75, 655, 75, 410, 325, 150, 465, 685, 445];\n\nfor (let i = 0; i < 5; i++)\n{\n    const button = new PIXI.Sprite(textureButton);\n\n    button.anchor.set(0.5);\n    button.x = buttonPositions[i * 2];\n    button.y = buttonPositions[i * 2 + 1];\n\n    // make the button interactive...\n    button.eventMode = 'static';\n    button.cursor = 'pointer';\n\n    button\n        // Mouse & touch events are normalized into\n        // the pointer* events for handling different\n        // button events.\n        .on('pointerdown', onButtonDown)\n        .on('pointerup', onButtonUp)\n        .on('pointerupoutside', onButtonUp)\n        .on('pointerover', onButtonOver)\n        .on('pointerout', onButtonOut);\n\n    // Use mouse-only events\n    // .on('mousedown', onButtonDown)\n    // .on('mouseup', onButtonUp)\n    // .on('mouseupoutside', onButtonUp)\n    // .on('mouseover', onButtonOver)\n    // .on('mouseout', onButtonOut)\n\n    // Use touch-only events\n    // .on('touchstart', onButtonDown)\n    // .on('touchend', onButtonUp)\n    // .on('touchendoutside', onButtonUp)\n\n    // add it to the stage\n    app.stage.addChild(button);\n\n    // add button to array\n    buttons.push(button);\n}\n\n// set some silly values...\nbuttons[0].scale.set(1.2);\nbuttons[2].rotation = Math.PI / 10;\nbuttons[3].scale.set(0.8);\nbuttons[4].scale.set(0.8, 1.2);\nbuttons[4].rotation = Math.PI;\n\nfunction onButtonDown()\n{\n    this.isdown = true;\n    this.texture = textureButtonDown;\n    this.alpha = 1;\n}\n\nfunction onButtonUp()\n{\n    this.isdown = false;\n    if (this.isOver)\n    {\n        this.texture = textureButtonOver;\n    }\n    else\n    {\n        this.texture = textureButton;\n    }\n}\n\nfunction onButtonOver()\n{\n    this.isOver = true;\n    if (this.isdown)\n    {\n        return;\n    }\n    this.texture = textureButtonOver;\n}\n\nfunction onButtonOut()\n{\n    this.isOver = false;\n    if (this.isdown)\n    {\n        return;\n    }\n    this.texture = textureButton;\n}\n",logger:"import * as PIXI from 'pixi.js';\n\n// This example logs the order of events hover-related events in the scene.\nconst app = new PIXI.Application({\n    antialias: true,\n    background: '#1099bb',\n});\n\ndocument.body.appendChild(app.view);\n\nconst title = app.stage.addChild(\n    new PIXI.Text(\n        `Move your mouse slowly over the boxes to\n    see the order of pointerenter, pointerleave,\n    pointerover, pointerout events on each target!`,\n        {\n            fontSize: 16,\n        },\n    ),\n);\n\ntitle.x = 2;\n\nconst logs = [];\nconst logText = app.stage.addChild(\n    new PIXI.Text('', {\n        fontSize: 14,\n    }),\n);\n\nlogText.y = 80;\nlogText.x = 2;\n\napp.stage.name = 'stage';\n\n// Mount outer black box\nconst blackBox = app.stage.addChild(new PIXI.Graphics().beginFill(0).drawRect(0, 0, 400, 400).endFill());\n\nblackBox.name = 'black box';\nblackBox.x = 400;\n\n// Mount white box inside the white one\nconst whiteBox = blackBox.addChild(new PIXI.Graphics().beginFill(0xffffff).drawRect(100, 100, 200, 200).endFill());\n\nwhiteBox.name = 'white box';\n\n// Enable interactivity everywhere!\napp.stage.eventMode = 'static';\napp.stage.hitArea = app.screen;\nwhiteBox.eventMode = 'static';\nblackBox.eventMode = 'static';\n\nfunction onEvent(e)\n{\n    const type = e.type;\n    const targetName = e.target.name;\n    const currentTargetName = e.currentTarget.name;\n\n    // Add event to top of logs\n    logs.push(`${currentTargetName} received ${type} event (target is ${targetName})`);\n\n    if (currentTargetName === 'stage' || type === 'pointerenter' || type === 'pointerleave')\n    {\n        logs.push('-----------------------------------------', '');\n    }\n\n    // Prevent logs from growing too long\n    if (logs.length > 30)\n    {\n        while (logs.length > 30)\n        {\n            logs.shift();\n        }\n    }\n\n    // Update logText\n    logText.text = logs.join('\\n');\n}\n\n[app.stage, whiteBox, blackBox].forEach((object) =>\n{\n    object.addEventListener('pointerenter', onEvent);\n    object.addEventListener('pointerleave', onEvent);\n    object.addEventListener('pointerover', onEvent);\n    object.addEventListener('pointerout', onEvent);\n});\n",nestedBoundaryWithProjection:"import * as PIXI from 'pixi.js';\nimport '@pixi/graphics-extras';\n\n// This example shows how you can setup a nested boundary to propagate events\n// into a disjoint scene graph. Here, a camera is used to project an different\n// world onto the canvas.\n\nconst app = new PIXI.Application({\n    antialias: true,\n    background: '#1099bb',\n});\n\ndocument.body.appendChild(app.view);\n\n// A projector renders it's content using projection. The transforms in\n// the contents scene graph don't change if you move the camera. To achieve\n// this, the content is not added as a \"child\" to the projector; however, this\n// means events won't propagate into the content by default.\n//\n// To solve this, we nest our own EventBoundary, and connect it using\n// addEventListener!\nclass Projector extends PIXI.DisplayObject\n{\n    constructor()\n    {\n        super();\n\n        // The content root to be rendered by this camera.\n        this.content = new PIXI.Container();\n\n        // Temporary matrix to store the original projection transform.\n        this.originalTransform = new PIXI.Matrix();\n\n        // The event boundary that'll map events downstream into the content\n        // scene.\n        this.boundary = new PIXI.EventBoundary(this.content);\n\n        // Override copyMouseData to apply inverse worldTransform on\n        // global coords\n        this.boundary.copyMouseData = (from, to) =>\n        {\n            // Apply default implementation first\n            PIXI.EventBoundary.prototype.copyMouseData.call(this.boundary, from, to);\n\n            // Then bring global coords into content's world\n            this.worldTransform.applyInverse(to.global, to.global);\n        };\n\n        // Propagate these events down into the content's scene graph!\n        ['pointerdown', 'pointerup', 'pointermove', 'pointerover', 'pointerout', 'wheel'].forEach((event) =>\n        {\n            this.addEventListener(event, (e) => this.boundary.mapEvent(e));\n        });\n\n        this.eventMode = 'static';\n    }\n\n    // Pass through cursor\n    get cursor()\n    {\n        return this.boundary.cursor;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    set cursor(value)\n    {\n        throw new Error('The camera\\'s cursor is derived from its content!');\n    }\n\n    // Pass through calculateBounds\n    calculateBounds()\n    {\n        const contentBounds = this.content.getBounds();\n\n        this._bounds.addFrameMatrix(\n            this.worldTransform,\n            contentBounds.x,\n            contentBounds.y,\n            contentBounds.width,\n            contentBounds.height,\n        );\n    }\n\n    // Pass through containsPoint\n    containsPoint(point)\n    {\n        return !!this.boundary.hitTest(point.x, point.y);\n    }\n\n    // Render content with projection\n    render(renderer)\n    {\n        renderer.batch.flush();\n\n        const projectionSystem = renderer.projection;\n        const renderTextureSystem = renderer.renderTexture;\n\n        projectionSystem.transform = projectionSystem.transform || new PIXI.Matrix();\n        projectionSystem.transform.copyTo(this.originalTransform);\n        projectionSystem.transform.append(this.worldTransform);\n        projectionSystem.update(null, null, 1, !renderTextureSystem.current);\n\n        this.content.render(renderer);\n\n        renderer.batch.flush();\n\n        projectionSystem.transform.copyFrom(this.originalTransform);\n        projectionSystem.update(null, null, 1, !renderTextureSystem.current);\n    }\n\n    // updateTransform also updates content's transform\n    updateTransform()\n    {\n        super.updateTransform();\n\n        this.content.enableTempParent();\n        this.content.updateTransform();\n        this.content.disableTempParent(null);\n    }\n}\n\n// The projector\nconst projector = app.stage.addChild(new Projector());\n\n// Add coordinate axes!\nprojector.content.addChild(\n    new PIXI.Graphics()\n        .lineStyle({ color: 0, alpha: 0.2, width: 2 })\n        .moveTo(0, -300)\n        .lineTo(0, 600)\n        .moveTo(-100, 0)\n        .lineTo(700, 0),\n);\n\n// Construct the star Graphics\nconst stars = [1, 2, 3].map((i) => new PIXI.Graphics().beginFill(0xffffff, 0.75).drawStar(0, 0, 18 / i, (100 * i) / 2));\n\n// Place the stars\nstars[0].x = 0;\nstars[1].x = 200;\nstars[2].x = 500;\n\n// Add stars to the projector\nprojector.content.addChild(...stars);\n\n// Make projection x+100, y+300\nprojector.x = 100;\nprojector.y = 300;\nprojector.content.hitArea = new PIXI.Rectangle(-100, -300, app.screen.width, app.screen.height);\n// Make hit-area cover the whole screen so we can capture\n// pointermove everywhere!\nprojector.hitArea = projector.content.hitArea;\nprojector.content.eventMode = 'static';\n\n// Make stars interactive & add wheel handlers\nstars.forEach((star) =>\n{\n    // Make star interactive\n    star.eventMode = 'static';\n\n    // Set initial cursor\n    star.cursor = 'zoom-in';\n\n    // Add wheel rotation feedback\n    star.addEventListener('wheel', (e) =>\n    {\n        const scroll = Math.sign(e.deltaY) * Math.min(15, Math.abs(e.deltaY));\n\n        star.rotation += scroll / 100;\n    });\n\n    // Add click zoom-in/zoom-out handler\n    star.addEventListener('click', (e) =>\n    {\n        if (star.scale.x === 1)\n        {\n            star.scale.set(1.33);\n            star.cursor = 'zoom-out';\n        }\n        else\n        {\n            star.scale.set(1);\n            star.cursor = 'zoom-in';\n        }\n    });\n});\n\nPIXI.BitmapFont.from(\n    'coordinates',\n    {\n        fontFamily: 'Roboto',\n        fontSize: 16,\n        fill: '#272d37',\n    },\n    { chars: ['Global:() Screen-.,', ['0', '9']] },\n);\n\nconst coordinates = new PIXI.BitmapText('Global: (0, 0)\\nScreen: (0, 0)', {\n    fontName: 'coordinates',\n});\n\ncoordinates.x = 110;\ncoordinates.y = 550;\n\napp.stage.addChild(coordinates);\n\nprojector.content.addEventListener('pointermove', (e) =>\n{\n    const global = `(${e.global.x | 0}, ${e.global.y | 0})`;\n    const screen = `(${e.screen.x | 0}, ${e.screen.y | 0})`;\n\n    coordinates.text = `Global: ${global}\\nScreen: ${screen}`;\n});\n\nconst description = new PIXI.Text(\n    'The (0, 0) world coordinates for the content is located at the center of the first star!'\n        + '\\n  * Mouse wheel over stars to rotate them'\n        + '\\n  * Click to zoom in or out',\n    {\n        fontSize: 16,\n        fontFamily: 'Roboto',\n        fill: '#272d37',\n    },\n);\n\ndescription.position.set(110, 12);\n\napp.stage.addChild(description);\n",pointerTracker:"import * as PIXI from 'pixi.js';\n\n// In this a example, a circle will follow the pointer wherever it\n// moves over the canvas.\n\nconst app = new PIXI.Application({\n    antialias: true,\n    background: '#1099bb',\n});\n\ndocument.body.appendChild(app.view);\n\n// Create the circle\nconst circle = app.stage.addChild(\n    new PIXI.Graphics()\n        .beginFill(0xffffff)\n        .lineStyle({ color: 0x111111, alpha: 0.87, width: 1 })\n        .drawCircle(0, 0, 8)\n        .endFill(),\n);\n\ncircle.position.set(app.screen.width / 2, app.screen.height / 2);\n\n// Enable interactivity!\napp.stage.eventMode = 'static';\n\n// Make sure the whole canvas area is interactive, not just the circle.\napp.stage.hitArea = app.screen;\n\n// Follow the pointer\napp.stage.addEventListener('pointermove', (e) =>\n{\n    circle.position.copyFrom(e.global);\n});\n",slider:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({\n    antialias: true,\n    background: '#1099bb',\n});\n\ndocument.body.appendChild(app.view);\n\nconst stageHeight = app.screen.height;\nconst stageWidth = app.screen.width;\n\n// Make sure stage covers the whole scene\napp.stage.hitArea = app.screen;\n\n// Make the slider\nconst sliderWidth = 320;\nconst slider = new PIXI.Graphics().beginFill(0x272d37).drawRect(0, 0, sliderWidth, 4);\n\nslider.x = (stageWidth - sliderWidth) / 2;\nslider.y = stageHeight * 0.75;\n\n// Draw the handle\nconst handle = new PIXI.Graphics().beginFill(0xffffff).drawCircle(0, 0, 8);\n\nhandle.y = slider.height / 2;\nhandle.x = sliderWidth / 2;\nhandle.eventMode = 'static';\nhandle.cursor = 'pointer';\n\nhandle.on('pointerdown', onDragStart).on('pointerup', onDragEnd).on('pointerupoutside', onDragEnd);\n\napp.stage.addChild(slider);\nslider.addChild(handle);\n\n// Add bunny whose scale can be changed by user using slider\nconst bunny = app.stage.addChild(PIXI.Sprite.from('https://pixijs.com/assets/bunny.png'));\n\nbunny.texture.baseTexture.scaleMode = PIXI.SCALE_MODES.NEAREST;\nbunny.scale.set(3);\nbunny.anchor.set(0.5);\nbunny.x = stageWidth / 2;\nbunny.y = stageHeight / 2;\n\n// Add title\nconst title = new PIXI.Text('Drag the handle to change the scale of bunny.', {\n    fill: '#272d37',\n    fontFamily: 'Roboto',\n    fontSize: 20,\n    align: 'center',\n});\n\ntitle.roundPixels = true;\ntitle.x = stageWidth / 2;\ntitle.y = 40;\ntitle.anchor.set(0.5, 0);\napp.stage.addChild(title);\n\n// Listen to pointermove on stage once handle is pressed.\nfunction onDragStart()\n{\n    app.stage.eventMode = 'static';\n    app.stage.addEventListener('pointermove', onDrag);\n}\n\n// Stop dragging feedback once the handle is released.\nfunction onDragEnd(e)\n{\n    app.stage.eventMode = 'auto';\n    app.stage.removeEventListener('pointermove', onDrag);\n}\n\n// Update the handle's position & bunny's scale when the handle is moved.\nfunction onDrag(e)\n{\n    const halfHandleWidth = handle.width / 2;\n    // Set handle y-position to match pointer, clamped to (4, screen.height - 4).\n\n    handle.x = Math.max(halfHandleWidth, Math.min(slider.toLocal(e.global).x, sliderWidth - halfHandleWidth));\n    // Normalize handle position between -1 and 1.\n    const t = 2 * (handle.x / sliderWidth - 0.5);\n\n    bunny.scale.set(3 * (1.1 + t));\n}\n"},masks:{filter:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Inner radius of the circle\nconst radius = 100;\n\n// The blur amount\nconst blurSize = 32;\n\nPIXI.Assets.load('https://pixijs.com/assets/bg_grass.jpg').then((grassTexture) =>\n{\n    const background = new PIXI.Sprite(grassTexture);\n\n    app.stage.addChild(background);\n    background.width = app.screen.width;\n    background.height = app.screen.height;\n\n    const circle = new PIXI.Graphics()\n        .beginFill(0xff0000)\n        .drawCircle(radius + blurSize, radius + blurSize, radius)\n        .endFill();\n\n    circle.filters = [new PIXI.filters.BlurFilter(blurSize)];\n\n    const bounds = new PIXI.Rectangle(0, 0, (radius + blurSize) * 2, (radius + blurSize) * 2);\n    const texture = app.renderer.generateTexture(circle, PIXI.SCALE_MODES.NEAREST, 1, bounds);\n    const focus = new PIXI.Sprite(texture);\n\n    app.stage.addChild(focus);\n    background.mask = focus;\n\n    app.stage.eventMode = 'static';\n    app.stage.hitArea = app.screen;\n    app.stage.on('pointermove', (event) =>\n    {\n        focus.position.x = event.global.x - focus.width / 2;\n        focus.position.y = event.global.y - focus.height / 2;\n    });\n});\n",graphics:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ antialias: true, resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\napp.stage.eventMode = 'static';\n\nconst bg = PIXI.Sprite.from('https://pixijs.com/assets/bg_rotate.jpg');\n\nbg.anchor.set(0.5);\n\nbg.x = app.screen.width / 2;\nbg.y = app.screen.height / 2;\n\napp.stage.addChild(bg);\n\nconst container = new PIXI.Container();\n\ncontainer.x = app.screen.width / 2;\ncontainer.y = app.screen.height / 2;\n\n// add a bunch of sprites\nconst bgFront = PIXI.Sprite.from('https://pixijs.com/assets/bg_scene_rotate.jpg');\n\nbgFront.anchor.set(0.5);\n\nconst light2 = PIXI.Sprite.from('https://pixijs.com/assets/light_rotate_2.png');\n\nlight2.anchor.set(0.5);\n\nconst light1 = PIXI.Sprite.from('https://pixijs.com/assets/light_rotate_1.png');\n\nlight1.anchor.set(0.5);\n\nconst panda = PIXI.Sprite.from('https://pixijs.com/assets/panda.png');\n\npanda.anchor.set(0.5);\n\ncontainer.addChild(bgFront, light2, light1, panda);\n\napp.stage.addChild(container);\n\n// let's create a moving shape\nconst thing = new PIXI.Graphics();\n\napp.stage.addChild(thing);\nthing.x = app.screen.width / 2;\nthing.y = app.screen.height / 2;\nthing.lineStyle(0);\n\ncontainer.mask = thing;\n\nlet count = 0;\n\napp.stage.on('pointertap', () =>\n{\n    if (!container.mask)\n    {\n        container.mask = thing;\n    }\n    else\n    {\n        container.mask = null;\n    }\n});\n\nconst help = new PIXI.Text('Click or tap to turn masking on / off.', {\n    fontFamily: 'Arial',\n    fontSize: 12,\n    fontWeight: 'bold',\n    fill: 'white',\n});\n\nhelp.y = app.screen.height - 26;\nhelp.x = 10;\napp.stage.addChild(help);\n\napp.ticker.add(() =>\n{\n    bg.rotation += 0.01;\n    bgFront.rotation -= 0.01;\n\n    light1.rotation += 0.02;\n    light2.rotation += 0.01;\n\n    panda.scale.x = 1 + Math.sin(count) * 0.04;\n    panda.scale.y = 1 + Math.cos(count) * 0.04;\n\n    count += 0.1;\n\n    thing.clear();\n\n    thing.beginFill(0x8bc5ff, 0.4);\n    thing.moveTo(-120 + Math.sin(count) * 20, -100 + Math.cos(count) * 20);\n    thing.lineTo(120 + Math.cos(count) * 20, -100 + Math.sin(count) * 20);\n    thing.lineTo(120 + Math.sin(count) * 20, 100 + Math.cos(count) * 20);\n    thing.lineTo(-120 + Math.cos(count) * 20, 100 + Math.sin(count) * 20);\n    thing.rotation = count * 0.1;\n});\n",sprite:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\napp.stage.eventMode = 'static';\n\nconst bg = PIXI.Sprite.from('https://pixijs.com/assets/bg_plane.jpg');\n\napp.stage.addChild(bg);\n\nconst cells = PIXI.Sprite.from('https://pixijs.com/assets/cells.png');\n\ncells.scale.set(1.5);\n\nconst mask = PIXI.Sprite.from('https://pixijs.com/assets/flowerTop.png');\n\nmask.anchor.set(0.5);\nmask.x = 310;\nmask.y = 190;\n\ncells.mask = mask;\n\napp.stage.addChild(mask, cells);\n\nconst target = new PIXI.Point();\n\nreset();\n\nfunction reset()\n{\n    target.x = Math.floor(Math.random() * 550);\n    target.y = Math.floor(Math.random() * 300);\n}\n\napp.ticker.add(() =>\n{\n    mask.x += (target.x - mask.x) * 0.1;\n    mask.y += (target.y - mask.y) * 0.1;\n\n    if (Math.abs(mask.x - target.x) < 1)\n    {\n        reset();\n    }\n});\n"},textures:{gradientBasic:"import * as PIXI from 'pixi.js';\n\n// This demo uses canvas2d gradient API\n// https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/createLinearGradient\n\nconst app = new PIXI.Application({ antialias: true, resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nfunction createGradTexture()\n{\n    // adjust it if somehow you need better quality for very very big images\n    const quality = 256;\n    const canvas = document.createElement('canvas');\n\n    canvas.width = quality;\n    canvas.height = 1;\n\n    const ctx = canvas.getContext('2d');\n\n    // use canvas2d API to create gradient\n    const grd = ctx.createLinearGradient(0, 0, quality, 0);\n\n    grd.addColorStop(0, 'rgba(255, 255, 255, 0.0)');\n    grd.addColorStop(0.3, 'cyan');\n    grd.addColorStop(0.7, 'red');\n    grd.addColorStop(1, 'green');\n\n    ctx.fillStyle = grd;\n    ctx.fillRect(0, 0, quality, 1);\n\n    return PIXI.Texture.from(canvas);\n}\n\nconst gradTexture = createGradTexture();\n\nconst sprite = new PIXI.Sprite(gradTexture);\n\nsprite.position.set(100, 100);\nsprite.rotation = Math.PI / 8;\nsprite.width = 500;\nsprite.height = 50;\napp.stage.addChild(sprite);\n",gradientResource:"import * as PIXI from 'pixi.js';\n\n// PixiJS V5 Texture-Resource API + canvas2d gradient API + WebGL texImage2D\n// Look here for advanced upload function:\n// https://github.com/pixijs/pixi.js/blob/dev/packages/core/src/textures/resources/BaseImageResource.js#L54\n\nclass GradientResource extends PIXI.Resource\n{\n    constructor()\n    {\n        // pass width and height. (0,0) if we dont know yet\n        // gradient needs only 1 pixel height\n        super(256, 1);\n    }\n\n    upload(renderer, baseTexture, glTexture)\n    {\n        const { width } = this; // default size or from baseTexture?\n        const { height } = this; // your choice.\n\n        // temporary canvas, we dont need it after texture is uploaded to GPU\n        const canvas = document.createElement('canvas');\n\n        canvas.width = width;\n        canvas.height = height;\n\n        const ctx = canvas.getContext('2d');\n\n        const grd = ctx.createLinearGradient(0, 0, width, 0);\n\n        grd.addColorStop(0, 'rgba(255, 255, 255, 0.0)');\n        grd.addColorStop(0.3, 'cyan');\n        grd.addColorStop(0.7, 'red');\n        grd.addColorStop(1, 'green');\n\n        ctx.fillStyle = grd;\n        ctx.fillRect(0, 0, width, height);\n\n        // This info ios usseful if upload happens second time\n        // Some people use that to track used memory\n        glTexture.width = width;\n        glTexture.height = height;\n\n        // PURE WEBGL CALLS - that's what its all about.\n        // PixiJS cant wrap all that API, we give you acceess to it!\n        const { gl } = renderer;\n\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.premultiplyAlpha);\n        gl.texImage2D(baseTexture.target, 0, baseTexture.format, baseTexture.format, baseTexture.type, canvas);\n\n        return true;\n    }\n}\n\nconst app = new PIXI.Application({ antialias: true, resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst gradBaseTexture = new PIXI.BaseTexture(new GradientResource());\n// Here you can fake baseTexture size to avoid resizing all sprites\n// There can be multiple baseTextures per gradient, but be careful:\n// resource will spawn more glTextures!\n\ngradBaseTexture.setSize(500, 50);\n\nconst gradTexture = new PIXI.Texture(gradBaseTexture);\n\nconst sprite = new PIXI.Sprite(gradTexture);\n\nsprite.position.set(100, 100);\nsprite.rotation = Math.PI / 8;\napp.stage.addChild(sprite);\n",renderTextureAdvanced:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst stageSize = {\n    width: app.screen.width,\n    height: app.screen.height,\n};\n\n// create two render textures... these dynamic textures will be used to draw the scene into itself\nlet renderTexture = PIXI.RenderTexture.create(stageSize);\nlet renderTexture2 = PIXI.RenderTexture.create(stageSize);\nconst currentTexture = renderTexture;\n\n// create a new sprite that uses the render texture we created above\nconst outputSprite = new PIXI.Sprite(currentTexture);\n\n// align the sprite\noutputSprite.x = 400;\noutputSprite.y = 300;\noutputSprite.anchor.set(0.5);\n\n// add to stage\napp.stage.addChild(outputSprite);\n\nconst stuffContainer = new PIXI.Container();\n\nstuffContainer.x = 400;\nstuffContainer.y = 300;\n\napp.stage.addChild(stuffContainer);\n\n// create an array of image ids..\nconst fruits = [\n    'https://pixijs.com/assets/rt_object_01.png',\n    'https://pixijs.com/assets/rt_object_02.png',\n    'https://pixijs.com/assets/rt_object_03.png',\n    'https://pixijs.com/assets/rt_object_04.png',\n    'https://pixijs.com/assets/rt_object_05.png',\n    'https://pixijs.com/assets/rt_object_06.png',\n    'https://pixijs.com/assets/rt_object_07.png',\n    'https://pixijs.com/assets/rt_object_08.png',\n];\n\n// create an array of items\nconst items = [];\n\n// now create some items and randomly position them in the stuff container\nfor (let i = 0; i < 20; i++)\n{\n    const item = PIXI.Sprite.from(fruits[i % fruits.length]);\n\n    item.x = Math.random() * 400 - 200;\n    item.y = Math.random() * 400 - 200;\n    item.anchor.set(0.5);\n    stuffContainer.addChild(item);\n    items.push(item);\n}\n\n// used for spinning!\nlet count = 0;\n\napp.ticker.add(() =>\n{\n    for (let i = 0; i < items.length; i++)\n    {\n        // rotate each item\n        const item = items[i];\n\n        item.rotation += 0.1;\n    }\n\n    count += 0.01;\n\n    // swap the buffers ...\n    const temp = renderTexture;\n\n    renderTexture = renderTexture2;\n    renderTexture2 = temp;\n\n    // set the new texture\n    outputSprite.texture = renderTexture;\n\n    // twist this up!\n    stuffContainer.rotation -= 0.01;\n    outputSprite.scale.set(1 + Math.sin(count) * 0.2);\n\n    // render the stage to the texture\n    // the 'true' clears the texture before the content is rendered\n    app.renderer.render(app.stage, {\n        renderTexture: renderTexture2,\n        clear: false,\n    });\n});\n",renderTextureBasic:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst container = new PIXI.Container();\n\napp.stage.addChild(container);\n\nconst texture = PIXI.Texture.from('https://pixijs.com/assets/bunny.png');\n\nfor (let i = 0; i < 25; i++)\n{\n    const bunny = new PIXI.Sprite(texture);\n\n    bunny.x = (i % 5) * 30;\n    bunny.y = Math.floor(i / 5) * 30;\n    bunny.rotation = Math.random() * (Math.PI * 2);\n    container.addChild(bunny);\n}\n\nconst rt = PIXI.RenderTexture.create({\n    width: 300,\n    height: 300,\n    scaleMode: PIXI.SCALE_MODES.LINEAR,\n    resolution: 1,\n});\n\nconst sprite = new PIXI.Sprite(rt);\n\nsprite.x = 450;\nsprite.y = 60;\napp.stage.addChild(sprite);\n\n/*\n * All the bunnies are added to the container with the addChild method\n * when you do this, all the bunnies become children of the container, and when a container moves,\n * so do all its children.\n * This gives you a lot of flexibility and makes it easier to position elements on the screen\n */\ncontainer.x = 100;\ncontainer.y = 60;\n\napp.ticker.add(() =>\n{\n    app.renderer.render(container, { renderTexture: rt });\n});\n",textureRotate:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nPIXI.Assets.load('https://pixijs.com/assets/flowerTop.png').then((texture) =>\n{\n    // create rotated textures\n    const textures = [texture];\n    const D8 = PIXI.groupD8;\n\n    for (let rotate = 1; rotate < 16; rotate++)\n    {\n        const h = D8.isVertical(rotate) ? texture.frame.width : texture.frame.height;\n        const w = D8.isVertical(rotate) ? texture.frame.height : texture.frame.width;\n\n        const { frame } = texture;\n        const crop = new PIXI.Rectangle(texture.frame.x, texture.frame.y, w, h);\n        const trim = crop;\n        let rotatedTexture;\n\n        if (rotate % 2 === 0)\n        {\n            rotatedTexture = new PIXI.Texture(texture.baseTexture, frame, crop, trim, rotate);\n        }\n        else\n        {\n            // HACK to avoid exception\n            // PIXI doesnt like diamond-shaped UVs, because they are different in canvas and webgl\n            rotatedTexture = new PIXI.Texture(texture.baseTexture, frame, crop, trim, rotate - 1);\n            rotatedTexture.rotate++;\n        }\n        textures.push(rotatedTexture);\n    }\n\n    const offsetX = (app.screen.width / 16) | 0;\n    const offsetY = (app.screen.height / 8) | 0;\n    const gridW = (app.screen.width / 4) | 0;\n    const gridH = (app.screen.height / 5) | 0;\n\n    // normal rotations and mirrors\n    for (let i = 0; i < 16; i++)\n    {\n        // create a new Sprite using rotated texture\n        const dude = new PIXI.Sprite(textures[i < 8 ? i * 2 : (i - 8) * 2 + 1]);\n\n        dude.scale.x = 0.5;\n        dude.scale.y = 0.5;\n        // show it in grid\n        dude.x = offsetX + gridW * (i % 4);\n        dude.y = offsetY + gridH * ((i / 4) | 0);\n        app.stage.addChild(dude);\n        const text = new PIXI.Text(`rotate = ${dude.texture.rotate}`, {\n            fontFamily: 'Courier New',\n            fontSize: '12px',\n            fill: 'white',\n            align: 'left',\n        });\n\n        text.x = dude.x;\n        text.y = dude.y - 20;\n        app.stage.addChild(text);\n    }\n});\n"},assets:{async:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// await can only be used inside an async function\nasync function init()\n{\n    const texture = await PIXI.Assets.load('https://pixijs.com/assets/bunny.png');\n\n    // create a new Sprite from the awaited loaded Texture\n    const bunny = PIXI.Sprite.from(texture);\n\n    // center the sprite's anchor point\n    bunny.anchor.set(0.5);\n\n    // move the sprite to the center of the screen\n    bunny.x = app.screen.width / 2;\n    bunny.y = app.screen.height / 2;\n\n    app.stage.addChild(bunny);\n}\n\n// Call that async function\ninit();\n",background:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Add the assets to load\nPIXI.Assets.add('flowerTop', 'https://pixijs.com/assets/flowerTop.png');\nPIXI.Assets.add('eggHead', 'https://pixijs.com/assets/eggHead.png');\n\n// Allow the assets to load in the background\nPIXI.Assets.backgroundLoad(['flowerTop', 'eggHead']);\n\n// If the background load hasn't loaded this asset yet, calling load forces this asset to load now.\nPIXI.Assets.load('eggHead').then((texture) =>\n{\n    // auxiliar flag for toggling the texture\n    let isEggHead = true;\n\n    // create a new Sprite from the resolved loaded texture\n    const character = new PIXI.Sprite(texture);\n\n    character.anchor.set(0.5);\n    character.x = app.screen.width / 2;\n    character.y = app.screen.height / 2;\n    character.eventMode = 'static';\n    character.cursor = 'pointer';\n\n    app.stage.addChild(character);\n\n    character.on('pointertap', async () =>\n    {\n        isEggHead = !isEggHead;\n        // These promise are already resolved in the cache.\n        character.texture = await PIXI.Assets.load(isEggHead ? 'eggHead' : 'flowerTop');\n    });\n});\n",bundle:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nasync function init()\n{\n    // manifest example\n    const manifestExample = {\n        bundles: [\n            {\n                name: 'load-screen',\n                assets: [\n                    {\n                        name: 'flowerTop',\n                        srcs: 'https://pixijs.com/assets/flowerTop.png',\n                    },\n                ],\n            },\n            {\n                name: 'game-screen',\n                assets: [\n                    {\n                        name: 'eggHead',\n                        srcs: 'https://pixijs.com/assets/eggHead.png',\n                    },\n                ],\n            },\n        ],\n    };\n\n    await PIXI.Assets.init({ manifest: manifestExample });\n\n    // bundles can be loaded in the background too!\n    PIXI.Assets.backgroundLoadBundle(['load-screen', 'game-screen']);\n\n    makeLoadScreen();\n}\n\nasync function makeLoadScreen()\n{\n    // get the assets from the load screen bundle.\n    // If the bundle was already downloaded the promise resolves instantly!\n    const loadScreenAssets = await PIXI.Assets.loadBundle('load-screen');\n\n    // create a new Sprite from the resolved loaded texture\n    const goNext = new PIXI.Sprite(loadScreenAssets.flowerTop);\n\n    goNext.anchor.set(0.5);\n    goNext.x = app.screen.width / 2;\n    goNext.y = app.screen.height / 2;\n    app.stage.addChild(goNext);\n\n    goNext.eventMode = 'static';\n    goNext.cursor = 'pointer';\n\n    goNext.on('pointertap', async () =>\n    {\n        goNext.destroy();\n        makeGameScreen();\n    });\n}\n\nasync function makeGameScreen()\n{\n    // Wait here until you get the assets\n    // If the user spends enough time in the load screen by the time they reach the game screen\n    // the assets are completely loaded and the promise resolves instantly!\n    const loadScreenAssets = await PIXI.Assets.loadBundle('game-screen');\n\n    // create a new Sprite from the resolved loaded texture\n    const goBack = new PIXI.Sprite(loadScreenAssets.eggHead);\n\n    goBack.anchor.set(0.5);\n    goBack.x = app.screen.width / 2;\n    goBack.y = app.screen.height / 2;\n    app.stage.addChild(goBack);\n\n    goBack.eventMode = 'static';\n    goBack.cursor = 'pointer';\n\n    goBack.on('pointertap', async () =>\n    {\n        goBack.destroy();\n        // The user can go back and the files are already downloaded\n        makeLoadScreen();\n    });\n}\n\ninit();\n",multiple:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Add the assets to load\nPIXI.Assets.add('flowerTop', 'https://pixijs.com/assets/flowerTop.png');\nPIXI.Assets.add('eggHead', 'https://pixijs.com/assets/eggHead.png');\n\n// Load the assets and get a resolved promise once both are loaded\nconst texturesPromise = PIXI.Assets.load(['flowerTop', 'eggHead']); // => Promise<{flowerTop: Texture, eggHead: Texture}>\n\n// When the promise resolves, we have the texture!\ntexturesPromise.then((textures) =>\n{\n    // create a new Sprite from the resolved loaded Textures\n\n    const flower = PIXI.Sprite.from(textures.flowerTop);\n\n    flower.anchor.set(0.5);\n    flower.x = app.screen.width * 0.25;\n    flower.y = app.screen.height / 2;\n    app.stage.addChild(flower);\n\n    const egg = PIXI.Sprite.from(textures.eggHead);\n\n    egg.anchor.set(0.5);\n    egg.x = app.screen.width * 0.75;\n    egg.y = app.screen.height / 2;\n    app.stage.addChild(egg);\n});\n",promise:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Start loading right away and create a promise\nconst texturePromise = PIXI.Assets.load('https://pixijs.com/assets/bunny.png');\n\n// When the promise resolves, we have the texture!\ntexturePromise.then((resolvedTexture) =>\n{\n    // create a new Sprite from the resolved loaded Texture\n    const bunny = PIXI.Sprite.from(resolvedTexture);\n\n    // center the sprite's anchor point\n    bunny.anchor.set(0.5);\n\n    // move the sprite to the center of the screen\n    bunny.x = app.screen.width / 2;\n    bunny.y = app.screen.height / 2;\n\n    app.stage.addChild(bunny);\n});\n"},offscreenCanvas:{basic:"import * as PIXI from 'pixi.js';\n\n// This example is the based on basic/container, but using OffscreenCanvas.\n\nconst canvas = document.createElement('canvas');\nconst view = canvas.transferControlToOffscreen();\n\nconst app = new PIXI.Application({ view, background: 0x1099bb, resizeTo: window });\n\ndocument.body.appendChild(canvas);\n\nconst container = new PIXI.Container();\n\napp.stage.addChild(container);\n\n// Create a new texture\nconst texture = PIXI.Texture.from('https://pixijs.com/assets/bunny.png');\n\n// Create a 5x5 grid of bunnies\nfor (let i = 0; i < 25; i++)\n{\n    const bunny = new PIXI.Sprite(texture);\n\n    bunny.anchor.set(0.5);\n    bunny.x = (i % 5) * 40;\n    bunny.y = Math.floor(i / 5) * 40;\n    container.addChild(bunny);\n}\n\n// Move container to the center\ncontainer.x = app.screen.width / 2;\ncontainer.y = app.screen.height / 2;\n\n// Center bunny sprite in local container coordinates\ncontainer.pivot.x = container.width / 2;\ncontainer.pivot.y = container.height / 2;\n\n// Listen for animate update\napp.ticker.add((delta) =>\n{\n    // rotate the container!\n    // use delta to create frame-independent transform\n    container.rotation -= 0.01 * delta;\n});\n",webWorker:"import * as PIXI from '@pixi/webworker';\n\n// This example is the based on basic/container, but running in Web Worker.\n\nfunction workerSource(self)\n{\n    self.onmessage = async ({ data: { baseUrl, pixiWebWorkerUrl, options } }) =>\n    {\n        self.importScripts(new URL(pixiWebWorkerUrl, baseUrl));\n\n        const app = new PIXI.Application(options);\n\n        document.body.appendChild(app.view);\n\n        const container = new PIXI.Container();\n\n        app.stage.addChild(container);\n\n        // Create a new texture\n        const textureUrl = new URL('https://pixijs.com/assets/bunny.png', baseUrl).toString();\n        const texture = PIXI.Texture.from(textureUrl);\n\n        // Create a 5x5 grid of bunnies\n        for (let i = 0; i < 25; i++)\n        {\n            const bunny = new PIXI.Sprite(texture);\n\n            bunny.anchor.set(0.5);\n            bunny.x = (i % 5) * 40;\n            bunny.y = Math.floor(i / 5) * 40;\n            container.addChild(bunny);\n        }\n\n        // Move container to the center\n        container.x = app.screen.width / 2;\n        container.y = app.screen.height / 2;\n\n        // Center bunny sprite in local container coordinates\n        container.pivot.x = container.width / 2;\n        container.pivot.y = container.height / 2;\n\n        // Listen for animate update\n        app.ticker.add((delta) =>\n        {\n            // rotate the container!\n            // use delta to create frame-independent transform\n            container.rotation -= 0.01 * delta;\n        });\n    };\n}\n\nconst blob = new Blob(['(', workerSource, ')(self);'], { type: 'application/javascript' });\n\nconst url = URL.createObjectURL(blob);\nconst worker = new Worker(url);\n\nURL.revokeObjectURL(url);\n\nconst width = 800;\nconst height = 600;\nconst resolution = window.devicePixelRatio;\nconst canvas = document.createElement('canvas');\n\ncanvas.style.width = `${width}px`;\ncanvas.style.height = `${height}px`;\nconst view = canvas.transferControlToOffscreen();\n\nconst baseUrl = window.location.href;\nconst pixiWebWorkerUrl = window.PIXI_WEBWORKER_URL;\n\nworker.postMessage(\n    {\n        baseUrl,\n        pixiWebWorkerUrl,\n        options: {\n            width,\n            height,\n            resolution,\n            view,\n            background: 0x1099bb,\n        },\n    },\n    [view],\n);\n"},filtersBasic:{blur:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst bg = PIXI.Sprite.from('https://pixijs.com/assets/pixi-filters/bg_depth_blur.jpg');\n\nbg.width = app.screen.width;\nbg.height = app.screen.height;\napp.stage.addChild(bg);\n\nconst littleDudes = PIXI.Sprite.from('https://pixijs.com/assets/pixi-filters/depth_blur_dudes.jpg');\n\nlittleDudes.x = app.screen.width / 2 - 315;\nlittleDudes.y = 200;\napp.stage.addChild(littleDudes);\n\nconst littleRobot = PIXI.Sprite.from('https://pixijs.com/assets/pixi-filters/depth_blur_moby.jpg');\n\nlittleRobot.x = app.screen.width / 2 - 200;\nlittleRobot.y = 100;\napp.stage.addChild(littleRobot);\n\nconst blurFilter1 = new PIXI.filters.BlurFilter();\nconst blurFilter2 = new PIXI.filters.BlurFilter();\n\nlittleDudes.filters = [blurFilter1];\nlittleRobot.filters = [blurFilter2];\n\nlet count = 0;\n\napp.ticker.add(() =>\n{\n    count += 0.005;\n\n    const blurAmount = Math.cos(count);\n    const blurAmount2 = Math.sin(count);\n\n    blurFilter1.blur = 20 * blurAmount;\n    blurFilter2.blur = 20 * blurAmount2;\n});\n",colorMatrix:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\napp.stage.eventMode = 'static';\n\nconst bg = PIXI.Sprite.from('https://pixijs.com/assets/bg_rotate.jpg');\n\nbg.anchor.set(0.5);\n\nbg.x = app.screen.width / 2;\nbg.y = app.screen.height / 2;\n\nconst filter = new PIXI.filters.ColorMatrixFilter();\n\nconst container = new PIXI.Container();\n\ncontainer.x = app.screen.width / 2;\ncontainer.y = app.screen.height / 2;\n\nconst bgFront = PIXI.Sprite.from('https://pixijs.com/assets/bg_scene_rotate.jpg');\n\nbgFront.anchor.set(0.5);\n\ncontainer.addChild(bgFront);\n\nconst light2 = PIXI.Sprite.from('https://pixijs.com/assets/light_rotate_2.png');\n\nlight2.anchor.set(0.5);\ncontainer.addChild(light2);\n\nconst light1 = PIXI.Sprite.from('https://pixijs.com/assets/light_rotate_1.png');\n\nlight1.anchor.set(0.5);\ncontainer.addChild(light1);\n\nconst panda = PIXI.Sprite.from('https://pixijs.com/assets/panda.png');\n\npanda.anchor.set(0.5);\n\ncontainer.addChild(panda);\n\napp.stage.addChild(container);\n\napp.stage.filters = [filter];\n\nlet count = 0;\nlet enabled = true;\n\napp.stage.on('pointertap', () =>\n{\n    enabled = !enabled;\n    app.stage.filters = enabled ? [filter] : null;\n});\n\nconst help = new PIXI.Text('Click or tap to turn filters on / off.', {\n    fontFamily: 'Arial',\n    fontSize: 12,\n    fontWeight: 'bold',\n    fill: 'white',\n});\n\nhelp.y = app.screen.height - 25;\nhelp.x = 10;\n\napp.stage.addChild(help);\n\napp.ticker.add((delta) =>\n{\n    bg.rotation += 0.01;\n    bgFront.rotation -= 0.01;\n    light1.rotation += 0.02;\n    light2.rotation += 0.01;\n\n    panda.scale.x = 1 + Math.sin(count) * 0.04;\n    panda.scale.y = 1 + Math.cos(count) * 0.04;\n\n    count += 0.1;\n\n    const { matrix } = filter;\n\n    matrix[1] = Math.sin(count) * 3;\n    matrix[2] = Math.cos(count);\n    matrix[3] = Math.cos(count) * 1.5;\n    matrix[4] = Math.sin(count / 3) * 2;\n    matrix[5] = Math.sin(count / 2);\n    matrix[6] = Math.sin(count / 4);\n});\n",displacementMapCrawlies:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\napp.stage.eventMode = 'static';\n\nconst container = new PIXI.Container();\n\napp.stage.addChild(container);\n\nconst padding = 100;\nconst bounds = new PIXI.Rectangle(-padding, -padding, app.screen.width + padding * 2, app.screen.height + padding * 2);\nconst maggots = [];\n\nfor (let i = 0; i < 20; i++)\n{\n    const maggot = PIXI.Sprite.from('https://pixijs.com/assets/maggot.png');\n\n    maggot.anchor.set(0.5);\n    container.addChild(maggot);\n\n    maggot.direction = Math.random() * Math.PI * 2;\n    maggot.speed = 1;\n    maggot.turnSpeed = Math.random() - 0.8;\n\n    maggot.x = Math.random() * bounds.width;\n    maggot.y = Math.random() * bounds.height;\n\n    maggot.scale.set(1 + Math.random() * 0.3);\n    maggot.original = new PIXI.Point();\n    maggot.original.copyFrom(maggot.scale);\n    maggots.push(maggot);\n}\n\nconst displacementSprite = PIXI.Sprite.from('https://pixijs.com/assets/pixi-filters/displace.png');\nconst displacementFilter = new PIXI.filters.DisplacementFilter(displacementSprite);\n\napp.stage.addChild(displacementSprite);\n\ncontainer.filters = [displacementFilter];\n\ndisplacementFilter.scale.x = 110;\ndisplacementFilter.scale.y = 110;\ndisplacementSprite.anchor.set(0.5);\n\nconst ring = PIXI.Sprite.from('https://pixijs.com/assets/pixi-filters/ring.png');\n\nring.anchor.set(0.5);\n\nring.visible = false;\n\napp.stage.addChild(ring);\n\nconst bg = PIXI.Sprite.from('https://pixijs.com/assets/bg_grass.jpg');\n\nbg.width = app.screen.width;\nbg.height = app.screen.height;\n\nbg.alpha = 0.4;\n\ncontainer.addChild(bg);\n\napp.stage.on('mousemove', onPointerMove).on('touchmove', onPointerMove);\n\nfunction onPointerMove(eventData)\n{\n    ring.visible = true;\n\n    displacementSprite.position.set(eventData.data.global.x - 25, eventData.data.global.y);\n    ring.position.copyFrom(displacementSprite.position);\n}\n\nlet count = 0;\n\napp.ticker.add(() =>\n{\n    count += 0.05;\n\n    for (let i = 0; i < maggots.length; i++)\n    {\n        const maggot = maggots[i];\n\n        maggot.direction += maggot.turnSpeed * 0.01;\n        maggot.x += Math.sin(maggot.direction) * maggot.speed;\n        maggot.y += Math.cos(maggot.direction) * maggot.speed;\n\n        maggot.rotation = -maggot.direction - Math.PI / 2;\n        maggot.scale.x = maggot.original.x + Math.sin(count) * 0.2;\n\n        // wrap the maggots around as the crawl\n        if (maggot.x < bounds.x)\n        {\n            maggot.x += bounds.width;\n        }\n        else if (maggot.x > bounds.x + bounds.width)\n        {\n            maggot.x -= bounds.width;\n        }\n\n        if (maggot.y < bounds.y)\n        {\n            maggot.y += bounds.height;\n        }\n        else if (maggot.y > bounds.y + bounds.height)\n        {\n            maggot.y -= bounds.height;\n        }\n    }\n});\n",displacementMapFlag:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\napp.stage.eventMode = 'static';\n\nconst container = new PIXI.Container();\n\napp.stage.addChild(container);\n\nconst flag = PIXI.Sprite.from('https://pixijs.com/assets/pixi-filters/flag.png');\n\ncontainer.addChild(flag);\nflag.x = 100;\nflag.y = 100;\n\nconst displacementSprite = PIXI.Sprite.from('https://pixijs.com/assets/pixi-filters/displacement_map_repeat.jpg');\n// Make sure the sprite is wrapping.\n\ndisplacementSprite.texture.baseTexture.wrapMode = PIXI.WRAP_MODES.REPEAT;\nconst displacementFilter = new PIXI.filters.DisplacementFilter(displacementSprite);\n\ndisplacementFilter.padding = 10;\n\ndisplacementSprite.position = flag.position;\n\napp.stage.addChild(displacementSprite);\n\nflag.filters = [displacementFilter];\n\ndisplacementFilter.scale.x = 30;\ndisplacementFilter.scale.y = 60;\n\napp.ticker.add(() =>\n{\n    // Offset the sprite position to make vFilterCoord update to larger value.\n    // Repeat wrapping makes sure there's still pixels on the coordinates.\n    displacementSprite.x++;\n    // Reset x to 0 when it's over width to keep values from going to very huge numbers.\n    if (displacementSprite.x > displacementSprite.width)\n    {\n        displacementSprite.x = 0;\n    }\n});\n"},filtersAdvanced:{custom:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Create background image\nconst background = PIXI.Sprite.from('https://pixijs.com/assets/bg_grass.jpg');\n\nbackground.width = app.screen.width;\nbackground.height = app.screen.height;\napp.stage.addChild(background);\n\n// Stop application wait for load to finish\napp.stop();\n\nfetch('https://pixijs.com/assets/pixi-filters/shader.frag')\n    .then((res) => res.text())\n    .then(onLoaded);\n\nlet filter;\n\n// Handle the load completed\nfunction onLoaded(data)\n{\n    // Create the new filter, arguments: (vertexShader, framentSource)\n    filter = new PIXI.Filter(null, data, {\n        customUniform: 0.0,\n    });\n\n    // === WARNING ===\n    // specify uniforms in filter constructor\n    // or set them BEFORE first use\n    // filter.uniforms.customUniform = 0.0\n\n    // Add the filter\n    background.filters = [filter];\n\n    // Resume application update\n    app.start();\n}\n\n// Animate the filter\napp.ticker.add((delta) =>\n{\n    filter.uniforms.customUniform += 0.04 * delta;\n});\n",mouseBlending:"import * as PIXI from 'pixi.js';\n\n/**\n * https://github.com/pixijs/pixi.js/wiki/v5-Creating-Filters\n */\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Create background image\nconst background = PIXI.Sprite.from('https://pixijs.com/assets/bg_grass.jpg');\n\nbackground.width = app.screen.width;\nbackground.height = app.screen.height;\napp.stage.addChild(background);\n\n// NOTE: this shader wont work on old devices where mediump precision is forced in fragment shader\n// because v5 default vertex shader uses `inputSize` in it. Same uniform in fragment and vertex shader\n// cant have different precision :(\n\nconst shaderFrag = `\nprecision highp float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec2 mouse;\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\nuniform float time;\n\nvoid main() {\n  vec2 screenPos = vTextureCoord * inputSize.xy + outputFrame.xy;\n  if (length(mouse - screenPos) < 25.0) {\n      gl_FragColor = vec4(1.0, 1.0, 0.0, 1.0) * 0.7; //yellow circle, alpha=0.7\n  } else {\n      // blend with underlying image, alpha=0.5\n      gl_FragColor = vec4( sin(time), (mouse.xy - outputFrame.xy) / outputFrame.zw, 1.0) * 0.5;\n  }\n}\n`;\n\nconst container = new PIXI.Container();\n\ncontainer.filterArea = new PIXI.Rectangle(100, 100, app.screen.width - 200, app.screen.height - 200);\napp.stage.addChild(container);\nconst filter = new PIXI.Filter(null, shaderFrag, {\n    mouse: new PIXI.Point(),\n});\n\ncontainer.filters = [filter];\n\napp.stage.hitArea = app.screen;\napp.stage.eventMode = 'static';\napp.stage.on('pointermove', (event) =>\n{\n    filter.uniforms.mouse.copyFrom(event.global);\n});\n",shaderToyFilterRenderTexture:"import * as PIXI from 'pixi.js';\n\n/**\n * Please note that this is not the most optimal way of doing pure shader generated rendering and should be used when the\n * scene is wanted as input texture. Check the mesh version of example for more performant version if you need only shader\n * generated content.\n **/\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nPIXI.Assets.load('https://pixijs.com/assets/perlin.jpg').then(onAssetsLoaded);\n\nlet filter = null;\n\nconst text = new PIXI.Text('PixiJS', { fill: 0xffffff, fontSize: 80 });\n\ntext.anchor.set(0.5, 0.5);\ntext.position.set(app.renderer.screen.width / 2, app.renderer.screen.height / 2);\n\napp.stage.addChild(text);\n\nlet totalTime = 0;\n\n// Fragment shader, in real use this would be much cleaner when loaded from a file\n// or embedded into the application as data resource.\nconst fragment = `//Based on this: https://www.shadertoy.com/view/wtlSWX\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D noise;\nuniform float time;\n// Distance function. Just calculates the height (z) from x,y plane with really simple length check.\n// Its not exact as there could be shorter distances.\nvec2 dist(vec3 p)\n{\n  float id = floor(p.x)+floor(p.y);\n  id = mod(id, 2.);\n  float h = texture2D(noise, vec2(p.x, p.y)*0.04).r*5.1;\n  float h2 = texture2D(uSampler, vTextureCoord).r;\n  return vec2(h+h2-p.z,id);\n}\n//Light calculation.\nvec3 calclight(vec3 p, vec3 rd)\n{\n  vec2 eps = vec2( 0., 0.001);\n  vec3 n = normalize( vec3(\n    dist(p+eps.yxx).x - dist(p-eps.yxx).x,\n    dist(p+eps.xyx).x - dist(p-eps.xyx).x,\n    dist(p+eps.xxy).x - dist(p-eps.xxy).x\n  ));\n\n  vec3 d = vec3( max( 0., dot( -rd ,n)));\n\n  return d;\n}\n\nvoid main()\n{\n  vec2 uv = vec2(vTextureCoord.x, 1.-vTextureCoord.y);\n  uv *=2.;\n  uv-=1.;\n\n  vec3 cam = vec3(0.,time -2., -3.);\n  vec3 target = vec3(sin(time)*0.1, time+cos(time)+2., 0. );\n  float fov = 2.2;\n  vec3 forward = normalize( target - cam);\n  vec3 up = normalize(cross( forward, vec3(0., 1.,0.)));\n  vec3 right = normalize( cross( up, forward));\n  vec3 raydir = normalize(vec3( uv.x *up + uv.y * right + fov*forward));\n\n  //Do the raymarch\n  vec3 col = vec3(0.);\n  float t = 0.;\n  for( int i = 0; i < 100; i++)\n  {\n    vec3 p = t * raydir + cam;\n    vec2 d = dist(p);\n    t+=d.x*0.5;//Jump only half of the distance as height function used is not really the best for heightmaps.\n    if(d.x < 0.001)\n    {\n      vec3 bc = d.y < 0.5 ? vec3(1.0, .8, 0.) :\n                vec3(0.8,0.0, 1.0);\n      col = vec3( 1.) * calclight(p, raydir) * (1. - t/150.) *bc;\n      break;\n    }\n    if(t > 1000.)\n    {\n      break;\n    }\n  }\n  gl_FragColor = vec4(col, 1.);\n}\n`;\n\nfunction onAssetsLoaded(perlin)\n{\n    // Add perlin noise for filter, make sure it's wrapping and does not have mipmap.\n    perlin.baseTexture.wrapMode = PIXI.WRAP_MODES.REPEAT;\n    perlin.baseTexture.mipmap = false;\n\n    // Build the filter\n    filter = new PIXI.Filter(null, fragment, {\n        time: 0.0,\n        noise: perlin,\n    });\n    app.stage.filterArea = app.renderer.screen;\n    app.stage.filters = [filter];\n\n    // Listen for animate update.\n    app.ticker.add((delta) =>\n    {\n        filter.uniforms.time = totalTime;\n        totalTime += delta / 60;\n    });\n}\n"},advanced:{collisionDetection:"import * as PIXI from 'pixi.js';\n\n// Based somewhat on this article by Spicy Yoghurt\n// URL for further reading: https://spicyyoghurt.com/tutorials/html5-javascript-game-development/collision-detection-physics\nconst app = new PIXI.Application({ background: '#111', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Options for how objects interact\n// How fast the red square moves\nconst movementSpeed = 0.05;\n\n// Strength of the impulse push between two objects\nconst impulsePower = 5;\n\n// Test For Hit\n// A basic AABB check between two different squares\nfunction testForAABB(object1, object2)\n{\n    const bounds1 = object1.getBounds();\n    const bounds2 = object2.getBounds();\n\n    return (\n        bounds1.x < bounds2.x + bounds2.width\n        && bounds1.x + bounds1.width > bounds2.x\n        && bounds1.y < bounds2.y + bounds2.height\n        && bounds1.y + bounds1.height > bounds2.y\n    );\n}\n\n// Calculates the results of a collision, allowing us to give an impulse that\n// shoves objects apart\nfunction collisionResponse(object1, object2)\n{\n    if (!object1 || !object2)\n    {\n        return new PIXI.Point(0);\n    }\n\n    const vCollision = new PIXI.Point(object2.x - object1.x, object2.y - object1.y);\n\n    const distance = Math.sqrt(\n        (object2.x - object1.x) * (object2.x - object1.x) + (object2.y - object1.y) * (object2.y - object1.y),\n    );\n\n    const vCollisionNorm = new PIXI.Point(vCollision.x / distance, vCollision.y / distance);\n\n    const vRelativeVelocity = new PIXI.Point(\n        object1.acceleration.x - object2.acceleration.x,\n        object1.acceleration.y - object2.acceleration.y,\n    );\n\n    const speed = vRelativeVelocity.x * vCollisionNorm.x + vRelativeVelocity.y * vCollisionNorm.y;\n\n    const impulse = (impulsePower * speed) / (object1.mass + object2.mass);\n\n    return new PIXI.Point(impulse * vCollisionNorm.x, impulse * vCollisionNorm.y);\n}\n\n// Calculate the distance between two given points\nfunction distanceBetweenTwoPoints(p1, p2)\n{\n    const a = p1.x - p2.x;\n    const b = p1.y - p2.y;\n\n    return Math.hypot(a, b);\n}\n\n// The green square we will knock about\nconst greenSquare = new PIXI.Sprite(PIXI.Texture.WHITE);\n\ngreenSquare.position.set((app.screen.width - 100) / 2, (app.screen.height - 100) / 2);\ngreenSquare.width = 100;\ngreenSquare.height = 100;\ngreenSquare.tint = 0x00ff00;\ngreenSquare.acceleration = new PIXI.Point(0);\ngreenSquare.mass = 3;\n\n// The square you move around\nconst redSquare = new PIXI.Sprite(PIXI.Texture.WHITE);\n\nredSquare.position.set(0, 0);\nredSquare.width = 100;\nredSquare.height = 100;\nredSquare.tint = 0xff0000;\nredSquare.acceleration = new PIXI.Point(0);\nredSquare.mass = 1;\n\nconst mouseCoords = { x: 0, y: 0 };\n\napp.stage.eventMode = 'static';\napp.stage.hitArea = app.screen;\napp.stage.on('mousemove', (event) =>\n{\n    mouseCoords.x = event.global.x;\n    mouseCoords.y = event.global.y;\n});\n\n// Listen for animate update\napp.ticker.add((delta) =>\n{\n    // Applied deacceleration for both squares, done by reducing the\n    // acceleration by 0.01% of the acceleration every loop\n    redSquare.acceleration.set(redSquare.acceleration.x * 0.99, redSquare.acceleration.y * 0.99);\n    greenSquare.acceleration.set(greenSquare.acceleration.x * 0.99, greenSquare.acceleration.y * 0.99);\n\n    // Check whether the green square ever moves off the screen\n    // If so, reverse acceleration in that direction\n    if (greenSquare.x < 0 || greenSquare.x > app.screen.width - 100)\n    {\n        greenSquare.acceleration.x = -greenSquare.acceleration.x;\n    }\n\n    if (greenSquare.y < 0 || greenSquare.y > app.screen.height - 100)\n    {\n        greenSquare.acceleration.y = -greenSquare.acceleration.y;\n    }\n\n    // If the green square pops out of the cordon, it pops back into the\n    // middle\n    if (\n        greenSquare.x < -30\n        || greenSquare.x > app.screen.width + 30\n        || greenSquare.y < -30\n        || greenSquare.y > app.screen.height + 30\n    )\n    {\n        greenSquare.position.set((app.screen.width - 100) / 2, (app.screen.height - 100) / 2);\n    }\n\n    // If the mouse is off screen, then don't update any further\n    if (app.screen.width > mouseCoords.x || mouseCoords.x > 0 || app.screen.height > mouseCoords.y || mouseCoords.y > 0)\n    {\n        // Get the red square's center point\n        const redSquareCenterPosition = new PIXI.Point(\n            redSquare.x + redSquare.width * 0.5,\n            redSquare.y + redSquare.height * 0.5,\n        );\n\n        // Calculate the direction vector between the mouse pointer and\n        // the red square\n        const toMouseDirection = new PIXI.Point(\n            mouseCoords.x - redSquareCenterPosition.x,\n            mouseCoords.y - redSquareCenterPosition.y,\n        );\n\n        // Use the above to figure out the angle that direction has\n        const angleToMouse = Math.atan2(toMouseDirection.y, toMouseDirection.x);\n\n        // Figure out the speed the square should be travelling by, as a\n        // function of how far away from the mouse pointer the red square is\n        const distMouseRedSquare = distanceBetweenTwoPoints(mouseCoords, redSquareCenterPosition);\n        const redSpeed = distMouseRedSquare * movementSpeed;\n\n        // Calculate the acceleration of the red square\n        redSquare.acceleration.set(Math.cos(angleToMouse) * redSpeed, Math.sin(angleToMouse) * redSpeed);\n    }\n\n    // If the two squares are colliding\n    if (testForAABB(greenSquare, redSquare))\n    {\n        // Calculate the changes in acceleration that should be made between\n        // each square as a result of the collision\n        const collisionPush = collisionResponse(greenSquare, redSquare);\n        // Set the changes in acceleration for both squares\n\n        redSquare.acceleration.set(collisionPush.x * greenSquare.mass, collisionPush.y * greenSquare.mass);\n        greenSquare.acceleration.set(-(collisionPush.x * redSquare.mass), -(collisionPush.y * redSquare.mass));\n    }\n\n    greenSquare.x += greenSquare.acceleration.x * delta;\n    greenSquare.y += greenSquare.acceleration.y * delta;\n\n    redSquare.x += redSquare.acceleration.x * delta;\n    redSquare.y += redSquare.acceleration.y * delta;\n});\n\n// Add to stage\napp.stage.addChild(redSquare, greenSquare);\n",mouseTrail:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Get the texture for rope.\nconst trailTexture = PIXI.Texture.from('https://pixijs.com/assets/trail.png');\nconst historyX = [];\nconst historyY = [];\n// historySize determines how long the trail will be.\nconst historySize = 20;\n// ropeSize determines how smooth the trail will be.\nconst ropeSize = 100;\nconst points = [];\n\n// Create history array.\nfor (let i = 0; i < historySize; i++)\n{\n    historyX.push(0);\n    historyY.push(0);\n}\n// Create rope points.\nfor (let i = 0; i < ropeSize; i++)\n{\n    points.push(new PIXI.Point(0, 0));\n}\n\n// Create the rope\nconst rope = new PIXI.SimpleRope(trailTexture, points);\n\n// Set the blendmode\nrope.blendmode = PIXI.BLEND_MODES.ADD;\n\napp.stage.addChild(rope);\n\nlet mouseposition = null;\n\napp.stage.eventMode = 'static';\napp.stage.hitArea = app.screen;\napp.stage.on('mousemove', (event) =>\n{\n    mouseposition = mouseposition || { x: 0, y: 0 };\n    mouseposition.x = event.global.x;\n    mouseposition.y = event.global.y;\n});\n\n// Listen for animate update\napp.ticker.add(() =>\n{\n    if (!mouseposition) return;\n\n    // Update the mouse values to history\n    historyX.pop();\n    historyX.unshift(mouseposition.x);\n    historyY.pop();\n    historyY.unshift(mouseposition.y);\n    // Update the points to correspond with history.\n    for (let i = 0; i < ropeSize; i++)\n    {\n        const p = points[i];\n\n        // Smooth the curve with cubic interpolation to prevent sharp edges.\n        const ix = cubicInterpolation(historyX, (i / ropeSize) * historySize);\n        const iy = cubicInterpolation(historyY, (i / ropeSize) * historySize);\n\n        p.x = ix;\n        p.y = iy;\n    }\n});\n\n/**\n * Cubic interpolation based on https://github.com/osuushi/Smooth.js\n */\nfunction clipInput(k, arr)\n{\n    if (k < 0) k = 0;\n    if (k > arr.length - 1) k = arr.length - 1;\n\n    return arr[k];\n}\n\nfunction getTangent(k, factor, array)\n{\n    return (factor * (clipInput(k + 1, array) - clipInput(k - 1, array))) / 2;\n}\n\nfunction cubicInterpolation(array, t, tangentFactor = 1)\n{\n    const k = Math.floor(t);\n    const m = [getTangent(k, tangentFactor, array), getTangent(k + 1, tangentFactor, array)];\n    const p = [clipInput(k, array), clipInput(k + 1, array)];\n\n    t -= k;\n    const t2 = t * t;\n    const t3 = t * t2;\n\n    return (2 * t3 - 3 * t2 + 1) * p[0] + (t3 - 2 * t2 + t) * m[0] + (-2 * t3 + 3 * t2) * p[1] + (t3 - t2) * m[1];\n}\n",scratchCard:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// prepare circle texture, that will be our brush\nconst brush = new PIXI.Graphics().beginFill(0xffffff).drawCircle(0, 0, 50);\n\n// Create a line that will interpolate the drawn points\nconst line = new PIXI.Graphics();\n\nPIXI.Assets.add('t1', 'https://pixijs.com/assets/bg_grass.jpg');\nPIXI.Assets.add('t2', 'https://pixijs.com/assets/bg_rotate.jpg');\nPIXI.Assets.load(['t1', 't2']).then(setup);\n\nfunction setup()\n{\n    const { width, height } = app.screen;\n    const stageSize = { width, height };\n\n    const background = Object.assign(PIXI.Sprite.from('t1'), stageSize);\n    const imageToReveal = Object.assign(PIXI.Sprite.from('t2'), stageSize);\n    const renderTexture = PIXI.RenderTexture.create(stageSize);\n    const renderTextureSprite = new PIXI.Sprite(renderTexture);\n\n    imageToReveal.mask = renderTextureSprite;\n\n    app.stage.addChild(background, imageToReveal, renderTextureSprite);\n\n    app.stage.eventMode = 'static';\n    app.stage.hitArea = app.screen;\n    app.stage\n        .on('pointerdown', pointerDown)\n        .on('pointerup', pointerUp)\n        .on('pointerupoutside', pointerUp)\n        .on('pointermove', pointerMove);\n\n    let dragging = false;\n    let lastDrawnPoint = null;\n\n    function pointerMove({ global: { x, y } })\n    {\n        if (dragging)\n        {\n            brush.position.set(x, y);\n            app.renderer.render(brush, {\n                renderTexture,\n                clear: false,\n                skipUpdateTransform: false,\n            });\n            // Smooth out the drawing a little bit to make it look nicer\n            // this connects the previous drawn point to the current one\n            // using a line\n            if (lastDrawnPoint)\n            {\n                line.clear()\n                    .lineStyle({ width: 100, color: 0xffffff })\n                    .moveTo(lastDrawnPoint.x, lastDrawnPoint.y)\n                    .lineTo(x, y);\n                app.renderer.render(line, {\n                    renderTexture,\n                    clear: false,\n                    skipUpdateTransform: false,\n                });\n            }\n            lastDrawnPoint = lastDrawnPoint || new PIXI.Point();\n            lastDrawnPoint.set(x, y);\n        }\n    }\n\n    function pointerDown(event)\n    {\n        dragging = true;\n        pointerMove(event);\n    }\n\n    function pointerUp(event)\n    {\n        dragging = false;\n        lastDrawnPoint = null;\n    }\n}\n",screenShot:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ backgroundColor: '#111', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst texture = PIXI.Texture.from('https://pixijs.com/assets/bunny.png');\nconst containerFrame = new PIXI.Container();\nconst bunnyContainer = new PIXI.Container();\n\nlet screenshot;\n\n// Take the screenshot and download it\nasync function takeScreenshot()\n{\n    if (screenshot !== undefined)\n    {\n        screenshot.remove();\n    }\n\n    app.stop();\n    const url = await app.renderer.extract.base64(containerFrame);\n\n    screenshot = document.createElement('a');\n\n    document.body.append(screenshot);\n\n    screenshot.style.position = 'fixed';\n    screenshot.style.top = '20px';\n    screenshot.style.right = '20px';\n    screenshot.download = 'screenshot';\n    screenshot.href = url;\n\n    const image = new Image();\n\n    image.width = app.screen.width / 5;\n    image.src = url;\n\n    screenshot.innerHTML = image.outerHTML;\n\n    app.start();\n}\n\napp.stage.eventMode = 'static';\napp.stage.hitArea = app.screen;\napp.stage.on('pointerdown', takeScreenshot);\n\nfor (let i = 0; i < 25; i++)\n{\n    const bunny = new PIXI.Sprite(texture);\n\n    bunny.anchor.set(0.5);\n    bunny.x = (i % 5) * 40;\n    bunny.y = Math.floor(i / 5) * 40;\n    bunnyContainer.addChild(bunny);\n}\n\nbunnyContainer.x = 400;\nbunnyContainer.y = 300;\nbunnyContainer.pivot.x = bunnyContainer.width / 2;\nbunnyContainer.pivot.y = bunnyContainer.height / 2;\n\napp.ticker.add((delta) =>\n{\n    bunnyContainer.rotation += 0.01 * delta;\n});\n\nconst style = new PIXI.TextStyle({\n    fontFamily: 'Roboto',\n    fill: '#999',\n});\n\nconst screenshotText = new PIXI.Text('Click To Take Screenshot', style);\n\nscreenshotText.x = Math.round((app.screen.width - screenshotText.width) / 2);\nscreenshotText.y = Math.round(screenshotText.height / 2);\n\ncontainerFrame.addChild(bunnyContainer);\napp.stage.addChild(screenshotText, containerFrame);\n",slots:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nPIXI.Assets.load([\n    'https://pixijs.com/assets/eggHead.png',\n    'https://pixijs.com/assets/flowerTop.png',\n    'https://pixijs.com/assets/helmlok.png',\n    'https://pixijs.com/assets/skully.png',\n]).then(onAssetsLoaded);\n\nconst REEL_WIDTH = 160;\nconst SYMBOL_SIZE = 150;\n\n// onAssetsLoaded handler builds the example.\nfunction onAssetsLoaded()\n{\n    // Create different slot symbols.\n    const slotTextures = [\n        PIXI.Texture.from('https://pixijs.com/assets/eggHead.png'),\n        PIXI.Texture.from('https://pixijs.com/assets/flowerTop.png'),\n        PIXI.Texture.from('https://pixijs.com/assets/helmlok.png'),\n        PIXI.Texture.from('https://pixijs.com/assets/skully.png'),\n    ];\n\n    // Build the reels\n    const reels = [];\n    const reelContainer = new PIXI.Container();\n\n    for (let i = 0; i < 5; i++)\n    {\n        const rc = new PIXI.Container();\n\n        rc.x = i * REEL_WIDTH;\n        reelContainer.addChild(rc);\n\n        const reel = {\n            container: rc,\n            symbols: [],\n            position: 0,\n            previousPosition: 0,\n            blur: new PIXI.filters.BlurFilter(),\n        };\n\n        reel.blur.blurX = 0;\n        reel.blur.blurY = 0;\n        rc.filters = [reel.blur];\n\n        // Build the symbols\n        for (let j = 0; j < 4; j++)\n        {\n            const symbol = new PIXI.Sprite(slotTextures[Math.floor(Math.random() * slotTextures.length)]);\n            // Scale the symbol to fit symbol area.\n\n            symbol.y = j * SYMBOL_SIZE;\n            symbol.scale.x = symbol.scale.y = Math.min(SYMBOL_SIZE / symbol.width, SYMBOL_SIZE / symbol.height);\n            symbol.x = Math.round((SYMBOL_SIZE - symbol.width) / 2);\n            reel.symbols.push(symbol);\n            rc.addChild(symbol);\n        }\n        reels.push(reel);\n    }\n    app.stage.addChild(reelContainer);\n\n    // Build top & bottom covers and position reelContainer\n    const margin = (app.screen.height - SYMBOL_SIZE * 3) / 2;\n\n    reelContainer.y = margin;\n    reelContainer.x = Math.round(app.screen.width - REEL_WIDTH * 5);\n    const top = new PIXI.Graphics();\n\n    top.beginFill(0, 1);\n    top.drawRect(0, 0, app.screen.width, margin);\n    const bottom = new PIXI.Graphics();\n\n    bottom.beginFill(0, 1);\n    bottom.drawRect(0, SYMBOL_SIZE * 3 + margin, app.screen.width, margin);\n\n    // Add play text\n    const style = new PIXI.TextStyle({\n        fontFamily: 'Arial',\n        fontSize: 36,\n        fontStyle: 'italic',\n        fontWeight: 'bold',\n        fill: ['#ffffff', '#00ff99'], // gradient\n        stroke: '#4a1850',\n        strokeThickness: 5,\n        dropShadow: true,\n        dropShadowColor: '#000000',\n        dropShadowBlur: 4,\n        dropShadowAngle: Math.PI / 6,\n        dropShadowDistance: 6,\n        wordWrap: true,\n        wordWrapWidth: 440,\n    });\n\n    const playText = new PIXI.Text('Spin the wheels!', style);\n\n    playText.x = Math.round((bottom.width - playText.width) / 2);\n    playText.y = app.screen.height - margin + Math.round((margin - playText.height) / 2);\n    bottom.addChild(playText);\n\n    // Add header text\n    const headerText = new PIXI.Text('PIXI MONSTER SLOTS!', style);\n\n    headerText.x = Math.round((top.width - headerText.width) / 2);\n    headerText.y = Math.round((margin - headerText.height) / 2);\n    top.addChild(headerText);\n\n    app.stage.addChild(top);\n    app.stage.addChild(bottom);\n\n    // Set the interactivity.\n    bottom.eventMode = 'static';\n    bottom.cursor = 'pointer';\n    bottom.addListener('pointerdown', () =>\n    {\n        startPlay();\n    });\n\n    let running = false;\n\n    // Function to start playing.\n    function startPlay()\n    {\n        if (running) return;\n        running = true;\n\n        for (let i = 0; i < reels.length; i++)\n        {\n            const r = reels[i];\n            const extra = Math.floor(Math.random() * 3);\n            const target = r.position + 10 + i * 5 + extra;\n            const time = 2500 + i * 600 + extra * 600;\n\n            tweenTo(r, 'position', target, time, backout(0.5), null, i === reels.length - 1 ? reelsComplete : null);\n        }\n    }\n\n    // Reels done handler.\n    function reelsComplete()\n    {\n        running = false;\n    }\n\n    // Listen for animate update.\n    app.ticker.add((delta) =>\n    {\n        // Update the slots.\n        for (let i = 0; i < reels.length; i++)\n        {\n            const r = reels[i];\n            // Update blur filter y amount based on speed.\n            // This would be better if calculated with time in mind also. Now blur depends on frame rate.\n\n            r.blur.blurY = (r.position - r.previousPosition) * 8;\n            r.previousPosition = r.position;\n\n            // Update symbol positions on reel.\n            for (let j = 0; j < r.symbols.length; j++)\n            {\n                const s = r.symbols[j];\n                const prevy = s.y;\n\n                s.y = ((r.position + j) % r.symbols.length) * SYMBOL_SIZE - SYMBOL_SIZE;\n                if (s.y < 0 && prevy > SYMBOL_SIZE)\n                {\n                    // Detect going over and swap a texture.\n                    // This should in proper product be determined from some logical reel.\n                    s.texture = slotTextures[Math.floor(Math.random() * slotTextures.length)];\n                    s.scale.x = s.scale.y = Math.min(SYMBOL_SIZE / s.texture.width, SYMBOL_SIZE / s.texture.height);\n                    s.x = Math.round((SYMBOL_SIZE - s.width) / 2);\n                }\n            }\n        }\n    });\n}\n\n// Very simple tweening utility function. This should be replaced with a proper tweening library in a real product.\nconst tweening = [];\n\nfunction tweenTo(object, property, target, time, easing, onchange, oncomplete)\n{\n    const tween = {\n        object,\n        property,\n        propertyBeginValue: object[property],\n        target,\n        easing,\n        time,\n        change: onchange,\n        complete: oncomplete,\n        start: Date.now(),\n    };\n\n    tweening.push(tween);\n\n    return tween;\n}\n// Listen for animate update.\napp.ticker.add((delta) =>\n{\n    const now = Date.now();\n    const remove = [];\n\n    for (let i = 0; i < tweening.length; i++)\n    {\n        const t = tweening[i];\n        const phase = Math.min(1, (now - t.start) / t.time);\n\n        t.object[t.property] = lerp(t.propertyBeginValue, t.target, t.easing(phase));\n        if (t.change) t.change(t);\n        if (phase === 1)\n        {\n            t.object[t.property] = t.target;\n            if (t.complete) t.complete(t);\n            remove.push(t);\n        }\n    }\n    for (let i = 0; i < remove.length; i++)\n    {\n        tweening.splice(tweening.indexOf(remove[i]), 1);\n    }\n});\n\n// Basic lerp funtion.\nfunction lerp(a1, a2, t)\n{\n    return a1 * (1 - t) + a2 * t;\n}\n\n// Backout function from tweenjs.\n// https://github.com/CreateJS/TweenJS/blob/master/src/tweenjs/Ease.js\nfunction backout(amount)\n{\n    return (t) => --t * t * ((amount + 1) * t + amount) + 1;\n}\n",spinners:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ background: '#1099bb', resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n/* ---------------------------------------\n Spinner 1. Square with radial completion.\n -------------------------------------- */\nconst generateSpinner1 = (position) =>\n{\n    const container = new PIXI.Container();\n\n    container.position = position;\n    app.stage.addChild(container);\n\n    const base = PIXI.Sprite.from('https://pixijs.com/assets/bg_scene_rotate.jpg');\n    const size = 100;\n\n    base.width = size;\n    base.height = size;\n\n    const bottom = PIXI.Sprite.from('https://pixijs.com/assets/bg_rotate.jpg');\n\n    bottom.width = size;\n    bottom.height = size;\n\n    const mask = new PIXI.Graphics();\n\n    mask.position.set(size / 2, size / 2);\n    base.mask = mask;\n    window.mask = mask;\n\n    container.addChild(bottom);\n    container.addChild(base);\n    container.addChild(mask);\n\n    let phase = 0;\n\n    return (delta) =>\n    {\n        // Update phase\n        phase += delta / 60;\n        phase %= Math.PI * 2;\n\n        // Calculate target point.\n        const x = Math.cos(phase - Math.PI / 2) * size;\n        const y = Math.sin(phase - Math.PI / 2) * size;\n\n        const segments = [\n            [-size / 2, -size / 2, size / 2, -size / 2], // top segment\n            [size / 2, -size / 2, size / 2, size / 2], // right\n            [-size / 2, size / 2, size / 2, size / 2], // bottom\n            [-size / 2, -size / 2, -size / 2, size / 2], // left\n        ];\n\n        // Find the intersecting segment.\n        let intersection = null;\n        let winding = 0;\n\n        for (let i = 0; i < segments.length; i++)\n        {\n            const segment = segments[i];\n            const hit = intersect(0, 0, x, y, segment[0], segment[1], segment[2], segment[3]);\n\n            if (hit)\n            {\n                intersection = hit;\n                if (i === 0) winding = hit.x > 0 ? 0 : 4;\n                else winding = i;\n                break;\n            }\n        }\n\n        const corners = [\n            size / 2,\n            -size / 2, // Top right\n            size / 2,\n            size / 2, // Bottom right\n            -size / 2,\n            size / 2, // Bottom left\n            -size / 2,\n            -size / 2, // Top left,\n            0,\n            -size / 2, // End point\n        ];\n\n        // Redraw mask\n        mask.clear();\n        mask.lineStyle(2, 0xff0000, 1);\n        mask.beginFill(0xff0000, 1);\n        mask.moveTo(0, -size / 2);\n        mask.lineTo(0, 0);\n\n        mask.lineTo(intersection.x, intersection.y);\n\n        // fill the corners\n        for (let i = winding; i < corners.length / 2; i++)\n        {\n            mask.lineTo(corners[i * 2], corners[i * 2 + 1]);\n        }\n        mask.endFill();\n    };\n};\n\n/* -----------------------\n Spinner 2. Scaling balls.\n ---------------------- */\nconst generateSpinner2 = (position) =>\n{\n    const container = new PIXI.Container();\n\n    container.position = position;\n    app.stage.addChild(container);\n\n    const size = 100;\n    const ballAmount = 7;\n    const balls = [];\n\n    for (let i = 0; i < ballAmount; i++)\n    {\n        const ball = PIXI.Sprite.from('https://pixijs.com/assets/circle.png');\n\n        ball.anchor.set(0.5);\n        container.addChild(ball);\n        ball.position.set(\n            size / 2 + (Math.cos((i / ballAmount) * Math.PI * 2) * size) / 3,\n            size / 2 + (Math.sin((i / ballAmount) * Math.PI * 2) * size) / 3,\n        );\n        balls.push(ball);\n    }\n\n    let phase = 0;\n\n    return (delta) =>\n    {\n        // Update phase\n        phase += delta / 60;\n        phase %= Math.PI * 2;\n\n        // Update ball scales\n        balls.forEach((b, i) =>\n        {\n            const sin = Math.sin((i / ballAmount) * Math.PI - phase);\n            // Multiply sin with itself to get more steeper edge.\n\n            b.scale.set(Math.abs(sin * sin * sin * 0.5) + 0.5);\n        });\n    };\n};\n\n/* ---------------------\n Spinner 3. Radial mask.\n -------------------- */\nconst generateSpinner3 = (position) =>\n{\n    const container = new PIXI.Container();\n\n    container.position = position;\n    app.stage.addChild(container);\n\n    const base = PIXI.Sprite.from('https://pixijs.com/assets/bg_scene_rotate.jpg');\n    const size = 100;\n\n    base.width = size;\n    base.height = size;\n\n    const mask = new PIXI.Graphics();\n\n    mask.position.set(size / 2, size / 2);\n    base.mask = mask;\n    window.mask = mask;\n\n    container.addChild(base);\n    container.addChild(mask);\n\n    let phase = 0;\n\n    return (delta) =>\n    {\n        // Update phase\n        phase += delta / 60;\n        phase %= Math.PI * 2;\n\n        const angleStart = 0 - Math.PI / 2;\n        const angle = phase + angleStart;\n        const radius = 50;\n\n        const x1 = Math.cos(angleStart) * radius;\n        const y1 = Math.sin(angleStart) * radius;\n\n        // Redraw mask\n        mask.clear();\n        mask.lineStyle(2, 0xff0000, 1);\n        mask.beginFill(0xff0000, 1);\n        mask.moveTo(0, 0);\n        mask.lineTo(x1, y1);\n        mask.arc(0, 0, radius, angleStart, angle, false);\n        mask.lineTo(0, 0);\n        mask.endFill();\n    };\n};\n\n/* ---------------------------------\n Spinner 4. Rounded rectangle edges.\n ------------------------------- */\nconst generateSpinner4 = (position) =>\n{\n    const container = new PIXI.Container();\n\n    container.position = position;\n    app.stage.addChild(container);\n\n    const size = 100;\n    const arcRadius = 15;\n\n    const base = PIXI.Sprite.from('https://pixijs.com/assets/bg_scene_rotate.jpg');\n\n    base.width = size;\n    base.height = size;\n\n    // For better performance having assets prerounded would be better than masking.\n    const roundingMask = new PIXI.Graphics();\n\n    roundingMask.beginFill(0, 1);\n    roundingMask.lineStyle(1, 0xff0000, 1);\n    roundingMask.drawRoundedRect(0, 0, size, size, arcRadius);\n    roundingMask.endFill();\n    base.mask = roundingMask;\n\n    // The edge could be replaced with image as well.\n    const lineSize = 5;\n    const edge = new PIXI.Graphics();\n\n    edge.lineStyle(lineSize, 0xff0000, 1);\n    edge.drawRoundedRect(0, 0, size, size, arcRadius);\n    edge.endFill();\n\n    // Mask in this example works basically the same way as in example 1.\n    // Except it is reversed and calculates the mask in straight lines in edges.\n    const mask = new PIXI.Graphics();\n\n    mask.position.set(size / 2, size / 2);\n    edge.mask = mask;\n\n    container.addChild(base);\n    container.addChild(roundingMask);\n    container.addChild(edge);\n    container.addChild(mask);\n\n    let phase = 0;\n\n    return (delta) =>\n    {\n        // Update phase\n        phase += delta / 160;\n        phase %= Math.PI * 2;\n\n        // Calculate target point.\n        const x = Math.cos(phase - Math.PI / 2) * size;\n        const y = Math.sin(phase - Math.PI / 2) * size;\n        // Line segments\n        const segments = [\n            [-size / 2 + lineSize, -size / 2 + lineSize, size / 2 - lineSize, -size / 2 + lineSize], // top segment\n            [size / 2 - lineSize, -size / 2 + lineSize, size / 2 - lineSize, size / 2 - lineSize], // right\n            [-size / 2 + lineSize, size / 2 - lineSize, size / 2 - lineSize, size / 2 - lineSize], // bottom\n            [-size / 2 + lineSize, -size / 2 + lineSize, -size / 2 + lineSize, size / 2 - lineSize], // left\n        ];\n        // To which dir should mask continue at each segment\n        let outDir = [\n            [0, -1],\n            [1, 0],\n            [0, 1],\n            [-1, 0],\n        ];\n\n        // Find the intersecting segment.\n        let intersection = null;\n        let winding = 0;\n        // What direction should the line continue after hit has been found before hitting the line size\n\n        for (let i = 0; i < segments.length; i++)\n        {\n            const segment = segments[i];\n            const hit = intersect(0, 0, x, y, segment[0], segment[1], segment[2], segment[3]);\n\n            if (hit)\n            {\n                intersection = hit;\n                if (i === 0) winding = hit.x < 0 ? 0 : 4;\n                else winding = 4 - i;\n                outDir = outDir[i];\n                break;\n            }\n        }\n\n        const corners = [\n            -size / 2 - lineSize,\n            -size / 2 - lineSize, // Top left,\n            -size / 2 - lineSize,\n            size / 2 + lineSize, // Bottom left\n            size / 2 + lineSize,\n            size / 2 + lineSize, // Bottom right\n            size / 2 + lineSize,\n            -size / 2 - lineSize, // Top right\n        ];\n\n        // Redraw mask\n        mask.clear();\n        mask.lineStyle(2, 0x00ff00, 1);\n        mask.beginFill(0xff0000, 1);\n\n        mask.moveTo(0, 0);\n        mask.moveTo(0, -size / 2 - lineSize);\n\n        // fill the corners\n        for (let i = 0; i < winding; i++)\n        {\n            mask.lineTo(corners[i * 2], corners[i * 2 + 1]);\n        }\n\n        mask.lineTo(intersection.x + outDir[0] * lineSize * 2, intersection.y + outDir[1] * lineSize * 2);\n        mask.lineTo(intersection.x, intersection.y);\n        mask.lineTo(0, 0);\n\n        mask.endFill();\n    };\n};\n\n/* ---------------------\n Spinner 5. Rounded rectangle fixed length spinner by jonlepage\n -------------------- */\nconst generateSpinner5 = (position) =>\n{\n    const container = new PIXI.Container();\n\n    container.position = position;\n    app.stage.addChild(container);\n\n    const halfCircle = new PIXI.Graphics();\n\n    halfCircle.beginFill(0xff0000);\n    halfCircle.lineStyle(2, 0xffffff);\n    halfCircle.arc(0, 0, 100, 0, Math.PI);\n    halfCircle.endFill();\n    halfCircle.position.set(50, 50);\n\n    const rectangle = new PIXI.Graphics();\n\n    rectangle.lineStyle(2, 0xffffff, 1);\n    rectangle.drawRoundedRect(0, 0, 100, 100, 16);\n    rectangle.endFill();\n    rectangle.mask = halfCircle;\n\n    container.addChild(rectangle);\n    container.addChild(halfCircle);\n\n    let phase = 0;\n\n    return (delta) =>\n    {\n        // Update phase\n        phase += delta / 6;\n        phase %= Math.PI * 2;\n\n        halfCircle.rotation = phase;\n    };\n};\n\nconst onTick = [\n    generateSpinner1(new PIXI.Point(50, 50)),\n    generateSpinner2(new PIXI.Point(160, 50)),\n    generateSpinner3(new PIXI.Point(270, 50)),\n    generateSpinner4(new PIXI.Point(380, 50)),\n    generateSpinner5(new PIXI.Point(490, 50)),\n];\n\n// Listen for animate update\napp.ticker.add((delta) =>\n{\n    // Call tick handling for each spinner.\n    onTick.forEach((cb) =>\n    {\n        cb(delta);\n    });\n});\n\n/**\n * Helper functions\n\n    line intercept math by Paul Bourke http://paulbourke.net/geometry/pointlineplane/\n    Determine the intersection point of two line segments\n    Return FALSE if the lines don't intersect\n\n    Code modified from original to match pixi examples linting rules.\n*/\nfunction intersect(x1, y1, x2, y2, x3, y3, x4, y4)\n{\n    // Check if none of the lines are of length 0\n    if ((x1 === x2 && y1 === y2) || (x3 === x4 && y3 === y4))\n    {\n        return false;\n    }\n\n    const denominator = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\n\n    // Lines are parallel\n    if (denominator === 0)\n    {\n        return false;\n    }\n\n    const ua = ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) / denominator;\n    const ub = ((x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3)) / denominator;\n\n    // is the intersection along the segments\n    if (ua < 0 || ua > 1 || ub < 0 || ub > 1)\n    {\n        return false;\n    }\n\n    // Return a object with the x and y coordinates of the intersection\n    const x = x1 + ua * (x2 - x1);\n    const y = y1 + ua * (y2 - y1);\n\n    return { x, y };\n}\n",starWarp:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Get the texture for star.\nconst starTexture = PIXI.Texture.from('https://pixijs.com/assets/star.png');\n\nconst starAmount = 1000;\nlet cameraZ = 0;\nconst fov = 20;\nconst baseSpeed = 0.025;\nlet speed = 0;\nlet warpSpeed = 0;\nconst starStretch = 5;\nconst starBaseSize = 0.05;\n\n// Create the stars\nconst stars = [];\n\nfor (let i = 0; i < starAmount; i++)\n{\n    const star = {\n        sprite: new PIXI.Sprite(starTexture),\n        z: 0,\n        x: 0,\n        y: 0,\n    };\n\n    star.sprite.anchor.x = 0.5;\n    star.sprite.anchor.y = 0.7;\n    randomizeStar(star, true);\n    app.stage.addChild(star.sprite);\n    stars.push(star);\n}\n\nfunction randomizeStar(star, initial)\n{\n    star.z = initial ? Math.random() * 2000 : cameraZ + Math.random() * 1000 + 2000;\n\n    // Calculate star positions with radial random coordinate so no star hits the camera.\n    const deg = Math.random() * Math.PI * 2;\n    const distance = Math.random() * 50 + 1;\n\n    star.x = Math.cos(deg) * distance;\n    star.y = Math.sin(deg) * distance;\n}\n\n// Change flight speed every 5 seconds\nsetInterval(() =>\n{\n    warpSpeed = warpSpeed > 0 ? 0 : 1;\n}, 5000);\n\n// Listen for animate update\napp.ticker.add((delta) =>\n{\n    // Simple easing. This should be changed to proper easing function when used for real.\n    speed += (warpSpeed - speed) / 20;\n    cameraZ += delta * 10 * (speed + baseSpeed);\n    for (let i = 0; i < starAmount; i++)\n    {\n        const star = stars[i];\n\n        if (star.z < cameraZ) randomizeStar(star);\n\n        // Map star 3d position to 2d with really simple projection\n        const z = star.z - cameraZ;\n\n        star.sprite.x = star.x * (fov / z) * app.renderer.screen.width + app.renderer.screen.width / 2;\n        star.sprite.y = star.y * (fov / z) * app.renderer.screen.width + app.renderer.screen.height / 2;\n\n        // Calculate star scale & rotation.\n        const dxCenter = star.sprite.x - app.renderer.screen.width / 2;\n        const dyCenter = star.sprite.y - app.renderer.screen.height / 2;\n        const distanceCenter = Math.sqrt(dxCenter * dxCenter + dyCenter * dyCenter);\n        const distanceScale = Math.max(0, (2000 - z) / 2000);\n\n        star.sprite.scale.x = distanceScale * starBaseSize;\n        // Star is looking towards center so that y axis is towards center.\n        // Scale the star depending on how fast we are moving, what the stretchfactor is\n        // and depending on how far away it is from the center.\n        star.sprite.scale.y\n            = distanceScale * starBaseSize\n            + (distanceScale * speed * starStretch * distanceCenter) / app.renderer.screen.width;\n        star.sprite.rotation = Math.atan2(dyCenter, dxCenter) + Math.PI / 2;\n    }\n});\n"},meshAndShaders:{instancedGeometry:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst geometry = new PIXI.Geometry().addAttribute('aVPos', [-100, 0, 100, 0, 0, -150]);\n\ngeometry.instanced = true;\ngeometry.instanceCount = 5;\n\nconst positionSize = 2;\nconst colorSize = 3;\nconst buffer = new PIXI.Buffer(new Float32Array(geometry.instanceCount * (positionSize + colorSize)));\n\ngeometry.addAttribute('aIPos', buffer, positionSize, false, PIXI.TYPES.FLOAT, 4 * (positionSize + colorSize), 0, true);\ngeometry.addAttribute(\n    'aICol',\n    buffer,\n    colorSize,\n    false,\n    PIXI.TYPES.FLOAT,\n    4 * (positionSize + colorSize),\n    4 * positionSize,\n    true,\n);\n\nfor (let i = 0; i < geometry.instanceCount; i++)\n{\n    const instanceOffset = i * (positionSize + colorSize);\n\n    buffer.data[instanceOffset + 0] = i * 80;\n    buffer.data[instanceOffset + 2] = Math.random();\n    buffer.data[instanceOffset + 3] = Math.random();\n    buffer.data[instanceOffset + 4] = Math.random();\n}\n\nconst shader = PIXI.Shader.from(\n    `\n    precision mediump float;\n    attribute vec2 aVPos;\n    attribute vec2 aIPos;\n    attribute vec3 aICol;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec3 vCol;\n\n    void main() {\n        vCol = aICol;\n\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVPos + aIPos, 1.0)).xy, 0.0, 1.0);\n    }`,\n\n    `precision mediump float;\n\n    varying vec3 vCol;\n\n    void main() {\n        gl_FragColor = vec4(vCol, 1.0);\n    }\n\n`,\n);\n\nconst triangles = new PIXI.Mesh(geometry, shader);\n\ntriangles.position.set(400, 300);\n\napp.stage.addChild(triangles);\n\napp.ticker.add((delta) =>\n{\n    triangles.rotation += 0.01;\n});\n",interleavingGeometry:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst geometry = new PIXI.Geometry()\n    .addAttribute(\n        'aVertexPosition', // the attribute name\n        [\n            -100,\n            -100, // x, y\n            100,\n            -100, // x, y\n            100,\n            100,\n            -100,\n            100,\n        ], // x, y\n        2,\n    ) // the size of the attribute\n    .addAttribute(\n        'aUvs', // the attribute name\n        [\n            0,\n            0, // u, v\n            1,\n            0, // u, v\n            1,\n            1,\n            0,\n            1,\n        ], // u, v\n        2,\n    ) // the size of the attribute\n    .addIndex([0, 1, 2, 0, 2, 3])\n    .interleave();\n\nconst shader = PIXI.Shader.from(\n    `\n\n    precision mediump float;\n\n    attribute vec2 aVertexPosition;\n    attribute vec2 aUvs;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec2 vUvs;\n\n    void main() {\n\n        vUvs = aUvs;\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    }`,\n\n    `precision mediump float;\n\n    varying vec2 vUvs;\n\n    uniform sampler2D uSampler2;\n\n    void main() {\n\n        gl_FragColor = texture2D(uSampler2, vUvs );\n    }\n\n`,\n    {\n        uSampler2: PIXI.Texture.from('https://pixijs.com/assets/bg_scene_rotate.jpg'),\n    },\n);\n\nconst quad = new PIXI.Mesh(geometry, shader);\n\nquad.position.set(400, 300);\nquad.scale.set(2);\n\napp.stage.addChild(quad);\n\napp.ticker.add((delta) =>\n{\n    quad.rotation += 0.01;\n});\n",mergingGeometry:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst geometry = new PIXI.Geometry()\n    .addAttribute(\n        'aVertexPosition', // the attribute name\n        [\n            -100,\n            -100, // x, y\n            100,\n            -100, // x, y\n            100,\n            100,\n            -100,\n            100,\n        ], // x, y\n        2,\n    ) // the size of the attribute\n    .addAttribute(\n        'aUvs', // the attribute name\n        [\n            0,\n            0, // u, v\n            1,\n            0, // u, v\n            1,\n            1,\n            0,\n            1,\n        ], // u, v\n        2,\n    ) // the size of the attribute\n    .addIndex([0, 1, 2, 0, 2, 3]);\n\nconst geometry2 = new PIXI.Geometry()\n    .addAttribute(\n        'aVertexPosition', // the attribute name\n        [\n            -100 + 100,\n            -100, // x, y\n            100 + 100,\n            -100, // x, y\n            100 + 100,\n            100,\n        ], // x, y\n        2,\n    ) // the size of the attribute\n    .addAttribute(\n        'aUvs', // the attribute name\n        [\n            0,\n            0, // u, v\n            1,\n            0, // u, v\n            1,\n            1,\n        ], // u, v\n        2,\n    ) // the size of the attribute\n    .addIndex([0, 1, 2]);\n\nconst geometry3 = PIXI.Geometry.merge([geometry, geometry2]);\n\nconst shader = PIXI.Shader.from(\n    `\n\n    precision mediump float;\n\n    attribute vec2 aVertexPosition;\n    attribute vec2 aUvs;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec2 vUvs;\n\n    void main() {\n\n        vUvs = aUvs;\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    }`,\n\n    `precision mediump float;\n\n    varying vec2 vUvs;\n\n    uniform sampler2D uSampler2;\n\n    void main() {\n\n        gl_FragColor = texture2D(uSampler2, vUvs );\n    }\n\n`,\n    {\n        uSampler2: PIXI.Texture.from('https://pixijs.com/assets/bg_scene_rotate.jpg'),\n    },\n);\n\nconst quad = new PIXI.Mesh(geometry3, shader);\n\nquad.position.set(400, 300);\nquad.scale.set(2);\n\napp.stage.addChild(quad);\n\napp.ticker.add((delta) =>\n{\n    quad.rotation += 0.01;\n});\n",multiPassShaderGeneratedMesh:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ height: 640, resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Build geometry.\nconst geometry = new PIXI.Geometry()\n    .addAttribute(\n        'aVertexPosition', // the attribute name\n        [\n            0,\n            0, // x, y\n            200,\n            0, // x, y\n            200,\n            200,\n            0,\n            200,\n        ], // x, y\n        2,\n    ) // the size of the attribute\n    .addAttribute(\n        'aUvs', // the attribute name\n        [\n            0,\n            0, // u, v\n            1,\n            0, // u, v\n            1,\n            1,\n            0,\n            1,\n        ], // u, v\n        2,\n    ) // the size of the attribute\n    .addIndex([0, 1, 2, 0, 2, 3]);\n\n// Vertex shader. Use same shader for all passes.\nconst vertexSrc = `\n\n    precision mediump float;\n\n    attribute vec2 aVertexPosition;\n    attribute vec2 aUvs;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec2 vUvs;\n\n    void main() {\n\n        vUvs = aUvs;\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    }`;\n\n// Load a perlinnoise texture for one of the shaders.\nconst perlinTexture = PIXI.Texture.from('https://pixijs.com/assets/perlin.jpg');\n\n// First pass, generates a grid.\nconst fragmentGridSrc = `\nprecision mediump float;\nvarying vec2 vUvs;\nuniform float zoom;\n\nvoid main()\n{\n    //Generate a simple grid.\n    //Offset uv so that center is 0,0 and edges are -1,1\n    vec2 uv = (vUvs-vec2(0.5))*2.0;\n    vec2 gUv = floor(uv*zoom);\n    vec4 color1 = vec4(0.8, 0.8, 0.8, 1.0);\n    vec4 color2 = vec4(0.4, 0.4, 0.4, 1.0);\n    vec4 outColor = mod(gUv.x + gUv.y, 2.) < 0.5 ? color1 : color2;\n    gl_FragColor = outColor;\n\n}`;\n\nconst gridUniforms = {\n    zoom: 10,\n};\nconst gridShader = PIXI.Shader.from(vertexSrc, fragmentGridSrc, gridUniforms);\n// Sharing textures and meshes is possible.\n// But for simplicity each pass has its own output texture and mesh in this example.\nconst gridTexture = PIXI.RenderTexture.create({ width: 200, height: 200 });\nconst gridQuad = new PIXI.Mesh(geometry, gridShader);\nconst gridContainer = new PIXI.Container();\n\ngridContainer.addChild(gridQuad);\n\n// Second pass. Takes grid as input and makes it ripple.\nconst fragmentRippleSrc = `\nprecision mediump float;\nvarying vec2 vUvs;\nuniform float amount;\nuniform float phase;\nuniform sampler2D texIn;\n\nvoid main()\n{\n    //Generate a simple grid.\n    vec2 uv = vUvs;\n    //Calculate distance from center\n    float distance = length( uv - vec2(0.5));\n    vec4 color = texture2D(texIn, uv);\n    color.rgb *= sin(distance*25.0+phase) * amount+1.;\n    gl_FragColor = color;\n}`;\nconst rippleUniforms = {\n    amount: 0.5,\n    phase: 0,\n    texIn: gridTexture,\n};\nconst rippleShader = PIXI.Shader.from(vertexSrc, fragmentRippleSrc, rippleUniforms);\nconst rippleTexture = PIXI.RenderTexture.create({ width: 200, height: 200 });\nconst rippleQuad = new PIXI.Mesh(geometry, rippleShader);\nconst rippleContainer = new PIXI.Container();\n\nrippleContainer.addChild(rippleQuad);\n\n// Second effect. Generates a filtered noise.\nconst fragmentNoiseSrc = `\nprecision mediump float;\nvarying vec2 vUvs;\nuniform float limit;\nuniform sampler2D noise;\n\nvoid main()\n{\n    float color = texture2D(noise, vUvs).r;\n    color = step(limit, color);\n    gl_FragColor = vec4(color);\n}`;\nconst noiseUniforms = {\n    limit: 0.5,\n    noise: perlinTexture,\n};\nconst noiseShader = PIXI.Shader.from(vertexSrc, fragmentNoiseSrc, noiseUniforms);\nconst noiseTexture = PIXI.RenderTexture.create({ width: 200, height: 200 });\nconst noiseQuad = new PIXI.Mesh(geometry, noiseShader);\nconst noiseContainer = new PIXI.Container();\n\nnoiseContainer.addChild(noiseQuad);\n\n// Third effect\nconst fragmentWaveSrc = `\nprecision mediump float;\nvarying vec2 vUvs;\nuniform float amplitude;\nuniform float time;\n\nvoid main()\n{\n    //Offset uv so that center is 0,0 and edges are -1,1\n    vec2 uv = (vUvs-vec2(0.5))*2.0;\n\n    vec3 outColor = vec3(0.);\n\n    //Simple wavefunctions inversed and with small offsets.\n    outColor += 5./length(uv.y*200. - 50.0*sin( uv.x*0.25+ time*0.25)*amplitude);\n    outColor += 4./length(uv.y*300. - 100.0*sin(uv.x*0.5+time*0.5)*amplitude*1.2);\n    outColor += 3./length(uv.y*400. - 150.0*sin(uv.x*0.75+time*0.75)*amplitude*1.4);\n    outColor += 2./length(uv.y*500. - 200.0*sin(uv.x+time)*amplitude*1.6);\n\n    gl_FragColor = vec4(outColor,1.0);\n}`;\nconst waveUniforms = {\n    amplitude: 0.75,\n    time: 0,\n};\nconst waveShader = PIXI.Shader.from(vertexSrc, fragmentWaveSrc, waveUniforms);\nconst waveTexture = PIXI.RenderTexture.create({ width: 200, height: 200 });\nconst waveQuad = new PIXI.Mesh(geometry, waveShader);\nconst waveContainer = new PIXI.Container();\n\nwaveContainer.addChild(waveQuad);\n\n// Final combination pass\nconst fragmentCombineSrc = `\nprecision mediump float;\nvarying vec2 vUvs;\n\nuniform sampler2D texRipple;\nuniform sampler2D texNoise;\nuniform sampler2D texWave;\n\nvoid main()\n{\n    //Read color from all\n    vec4 ripple = texture2D(texRipple, vUvs);\n    vec4 noise = texture2D(texNoise, vUvs);\n    vec4 wave = texture2D(texWave, vUvs);\n\n    gl_FragColor = mix(ripple, wave,noise.r);\n}`;\nconst combineUniforms = {\n    texRipple: rippleTexture,\n    texNoise: noiseTexture,\n    texWave: waveTexture,\n};\nconst combineShader = PIXI.Shader.from(vertexSrc, fragmentCombineSrc, combineUniforms);\nconst combineQuad = new PIXI.Mesh(geometry, combineShader);\n\ngridContainer.position.set(10, 10);\nrippleContainer.position.set(220, 10);\nnoiseContainer.position.set(10, 220);\nwaveContainer.position.set(10, 430);\ncombineQuad.position.set(430, 220);\n\n// Add all phases to stage so all the phases can be seen separately.\napp.stage.addChild(gridContainer);\napp.stage.addChild(rippleContainer);\napp.stage.addChild(noiseContainer);\napp.stage.addChild(waveContainer);\napp.stage.addChild(combineQuad);\n\n// start the animation..\nlet time = 0;\n\napp.ticker.add((delta) =>\n{\n    time += 1 / 60;\n    // gridQuad.shader.uniforms.zoom = Math.sin(time)*5+10;\n    rippleQuad.shader.uniforms.phase = -time;\n    waveQuad.shader.uniforms.time = time;\n    noiseQuad.shader.uniforms.limit = Math.sin(time * 0.5) * 0.35 + 0.5;\n\n    // Render the passes to get textures.\n    app.renderer.render(gridQuad, { renderTexture: gridTexture });\n    app.renderer.render(rippleQuad, { renderTexture: rippleTexture });\n    app.renderer.render(noiseQuad, { renderTexture: noiseTexture });\n    app.renderer.render(waveQuad, { renderTexture: waveTexture });\n});\n",shaderToyMesh:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\n// Build geometry.\nconst geometry = new PIXI.Geometry()\n    .addAttribute(\n        'aVertexPosition', // the attribute name\n        [\n            -100,\n            -100, // x, y\n            100,\n            -100, // x, y\n            100,\n            100,\n            -100,\n            100,\n        ], // x, y\n        2,\n    ) // the size of the attribute\n    .addAttribute(\n        'aUvs', // the attribute name\n        [\n            0,\n            0, // u, v\n            1,\n            0, // u, v\n            1,\n            1,\n            0,\n            1,\n        ], // u, v\n        2,\n    ) // the size of the attribute\n    .addIndex([0, 1, 2, 0, 2, 3]);\n\nconst vertexSrc = `\n\n    precision mediump float;\n\n    attribute vec2 aVertexPosition;\n    attribute vec2 aUvs;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec2 vUvs;\n\n    void main() {\n\n        vUvs = aUvs;\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    }`;\n\nconst fragmentSrc = `\n//Based on this: https://www.shadertoy.com/view/wtlSWX\nprecision mediump float;\n\nvarying vec2 vUvs;\n\nuniform sampler2D noise;\nuniform float time;\n\n// Distance function. Just calculates the height (z) from x,y plane with really simple length check.\n// Its not exact as there could be shorter distances.\nvec2 dist(vec3 p)\n{\n    float id = floor(p.x)+floor(p.y);\n    id = mod(id, 2.);\n    float h = texture2D(noise, vec2(p.x, p.y)*0.04).r*5.1;\n    return vec2(h-p.z,id);\n}\n\n//Light calculation.\nvec3 calclight(vec3 p, vec3 rd)\n{\n    vec2 eps = vec2( 0., 0.001);\n    vec3 n = normalize( vec3(\n    dist(p+eps.yxx).x - dist(p-eps.yxx).x,\n    dist(p+eps.xyx).x - dist(p-eps.xyx).x,\n    dist(p+eps.xxy).x - dist(p-eps.xxy).x\n    ));\n\n    vec3 d = vec3( max( 0., dot( -rd ,n)));\n\n    return d;\n}\n\nvoid main()\n{\n    vec2 uv = vec2(vUvs.x,1.-vUvs.y);\n    uv *=2.;\n    uv-=1.;\n\n    vec3 cam = vec3(0.,time -2., -3.);\n    vec3 target = vec3(sin(time)*0.1, time+cos(time)+2., 0. );\n    float fov = 2.2;\n    vec3 forward = normalize( target - cam);\n    vec3 up = normalize(cross( forward, vec3(0., 1.,0.)));\n    vec3 right = normalize( cross( up, forward));\n    vec3 raydir = normalize(vec3( uv.x *up + uv.y * right + fov*forward));\n\n    //Do the raymarch\n    vec3 col = vec3(0.);\n    float t = 0.;\n    for( int i = 0; i < 100; i++)\n    {\n    vec3 p = t * raydir + cam;\n    vec2 d = dist(p);\n    t+=d.x*0.5;//Jump only half of the distance as height function used is not really the best for heightmaps.\n    if(d.x < 0.001)\n    {\n        vec3 bc = d.y < 0.5 ? vec3(1.0, .8, 0.) :\n                vec3(0.8,0.0, 1.0);\n        col = vec3( 1.) * calclight(p, raydir) * (1. - t/150.) *bc;\n        break;\n    }\n    if(t > 1000.)\n    {\n        break;\n    }\n    }\n    gl_FragColor = vec4(col, 1.);\n}`;\n\nconst uniforms = {\n    noise: PIXI.Texture.from('https://pixijs.com/assets/perlin.jpg'),\n    time: 0,\n};\n// Make sure repeat wrap is used and no mipmapping.\n\nuniforms.noise.baseTexture.wrapMode = PIXI.WRAP_MODES.REPEAT;\nuniforms.noise.baseTexture.mipmap = false;\n\n// Build the shader and the quad.\nconst shader = PIXI.Shader.from(vertexSrc, fragmentSrc, uniforms);\nconst quad = new PIXI.Mesh(geometry, shader);\n\nquad.position.set(400, 300);\nquad.scale.set(2);\n\napp.stage.addChild(quad);\n\n// start the animation..\nlet time = 0;\n\napp.ticker.add((delta) =>\n{\n    time += 1 / 60;\n    quad.shader.uniforms.time = time;\n    quad.scale.set(Number(Math.cos(time)) + 2, Number(Math.sin(time * 0.7)) + 2);\n});\n",sharedShader:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst geometry = new PIXI.Geometry()\n    .addAttribute(\n        'aVertexPosition', // the attribute name\n        [\n            -100,\n            -100, // x, y\n            100,\n            -100, // x, y\n            100,\n            100,\n        ],\n    ) // x, y\n\n    .addAttribute(\n        'aUvs', // the attribute name\n        [\n            0,\n            0, // u, v\n            1,\n            0, // u, v\n            1,\n            1,\n        ],\n    ); // u, v\n\nconst shader = PIXI.Shader.from(\n    `\n\n    precision mediump float;\n\n    attribute vec2 aVertexPosition;\n    attribute vec2 aUvs;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec2 vUvs;\n\n    void main() {\n\n        vUvs = aUvs;\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    }`,\n\n    `precision mediump float;\n\n    varying vec2 vUvs;\n\n    uniform sampler2D uSampler2;\n\n    void main() {\n\n        gl_FragColor = texture2D(uSampler2, vUvs);\n    }\n\n`,\n    {\n        uSampler2: PIXI.Texture.from('https://pixijs.com/assets/bg_scene_rotate.jpg'),\n    },\n);\n\nconst shader2 = PIXI.Shader.from(\n    `\n\n    precision mediump float;\n\n    attribute vec2 aVertexPosition;\n    attribute vec2 aUvs;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec2 vUvs;\n\n    void main() {\n\n        vUvs = aUvs;\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    }`,\n\n    `precision mediump float;\n\n    varying vec2 vUvs;\n\n    uniform sampler2D uSampler2;\n\n    void main() {\n\n        gl_FragColor = texture2D(uSampler2, vUvs);\n        gl_FragColor.r += (abs(sin(gl_FragCoord.x * 0.06)) * 0.5) * 2.;\n        gl_FragColor.g += (abs(cos(gl_FragCoord.y * 0.06)) * 0.5) * 2.;\n    }\n\n`,\n    {\n        uSampler2: PIXI.Texture.from('https://pixijs.com/assets/bg_scene_rotate.jpg'),\n    },\n);\n\nconst triangle = new PIXI.Mesh(geometry, shader);\n\nconst triangle2 = new PIXI.Mesh(geometry, shader2);\n\ntriangle.position.set(400, 300);\ntriangle.scale.set(2);\n\ntriangle2.position.set(500, 400);\ntriangle2.scale.set(3);\n\napp.stage.addChild(triangle2, triangle);\n\napp.ticker.add((delta) =>\n{\n    triangle.rotation += 0.01;\n    triangle2.rotation -= 0.005;\n});\n",sharingGeometry:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst geometry = new PIXI.Geometry()\n    .addAttribute(\n        'aVertexPosition', // the attribute name\n        [\n            -100,\n            -100, // x, y\n            100,\n            -100, // x, y\n            100,\n            100,\n        ], // x, y\n        2,\n    ) // the size of the attribute\n\n    .addAttribute(\n        'aUvs', // the attribute name\n        [\n            0,\n            0, // u, v\n            1,\n            0, // u, v\n            1,\n            1,\n        ], // u, v\n        2,\n    ); // the size of the attribute\n\nconst program = PIXI.Program.from(\n    `\n\n    precision mediump float;\n\n    attribute vec2 aVertexPosition;\n    attribute vec2 aUvs;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec2 vUvs;\n\n    void main() {\n\n        vUvs = aUvs;\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    }`,\n\n    `precision mediump float;\n\n    varying vec2 vUvs;\n\n    uniform sampler2D uSamplerTexture;\n\n    void main() {\n\n        gl_FragColor = texture2D(uSamplerTexture, vUvs);\n    }\n\n`,\n);\n\nconst triangle = new PIXI.Mesh(\n    geometry,\n    new PIXI.Shader(program, {\n        uSamplerTexture: PIXI.Texture.from('https://pixijs.com/assets/bg_scene_rotate.jpg'),\n    }),\n);\n\nconst triangle2 = new PIXI.Mesh(\n    geometry,\n    new PIXI.Shader(program, {\n        uSamplerTexture: PIXI.Texture.from('https://pixijs.com/assets/bg_rotate.jpg'),\n    }),\n);\n\nconst triangle3 = new PIXI.Mesh(\n    geometry,\n    new PIXI.Shader(program, {\n        uSamplerTexture: PIXI.Texture.from('https://pixijs.com/assets/bg_displacement.jpg'),\n    }),\n);\n\ntriangle.position.set(400, 300);\ntriangle.scale.set(2);\n\ntriangle2.position.set(200, 100);\n\ntriangle3.position.set(500, 400);\ntriangle3.scale.set(3);\n\napp.stage.addChild(triangle3, triangle2, triangle);\n\napp.ticker.add((delta) =>\n{\n    triangle.rotation += 0.01;\n    triangle2.rotation -= 0.01;\n    triangle3.rotation -= 0.005;\n});\n",texturedMeshAdvanced:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nlet count = 0;\n\n// build a rope!\nconst ropeLength = 45;\n\nconst points = [];\n\nfor (let i = 0; i < 25; i++)\n{\n    points.push(new PIXI.Point(i * ropeLength, 0));\n}\n\nconst strip = new PIXI.SimpleRope(PIXI.Texture.from('https://pixijs.com/assets/snake.png'), points);\n\nstrip.x = -40;\nstrip.y = 300;\n\napp.stage.addChild(strip);\n\nconst g = new PIXI.Graphics();\n\ng.x = strip.x;\ng.y = strip.y;\napp.stage.addChild(g);\n\n// start animating\napp.ticker.add(() =>\n{\n    count += 0.1;\n\n    // make the snake\n    for (let i = 0; i < points.length; i++)\n    {\n        points[i].y = Math.sin(i * 0.5 + count) * 30;\n        points[i].x = i * ropeLength + Math.cos(i * 0.3 + count) * 20;\n    }\n    renderPoints();\n});\n\nfunction renderPoints()\n{\n    g.clear();\n\n    g.lineStyle(2, 0xffc2c2);\n    g.moveTo(points[0].x, points[0].y);\n\n    for (let i = 1; i < points.length; i++)\n    {\n        g.lineTo(points[i].x, points[i].y);\n    }\n\n    for (let i = 1; i < points.length; i++)\n    {\n        g.beginFill(0xff0022);\n        g.drawCircle(points[i].x, points[i].y, 10);\n        g.endFill();\n    }\n}\n",texturedMeshBasic:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nlet count = 0;\n\n// build a rope!\nconst ropeLength = 918 / 20;\n\nconst points = [];\n\nfor (let i = 0; i < 20; i++)\n{\n    points.push(new PIXI.Point(i * ropeLength, 0));\n}\n\nconst strip = new PIXI.SimpleRope(PIXI.Texture.from('https://pixijs.com/assets/snake.png'), points);\n\nstrip.x = -459;\n\nconst snakeContainer = new PIXI.Container();\n\nsnakeContainer.x = 400;\nsnakeContainer.y = 300;\n\nsnakeContainer.scale.set(800 / 1100);\napp.stage.addChild(snakeContainer);\n\nsnakeContainer.addChild(strip);\n\napp.ticker.add(() =>\n{\n    count += 0.1;\n\n    // make the snake\n    for (let i = 0; i < points.length; i++)\n    {\n        points[i].y = Math.sin(i * 0.5 + count) * 30;\n        points[i].x = i * ropeLength + Math.cos(i * 0.3 + count) * 20;\n    }\n});\n",triangleColor:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst geometry = new PIXI.Geometry()\n    .addAttribute(\n        'aVertexPosition', // the attribute name\n        [\n            -100,\n            -50, // x, y\n            100,\n            -50, // x, y\n            0.0,\n            100.0,\n        ], // x, y\n        2,\n    ) // the size of the attribute\n\n    .addAttribute(\n        'aColor', // the attribute name\n        [\n            1,\n            0,\n            0, // r, g, b\n            0,\n            1,\n            0, // r, g, b\n            0,\n            0,\n            1,\n        ], // r, g, b\n        3,\n    ); // the size of the attribute\n\nconst shader = PIXI.Shader.from(\n    `\n\n    precision mediump float;\n    attribute vec2 aVertexPosition;\n    attribute vec3 aColor;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec3 vColor;\n\n    void main() {\n\n        vColor = aColor;\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    }`,\n\n    `precision mediump float;\n\n    varying vec3 vColor;\n\n    void main() {\n        gl_FragColor = vec4(vColor, 1.0);\n    }\n\n`,\n);\n\nconst triangle = new PIXI.Mesh(geometry, shader);\n\ntriangle.position.set(400, 300);\ntriangle.scale.set(2);\n\napp.stage.addChild(triangle);\n\napp.ticker.add((delta) =>\n{\n    triangle.rotation += 0.01;\n});\n",triangleTextured:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst geometry = new PIXI.Geometry()\n    .addAttribute(\n        'aVertexPosition', // the attribute name\n        [\n            -100,\n            -100, // x, y\n            100,\n            -100, // x, y\n            100,\n            100,\n        ], // x, y\n        2,\n    ) // the size of the attribute\n\n    .addAttribute(\n        'aColor', // the attribute name\n        [\n            1,\n            0,\n            0, // r, g, b\n            0,\n            1,\n            0, // r, g, b\n            0,\n            0,\n            1,\n        ], // r, g, b\n        3,\n    ) // the size of the attribute\n\n    .addAttribute(\n        'aUvs', // the attribute name\n        [\n            0,\n            0, // u, v\n            1,\n            0, // u, v\n            1,\n            1,\n        ], // u, v\n        2,\n    ); // the size of the attribute\n\nconst vertexSrc = `\n\n    precision mediump float;\n\n    attribute vec2 aVertexPosition;\n    attribute vec3 aColor;\n    attribute vec2 aUvs;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec2 vUvs;\n    varying vec3 vColor;\n\n    void main() {\n\n        vUvs = aUvs;\n        vColor = aColor;\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    }`;\n\nconst fragmentSrc = `\n\n    precision mediump float;\n\n    varying vec3 vColor;\n    varying vec2 vUvs;\n\n    uniform sampler2D uSampler2;\n\n    void main() {\n\n        gl_FragColor = texture2D(uSampler2, vUvs) * vec4(vColor, 1.0);\n    }`;\n\nconst uniforms = { uSampler2: PIXI.Texture.from('https://pixijs.com/assets/bg_scene_rotate.jpg') };\n\nconst shader = PIXI.Shader.from(vertexSrc, fragmentSrc, uniforms);\n\nconst triangle = new PIXI.Mesh(geometry, shader);\n\ntriangle.position.set(400, 300);\ntriangle.scale.set(2);\n\napp.stage.addChild(triangle);\n\napp.ticker.add((delta) =>\n{\n    triangle.rotation += 0.01;\n});\n",triangle:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst geometry = new PIXI.Geometry().addAttribute('aVertexPosition', [-100, -50, 100, -50, 0, 100]);\n\nconst shader = PIXI.Shader.from(\n    `\n\n    precision mediump float;\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    void main() {\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    }`,\n\n    `precision mediump float;\n\n    void main() {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n    }\n\n`,\n);\n\nconst triangle = new PIXI.Mesh(geometry, shader);\n\ntriangle.position.set(400, 300);\n\napp.stage.addChild(triangle);\n\napp.ticker.add((delta) =>\n{\n    triangle.rotation += 0.01;\n});\n",uniforms:"import * as PIXI from 'pixi.js';\n\nconst app = new PIXI.Application({ resizeTo: window });\n\ndocument.body.appendChild(app.view);\n\nconst geometry = new PIXI.Geometry()\n    .addAttribute(\n        'aVertexPosition', // the attribute name\n        [\n            -100,\n            -100, // x, y\n            100,\n            -100, // x, y\n            100,\n            100,\n            -100,\n            100,\n        ], // x, y\n        2,\n    ) // the size of the attribute\n    .addAttribute(\n        'aUvs', // the attribute name\n        [\n            0,\n            0, // u, v\n            1,\n            0, // u, v\n            1,\n            1,\n            0,\n            1,\n        ], // u, v\n        2,\n    ) // the size of the attribute\n    .addIndex([0, 1, 2, 0, 2, 3]);\n\nconst vertexSrc = `\n\n    precision mediump float;\n\n    attribute vec2 aVertexPosition;\n    attribute vec2 aUvs;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec2 vUvs;\n\n    void main() {\n\n        vUvs = aUvs;\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    }`;\n\nconst fragmentSrc = `\n\n    precision mediump float;\n\n    varying vec2 vUvs;\n\n    uniform sampler2D uSampler2;\n    uniform float time;\n\n    void main() {\n\n        gl_FragColor = texture2D(uSampler2, vUvs + sin( (time + (vUvs.x) * 14.) ) * 0.1 );\n    }`;\n\nconst uniforms = {\n    uSampler2: PIXI.Texture.from('https://pixijs.com/assets/bg_scene_rotate.jpg'),\n    time: 0,\n};\n\nconst shader = PIXI.Shader.from(vertexSrc, fragmentSrc, uniforms);\n\nconst quad = new PIXI.Mesh(geometry, shader);\n\nquad.position.set(400, 300);\nquad.scale.set(2);\n\napp.stage.addChild(quad);\n\n// start the animation..\n// requestAnimationFrame(animate);\n\napp.ticker.add((delta) =>\n{\n    quad.rotation += 0.01;\n    quad.shader.uniforms.time += 0.1;\n});\n"}},a=e=>{const t={hide:!1,usesWebWorkerLibrary:!1};return"string"==typeof e?{...t,name:e}:{...t,...e}},l={entries:Object.entries(r).reduce(((e,t)=>{let[n,i]=t;return{...e,[n]:i.reduce(((e,t)=>{const i=a(t),{name:r,hide:o,usesWebWorkerLibrary:l}=i;return{...e,[r]:{source:s[n][r],hide:o,usesWebWorkerLibrary:l}}}),{})}}),{}),options:Object.entries(r).map((e=>{let[t,n]=e;const i=n.reduce(((e,n)=>{const{name:i,hide:r}=a(n);return r?e:e.concat({value:`${t}.${i}`,label:o(i)})}),[]);return{label:o(t),options:i}}))},c=JSON.parse('{"basic":["container","transparentBackground","tinting","particleContainer","blendModes","meshPlane","renderGroup","cacheAsTexture"],"advanced":["slots","scratchCard","starWarp","mouseTrail","screenShot","collisionDetection","spinners"],"sprite":["basic","textureSwap","animatedSpriteExplosion","animatedSpriteJet","animatedSpriteAnimationSpeed","tilingSprite","video"],"text":["pixiText","bitmapText","fromFont","webFont"],"graphics":["simple","advanced","dynamic","svg","svgLoad","texture","fillGradient","meshFromPath","pixelLine"],"events":["click","interactivity","dragging","customMouseIcon","customHitarea",{"name":"hitTestingWithSpatialHash","hide":true},"logger","pointerTracker","slider"],"masks":["graphics","sprite","filter","inverseMask"],"filtersBasic":["blur","colorMatrix","displacementMapCrawlies","displacementMapFlag"],"filtersAdvanced":["mouseBlending","custom"],"meshAndShaders":["perspectiveMesh","texturedMeshBasic","texturedMeshAdvanced","triangle","triangleColor","triangleTextured","sharedGeometry","sharedShader","instancedGeometry","shaderToyMesh","multipassMesh"],"textures":["textureRotate","renderTextureBasic","renderTextureAdvanced"],"assets":["promise","async","multiple","background","bundle"],"offscreenCanvas":["basic",{"name":"webWorker","hide":true,"usesWebWorkerLibrary":true}]}'),h={basic:{blendModes:"import 'pixi.js/advanced-blend-modes';\n\nimport { Application, Assets, Container, Sprite, Text, Texture } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        antialias: true,\n        backgroundColor: 'white',\n        resizeTo: window,\n        // NEEDS TO BE TRUE FOR WEBGL!\n        useBackBuffer: true,\n    });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const pandaTexture = await Assets.load(`https://pixijs.com/assets/panda.png`);\n    const rainbowGradient = await Assets.load(`https://pixijs.com/assets/rainbow-gradient.png`);\n\n    const allBlendModes = [\n        'normal',\n        'add',\n        'screen',\n        'darken',\n        'lighten',\n        'color-dodge',\n        'color-burn',\n        'linear-burn',\n        'linear-dodge',\n        'linear-light',\n        'hard-light',\n        'soft-light',\n        'pin-light',\n        'difference',\n        'exclusion',\n        'overlay',\n        'saturation',\n        'color',\n        'luminosity',\n        'add-npm',\n        'subtract',\n        'divide',\n        'vivid-light',\n        'hard-mix',\n        'negation',\n    ];\n\n    const size = 800 / 5;\n\n    const pandas = [];\n\n    for (let i = 0; i < allBlendModes.length; i++)\n    {\n        const container = new Container();\n\n        const sprite = new Sprite({\n            texture: pandaTexture,\n            width: 100,\n            height: 100,\n            anchor: 0.5,\n            position: { x: size / 2, y: size / 2 },\n        });\n\n        pandas.push(sprite);\n\n        const sprite2 = new Sprite({\n            texture: rainbowGradient,\n            width: size,\n            height: size,\n            blendMode: allBlendModes[i],\n        });\n\n        container.addChild(sprite, sprite2);\n\n        const text = new Text({\n            text: allBlendModes[i],\n            style: {\n                fontSize: 16,\n                fontFamily: 'short-stack',\n            },\n        });\n\n        // Add blend mode text labels\n        text.x = size / 2 - text.width / 2;\n        text.y = size - text.height;\n        const textBackground = new Sprite(Texture.WHITE);\n\n        textBackground.x = text.x - 2;\n        textBackground.y = text.y;\n        textBackground.width = text.width + 4;\n        textBackground.height = text.height + 4;\n        container.addChild(textBackground, text);\n\n        app.stage.addChild(container);\n\n        container.x = (i % 5) * size;\n        container.y = Math.floor(i / 5) * size;\n    }\n\n    app.ticker.add(() =>\n    {\n        pandas.forEach((panda, i) =>\n        {\n            panda.rotation += 0.01 * (i % 2 ? 1 : -1);\n        });\n    });\n})();\n",container:"import { Application, Assets, Container, Sprite } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Create and add a container to the stage\n    const container = new Container();\n\n    app.stage.addChild(container);\n\n    // Load the bunny texture\n    const texture = await Assets.load('https://pixijs.com/assets/bunny.png');\n\n    // Create a 5x5 grid of bunnies in the container\n    for (let i = 0; i < 25; i++)\n    {\n        const bunny = new Sprite(texture);\n\n        bunny.x = (i % 5) * 40;\n        bunny.y = Math.floor(i / 5) * 40;\n        container.addChild(bunny);\n    }\n\n    // Move the container to the center\n    container.x = app.screen.width / 2;\n    container.y = app.screen.height / 2;\n\n    // Center the bunny sprites in local container coordinates\n    container.pivot.x = container.width / 2;\n    container.pivot.y = container.height / 2;\n\n    // Listen for animate update\n    app.ticker.add((time) =>\n    {\n        // Continuously rotate the container!\n        // * use delta to create frame-independent transform *\n        container.rotation -= 0.01 * time.deltaTime;\n    });\n})();\n",particleContainer:"import { Application, Assets, Sprite, Container, Rectangle } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the maggot texture\n    const texture = await Assets.load('https://pixijs.com/assets/maggot_tiny.png');\n\n    // Create a container for all the maggots particles and add it to the stage\n    const sprites = new Container();\n\n    app.stage.addChild(sprites);\n\n    // Create an array to store all the sprites\n    const maggots = [];\n\n    const totalSprites = 10000;\n\n    for (let i = 0; i < totalSprites; i++)\n    {\n        // Create a new maggot Sprite\n        const dude = new Sprite(texture);\n\n        // Set the anchor point so the texture is centerd on the sprite\n        dude.anchor.set(0.5);\n\n        // Different maggots, different sizes\n        dude.scale.set(0.8 + Math.random() * 0.3);\n\n        // Scatter them all\n        dude.x = Math.random() * app.screen.width;\n        dude.y = Math.random() * app.screen.height;\n\n        dude.tint = Math.random() * 0x808080;\n\n        // Create a random direction in radians\n        dude.direction = Math.random() * Math.PI * 2;\n\n        // This number will be used to modify the direction of the sprite over time\n        dude.turningSpeed = Math.random() - 0.8;\n\n        // Create a random speed between 0 - 2, and these maggots are slooww\n        dude.speed = (2 + Math.random() * 2) * 0.2;\n\n        dude.offset = Math.random() * 100;\n\n        // Finally we push the dude into the maggots array so it it can be easily accessed later\n        maggots.push(dude);\n\n        sprites.addChild(dude);\n    }\n\n    // Create a bounding box box for the little maggots\n    const dudeBoundsPadding = 100;\n    const dudeBounds = new Rectangle(\n        -dudeBoundsPadding,\n        -dudeBoundsPadding,\n        app.screen.width + dudeBoundsPadding * 2,\n        app.screen.height + dudeBoundsPadding * 2,\n    );\n\n    let tick = 0;\n\n    app.ticker.add(() =>\n    {\n        // Iterate through the sprites and update their position\n        for (let i = 0; i < maggots.length; i++)\n        {\n            const dude = maggots[i];\n\n            dude.scale.y = 0.95 + Math.sin(tick + dude.offset) * 0.05;\n            dude.direction += dude.turningSpeed * 0.01;\n            dude.x += Math.sin(dude.direction) * (dude.speed * dude.scale.y);\n            dude.y += Math.cos(dude.direction) * (dude.speed * dude.scale.y);\n            dude.rotation = -dude.direction + Math.PI;\n\n            // Wrap the maggots\n            if (dude.x < dudeBounds.x)\n            {\n                dude.x += dudeBounds.width;\n            }\n            else if (dude.x > dudeBounds.x + dudeBounds.width)\n            {\n                dude.x -= dudeBounds.width;\n            }\n\n            if (dude.y < dudeBounds.y)\n            {\n                dude.y += dudeBounds.height;\n            }\n            else if (dude.y > dudeBounds.y + dudeBounds.height)\n            {\n                dude.y -= dudeBounds.height;\n            }\n        }\n\n        // Increment the ticker\n        tick += 0.1;\n    });\n})();\n",meshPlane:"import { Application, MeshPlane, Assets } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the grass texture\n    const texture = await Assets.load('https://pixijs.com/assets/bg_grass.jpg');\n\n    // Create a simple grass plane and add it to the stage\n    const plane = new MeshPlane({ texture, verticesX: 10, verticesY: 10 });\n\n    plane.x = 100;\n    plane.y = 100;\n\n    app.stage.addChild(plane);\n\n    // Get the buffer for vertex positions.\n    const { buffer } = plane.geometry.getAttribute('aPosition');\n\n    // Listen for animate update\n    let timer = 0;\n\n    app.ticker.add(() =>\n    {\n        // Randomize the vertice positions a bit to create movement.\n        for (let i = 0; i < buffer.data.length; i++)\n        {\n            buffer.data[i] += Math.sin(timer / 10 + i) * 0.5;\n        }\n        buffer.update();\n        timer++;\n    });\n})();\n",tinting:"import { Application, Assets, Sprite, Rectangle } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the alien texture\n    const texture = await Assets.load('https://pixijs.com/assets/eggHead.png');\n\n    // Create an array to store the aliens\n    const aliens = [];\n\n    const totalDudes = 20;\n\n    for (let i = 0; i < totalDudes; i++)\n    {\n        // Create a new alien Sprite\n        const dude = new Sprite(texture);\n\n        // Set the anchor point so the texture is centered on the sprite\n        dude.anchor.set(0.5);\n\n        // Set a random scale for the dude - no point them all being the same size!\n        dude.scale.set(0.8 + Math.random() * 0.3);\n\n        // Finally lets set the dude to be at a random position..\n        dude.x = Math.random() * app.screen.width;\n        dude.y = Math.random() * app.screen.height;\n\n        dude.tint = Math.random() * 0xffffff;\n\n        // Create some extra properties that will control movement: ---------------------\n\n        // Create a random direction in radians.\n        // This is a number between 0 and PI*2 which is the equivalent of 0 - 360 degrees\n        dude.direction = Math.random() * Math.PI * 2;\n\n        // This number will be used to modify the direction of the dude over time\n        dude.turningSpeed = Math.random() - 0.8;\n\n        // Create a random speed for the dude between 2 - 4\n        dude.speed = 2 + Math.random() * 2;\n\n        // Finally we push the dude into the aliens array so it it can be easily accessed later\n        aliens.push(dude);\n\n        app.stage.addChild(dude);\n    }\n\n    // Create a bounding box for the little dudes\n    const dudeBoundsPadding = 100;\n    const dudeBounds = new Rectangle(\n        -dudeBoundsPadding,\n        -dudeBoundsPadding,\n        app.screen.width + dudeBoundsPadding * 2,\n        app.screen.height + dudeBoundsPadding * 2,\n    );\n\n    app.ticker.add(() =>\n    {\n        // Iterate through the dudes and update their position\n        for (let i = 0; i < aliens.length; i++)\n        {\n            const dude = aliens[i];\n\n            dude.direction += dude.turningSpeed * 0.01;\n            dude.x += Math.sin(dude.direction) * dude.speed;\n            dude.y += Math.cos(dude.direction) * dude.speed;\n            dude.rotation = -dude.direction - Math.PI / 2;\n\n            // Constrain the dudes' position by testing their bounds...\n            if (dude.x < dudeBounds.x)\n            {\n                dude.x += dudeBounds.width;\n            }\n            else if (dude.x > dudeBounds.x + dudeBounds.width)\n            {\n                dude.x -= dudeBounds.width;\n            }\n\n            if (dude.y < dudeBounds.y)\n            {\n                dude.y += dudeBounds.height;\n            }\n            else if (dude.y > dudeBounds.y + dudeBounds.height)\n            {\n                dude.y -= dudeBounds.height;\n            }\n        }\n    });\n})();\n",transparentBackground:"import { Application, Assets, Sprite } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application with a transparent background\n    await app.init({ backgroundAlpha: 0, resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the bunny texture\n    const texture = await Assets.load('https://pixijs.com/assets/bunny.png');\n\n    // Create a new Sprite with the texture\n    const bunny = new Sprite(texture);\n\n    // Center the sprite's anchor point\n    bunny.anchor.set(0.5);\n\n    // Move the sprite to the center of the screen\n    bunny.x = app.screen.width / 2;\n    bunny.y = app.screen.height / 2;\n\n    app.stage.addChild(bunny);\n\n    // Listen for animate update\n    app.ticker.add(() =>\n    {\n        // Just for fun, let's rotate our bunny over time!\n        bunny.rotation += 0.1;\n    });\n})();\n",renderGroup:"import { Application, Assets, Container, Sprite } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        backgroundColor: 'brown',\n        resizeTo: window,\n    });\n\n    const treeTexture = await Assets.load(`https://pixijs.com/assets/tree.png`);\n\n    const worldContainer = new Container({\n        // this will make moving this container GPU powered\n        isRenderGroup: true,\n    });\n\n    const worldSize = 5000;\n\n    for (let i = 0; i < 100000; i++)\n    {\n        const yPos = Math.random() * worldSize;\n\n        const tree = new Sprite({\n            texture: treeTexture,\n            x: Math.random() * worldSize,\n            y: yPos,\n            scale: 0.25,\n            anchor: 0.5,\n        });\n\n        worldContainer.addChild(tree);\n    }\n\n    // sort the trees by their y position\n    worldContainer.children.sort((a, b) => a.position.y - b.position.y);\n\n    app.stage.addChild(worldContainer);\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    let x = 0;\n    let y = 0;\n\n    app.canvas.addEventListener('mousemove', (e) =>\n    {\n        x = e.clientX;\n        y = e.clientY;\n    });\n\n    app.ticker.add(() =>\n    {\n        const screenWidth = app.renderer.width;\n        const screenHeight = app.renderer.height;\n\n        const targetX = (x / screenWidth) * (worldSize - screenWidth);\n        const targetY = (y / screenHeight) * (worldSize - screenHeight);\n\n        worldContainer.x += (-targetX - worldContainer.x) * 0.1;\n        worldContainer.y += (-targetY - worldContainer.y) * 0.1;\n    });\n})();\n",cacheAsTexture:"import { Application, Assets, Container, Sprite } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // load resources\n    await Assets.load('https://pixijs.com/assets/spritesheet/monsters.json');\n\n    // holder to store aliens\n    const aliens = [];\n    const alienFrames = ['eggHead.png', 'flowerTop.png', 'helmlok.png', 'skully.png'];\n\n    let count = 0;\n\n    // create an empty container\n    const alienContainer = new Container();\n\n    alienContainer.x = app.screen.width / 2;\n    alienContainer.y = app.screen.height / 2;\n\n    // make the stage interactive\n    app.stage.eventMode = 'static';\n    app.stage.addChild(alienContainer);\n\n    // add a bunch of aliens with textures from image paths\n    for (let i = 0; i < 100; i++)\n    {\n        const frameName = alienFrames[i % 4];\n\n        // create an alien using the frame name..\n        const alien = Sprite.from(frameName);\n\n        alien.tint = Math.random() * 0xffffff;\n\n        alien.x = Math.random() * app.screen.width - app.screen.width / 2;\n        alien.y = Math.random() * app.screen.height - app.screen.height / 2;\n        alien.anchor.x = 0.5;\n        alien.anchor.y = 0.5;\n        aliens.push(alien);\n        alienContainer.addChild(alien);\n    }\n\n    // Combines both mouse click + touch tap\n    app.stage.on('pointertap', onClick);\n\n    function onClick()\n    {\n        alienContainer.cacheAsTexture(!alienContainer.isCachedAsTexture);\n    }\n\n    app.ticker.add(() =>\n    {\n        // let's rotate the aliens a little bit\n        for (let i = 0; i < 100; i++)\n        {\n            const alien = aliens[i];\n\n            alien.rotation += 0.1;\n        }\n\n        count += 0.01;\n\n        alienContainer.scale.x = Math.sin(count);\n        alienContainer.scale.y = Math.sin(count);\n        alienContainer.rotation += 0.01;\n    });\n})();\n"},sprite:{animatedSpriteAnimationSpeed:"import { Application, Assets, AnimatedSprite, Texture } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ autoStart: false, resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the animation sprite sheet\n    const spritesheet = await Assets.load('https://pixijs.com/assets/spritesheet/0123456789.json');\n\n    // Create an array to store the textures\n    const textures = [];\n    let i;\n\n    for (i = 0; i < 10; i++)\n    {\n        const framekey = `0123456789 ${i}.ase`;\n        const texture = Texture.from(framekey);\n        const time = spritesheet.data.frames[framekey].duration;\n\n        textures.push({ texture, time });\n    }\n\n    const scaling = 4;\n\n    // Create a slow AnimatedSprite\n    const slow = new AnimatedSprite(textures);\n\n    slow.anchor.set(0.5);\n    slow.scale.set(scaling);\n    slow.animationSpeed = 0.5;\n    slow.x = (app.screen.width - slow.width) / 2;\n    slow.y = app.screen.height / 2;\n    slow.play();\n    app.stage.addChild(slow);\n\n    // Create a fast AnimatedSprite\n    const fast = new AnimatedSprite(textures);\n\n    fast.anchor.set(0.5);\n    fast.scale.set(scaling);\n    fast.x = (app.screen.width + fast.width) / 2;\n    fast.y = app.screen.height / 2;\n    fast.play();\n    app.stage.addChild(fast);\n\n    // Start animating\n    app.start();\n})();\n",animatedSpriteExplosion:"import { Application, Assets, AnimatedSprite, Texture } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ autoStart: false, resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the animation sprite sheet\n    const texture = await Assets.load('https://pixijs.com/assets/spritesheet/mc.json');\n\n    // Create an array to store the textures\n    const explosionTextures = [];\n    let i;\n\n    for (i = 0; i < 26; i++)\n    {\n        const texture = Texture.from(`Explosion_Sequence_A ${i + 1}.png`);\n\n        explosionTextures.push(texture);\n    }\n\n    // Create and randomly place the animated explosion sprites on the stage\n    for (i = 0; i < 50; i++)\n    {\n        // Create an explosion AnimatedSprite\n        const explosion = new AnimatedSprite(explosionTextures);\n\n        explosion.x = Math.random() * app.screen.width;\n        explosion.y = Math.random() * app.screen.height;\n        explosion.anchor.set(0.5);\n        explosion.rotation = Math.random() * Math.PI;\n        explosion.scale.set(0.75 + Math.random() * 0.5);\n        explosion.gotoAndPlay((Math.random() * 26) | 0);\n        app.stage.addChild(explosion);\n    }\n\n    // Start animating\n    app.start();\n})();\n",animatedSpriteJet:"import { Application, Assets, AnimatedSprite, Texture } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the animation sprite sheet\n    await Assets.load('https://pixijs.com/assets/spritesheet/fighter.json');\n\n    // Create an array of textures from the sprite sheet\n    const frames = [];\n\n    for (let i = 0; i < 30; i++)\n    {\n        const val = i < 10 ? `0${i}` : i;\n\n        // Magically works since the spritesheet was loaded with the pixi loader\n        frames.push(Texture.from(`rollSequence00${val}.png`));\n    }\n\n    // Create an AnimatedSprite (brings back memories from the days of Flash, right ?)\n    const anim = new AnimatedSprite(frames);\n\n    /*\n     * An AnimatedSprite inherits all the properties of a PIXI sprite\n     * so you can change its position, its anchor, mask it, etc\n     */\n    anim.x = app.screen.width / 2;\n    anim.y = app.screen.height / 2;\n    anim.anchor.set(0.5);\n    anim.animationSpeed = 0.5;\n    anim.play();\n\n    app.stage.addChild(anim);\n\n    // Animate the rotation\n    app.ticker.add(() =>\n    {\n        anim.rotation += 0.01;\n    });\n})();\n",basic:"import { Application, Assets, Sprite } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the bunny texture\n    const texture = await Assets.load('https://pixijs.com/assets/bunny.png');\n\n    // Create a bunny Sprite\n    const bunny = new Sprite(texture);\n\n    // Center the sprite's anchor point\n    bunny.anchor.set(0.5);\n\n    // Move the sprite to the center of the screen\n    bunny.x = app.screen.width / 2;\n    bunny.y = app.screen.height / 2;\n\n    app.stage.addChild(bunny);\n\n    // Listen for animate update\n    app.ticker.add((time) =>\n    {\n        // Just for fun, let's rotate mr rabbit a little.\n        // * Delta is 1 if running at 100% performance *\n        // * Creates frame-independent transformation *\n        bunny.rotation += 0.1 * time.deltaTime;\n    });\n})();\n",textureSwap:"import { Application, Assets, Texture, Sprite } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the textures\n    const alien1texture = await Assets.load('https://pixijs.com/assets/flowerTop.png');\n    const alien2texture = await Assets.load('https://pixijs.com/assets/eggHead.png');\n\n    let isAlien1 = true;\n\n    // Create a new alien Sprite using the 1st texture and add it to the stage\n    const character = new Sprite(alien1texture);\n\n    // Center the sprites anchor point\n    character.anchor.set(0.5);\n\n    // Move the sprite to the center of the screen\n    character.x = app.screen.width / 2;\n    character.y = app.screen.height / 2;\n\n    app.stage.addChild(character);\n\n    // Make the sprite interactive\n    character.eventMode = 'static';\n    character.cursor = 'pointer';\n\n    character.on('pointertap', () =>\n    {\n        isAlien1 = !isAlien1;\n        // Dynamically swap the texture\n        character.texture = isAlien1 ? alien1texture : alien2texture;\n    });\n\n    app.ticker.add(() =>\n    {\n        character.rotation += 0.02;\n    });\n})();\n",tilingSprite:"import { Application, Assets, TilingSprite } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the tile texture\n    const texture = await Assets.load('https://pixijs.com/assets/p2.jpeg');\n\n    /* Create a tiling sprite and add it to the stage...\n     * requires a texture, a width and a height\n     * in WebGL the image size should preferably be a power of two\n     */\n    const tilingSprite = new TilingSprite({\n        texture,\n        width: app.screen.width,\n        height: app.screen.height,\n    });\n\n    app.stage.addChild(tilingSprite);\n\n    let count = 0;\n\n    // Animate the tiling sprite\n    app.ticker.add(() =>\n    {\n        count += 0.005;\n\n        tilingSprite.tileScale.x = 2 + Math.sin(count);\n        tilingSprite.tileScale.y = 2 + Math.cos(count);\n\n        tilingSprite.tilePosition.x += 1;\n        tilingSprite.tilePosition.y += 1;\n    });\n})();\n",video:"import { Application, Assets, Graphics, Sprite } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Create play button that can be used to trigger the video\n    const button = new Graphics()\n        .roundRect(0, 0, 100, 100, 10)\n        .fill(0xffffff, 0.5)\n        .beginPath()\n        .moveTo(36, 30)\n        .lineTo(36, 70)\n        .lineTo(70, 50)\n        .closePath()\n        .fill(0xffffff);\n\n    // Position the button\n    button.x = (app.screen.width - button.width) / 2;\n    button.y = (app.screen.height - button.height) / 2;\n\n    // Enable interactivity on the button\n    button.eventMode = 'static';\n    button.cursor = 'pointer';\n\n    // Add to the stage\n    app.stage.addChild(button);\n\n    // Load the video texture\n    const texture = await Assets.load('https://pixijs.com/assets/video.mp4');\n\n    // Listen for a click/tap event to start playing the video\n    // this is useful for some mobile platforms. For example:\n    // ios9 and under cannot render videos in PIXI without a\n    // polyfill - https://github.com/bfred-it/iphone-inline-video\n    // ios10 and above require a click/tap event to render videos\n    // that contain audio in PIXI. Videos with no audio track do\n    // not have this requirement\n    button.on('pointertap', () =>\n    {\n        // Don't need the button anymore\n        button.destroy();\n\n        // Create a new Sprite using the video texture (yes it's that easy)\n        const videoSprite = new Sprite(texture);\n\n        // Stretch to fill the whole screen\n        videoSprite.width = app.screen.width;\n        videoSprite.height = app.screen.height;\n\n        app.stage.addChild(videoSprite);\n    });\n})();\n"},text:{bitmapText:"import { Application, Assets, BitmapText } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load bitmap font\n    await Assets.load('https://pixijs.com/assets/bitmap-font/desyrel.xml');\n\n    const bitmapFontText = new BitmapText({\n        text: 'bitmap fonts are supported!\\nWoo yay!',\n        style: {\n            fontFamily: 'Desyrel',\n            fontSize: 55,\n            align: 'left',\n        },\n    });\n\n    bitmapFontText.x = 50;\n    bitmapFontText.y = 200;\n\n    app.stage.addChild(bitmapFontText);\n})();\n",fromFont:"import { Application, Assets, Text } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Add font files to the bundle\n    Assets.addBundle('fonts', [\n        { alias: 'ChaChicle', src: 'https://pixijs.com/assets/webfont-loader/ChaChicle.ttf' },\n        { alias: 'Lineal', src: 'https://pixijs.com/assets/webfont-loader/Lineal.otf' },\n        { alias: 'Dotrice Regular', src: 'https://pixijs.com/assets/webfont-loader/Dotrice-Regular.woff' },\n        { alias: 'Crosterian', src: 'https://pixijs.com/assets/webfont-loader/Crosterian.woff2' },\n    ]);\n\n    // Load the font bundle\n    await Assets.loadBundle('fonts');\n\n    const text1 = new Text({ text: 'ChaChicle.ttf', style: { fontFamily: 'ChaChicle', fontSize: 50 } });\n    const text2 = new Text({ text: 'Lineal.otf', style: { fontFamily: 'Lineal', fontSize: 50 } });\n    const text3 = new Text({ text: 'Dotrice Regular.woff', style: { fontFamily: 'Dotrice Regular', fontSize: 50 } });\n    const text4 = new Text({ text: 'Crosterian.woff2', style: { fontFamily: 'Crosterian', fontSize: 50 } });\n\n    text2.y = 150;\n    text3.y = 300;\n    text4.y = 450;\n\n    app.stage.addChild(text1);\n    app.stage.addChild(text2);\n    app.stage.addChild(text3);\n    app.stage.addChild(text4);\n})();\n",pixiText:"import { Application, Text, TextStyle, Color, FillGradient } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const basicText = new Text({ text: 'Basic text in pixi' });\n\n    basicText.x = 50;\n    basicText.y = 100;\n\n    app.stage.addChild(basicText);\n\n    // Create gradient fill\n    const fill = new FillGradient(0, 0, 0, 36 * 1.7 * 7);\n\n    const colors = [0xffffff, 0x00ff99].map((color) => Color.shared.setValue(color).toNumber());\n\n    colors.forEach((number, index) =>\n    {\n        const ratio = index / colors.length;\n\n        fill.addColorStop(ratio, number);\n    });\n\n    const style = new TextStyle({\n        fontFamily: 'Arial',\n        fontSize: 36,\n        fontStyle: 'italic',\n        fontWeight: 'bold',\n        fill: { fill },\n        stroke: { color: '#4a1850', width: 5, join: 'round' },\n        dropShadow: {\n            color: '#000000',\n            blur: 4,\n            angle: Math.PI / 6,\n            distance: 6,\n        },\n        wordWrap: true,\n        wordWrapWidth: 440,\n    });\n\n    const richText = new Text({\n        text: 'Rich text with a lot of options and across multiple lines',\n        style,\n    });\n\n    richText.x = 50;\n    richText.y = 220;\n\n    app.stage.addChild(richText);\n\n    const skewStyle = new TextStyle({\n        fontFamily: 'Arial',\n        dropShadow: {\n            alpha: 0.8,\n            angle: 2.1,\n            blur: 4,\n            color: '0x111111',\n            distance: 10,\n        },\n        fill: '#ffffff',\n        stroke: { color: '#004620', width: 12, join: 'round' },\n        fontSize: 60,\n        fontWeight: 'lighter',\n    });\n\n    const skewText = new Text({\n        text: 'SKEW IS COOL',\n        style: skewStyle,\n    });\n\n    skewText.skew.set(0.65, -0.3);\n    skewText.anchor.set(0.5, 0.5);\n    skewText.x = 300;\n    skewText.y = 480;\n\n    app.stage.addChild(skewText);\n})();\n",webFont:"import { Application, Text } from 'pixi.js';\n\n// Load them google fonts before starting...\nwindow.WebFontConfig = {\n    google: {\n        families: ['Snippet'],\n    },\n    active()\n    {\n        init();\n    },\n};\n\n/* eslint-disable */\n// include the web-font loader script\n(function () {\n    const wf = document.createElement('script');\n    wf.src = `${\n        document.location.protocol === 'https:' ? 'https' : 'http'\n    }://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js`;\n    wf.type = 'text/javascript';\n    wf.async = 'true';\n    const s = document.getElementsByTagName('script')[0];\n    s.parentNode.insertBefore(wf, s);\n})();\n/* eslint-enabled */\n\nasync function init() {\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // create some white text using the Snippet webfont\n    const textSample = new Text('PixiJS text using the\\ncustom \"Snippet\" Webfont', {\n        fontFamily: 'Snippet',\n        fontSize: 50,\n        fill: 'white',\n        align: 'left',\n    });\n    textSample.position.set(50, 200);\n    app.stage.addChild(textSample);\n}\n"},graphics:{advanced:"import { Application, Assets, Graphics, Sprite } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ antialias: true, resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load texture\n    const texture = await Assets.load('https://pixijs.com/assets/bg_rotate.jpg');\n\n    const sprite = new Sprite(texture);\n\n    // // BEZIER CURVE ////\n    // information: https://en.wikipedia.org/wiki/B\xe9zier_curve\n\n    const realPath = new Graphics();\n\n    realPath.moveTo(0, 0);\n    realPath.lineTo(100, 200);\n    realPath.lineTo(200, 200);\n    realPath.lineTo(240, 100);\n    realPath.stroke({ width: 2, color: 0xffffff });\n\n    realPath.position.x = 50;\n    realPath.position.y = 50;\n\n    app.stage.addChild(realPath);\n\n    const bezier = new Graphics();\n\n    bezier.bezierCurveTo(100, 200, 200, 200, 240, 100);\n    bezier.stroke({ width: 5, color: 0xaa0000 });\n\n    bezier.position.x = 50;\n    bezier.position.y = 50;\n\n    app.stage.addChild(bezier);\n\n    // // BEZIER CURVE 2 ////\n    const realPath2 = new Graphics();\n\n    realPath2.moveTo(0, 0);\n    realPath2.lineTo(0, -100);\n    realPath2.lineTo(150, 150);\n    realPath2.lineTo(240, 100);\n    realPath2.stroke({ width: 2, color: 0xffffff });\n\n    realPath2.position.x = 320;\n    realPath2.position.y = 150;\n\n    app.stage.addChild(realPath2);\n\n    const bezier2 = new Graphics();\n\n    bezier2.bezierCurveTo(0, -100, 150, 150, 240, 100);\n    bezier2.stroke({ width: 10, texture: sprite.texture });\n\n    bezier2.position.x = 320;\n    bezier2.position.y = 150;\n\n    app.stage.addChild(bezier2);\n\n    // // ARC ////\n    const arc = new Graphics();\n\n    arc.arc(600, 100, 50, Math.PI, 2 * Math.PI);\n    arc.stroke({ width: 5, color: 0xaa00bb });\n\n    app.stage.addChild(arc);\n\n    // // ARC 2 ////\n    const arc2 = new Graphics();\n\n    arc2.arc(650, 270, 60, 2 * Math.PI, (3 * Math.PI) / 2);\n    arc2.stroke({ width: 6, color: 0x3333dd });\n\n    app.stage.addChild(arc2);\n\n    // // ARC 3 ////\n    const arc3 = new Graphics();\n\n    arc3.arc(650, 420, 60, 2 * Math.PI, (2.5 * Math.PI) / 2);\n    arc3.stroke({ width: 20, texture: sprite.texture });\n\n    app.stage.addChild(arc3);\n\n    // / Hole ////\n    const rectAndHole = new Graphics();\n\n    rectAndHole.rect(350, 350, 150, 150);\n    rectAndHole.fill(0x00ff00);\n    rectAndHole.circle(375, 375, 25);\n    rectAndHole.circle(425, 425, 25);\n    rectAndHole.circle(475, 475, 25);\n    rectAndHole.cut();\n\n    app.stage.addChild(rectAndHole);\n\n    // // Line Texture Style ////\n    const beatifulRect = new Graphics();\n\n    beatifulRect.rect(80, 350, 150, 150);\n    beatifulRect.fill(0xff0000);\n    beatifulRect.stroke({ width: 20, texture: sprite.texture });\n\n    app.stage.addChild(beatifulRect);\n})();\n",dynamic:"import { Application, Graphics } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ antialias: true, resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    app.stage.eventMode = 'static';\n    app.stage.hitArea = app.screen;\n\n    const graphics = new Graphics();\n\n    // Draw a shape\n    graphics\n        .moveTo(50, 50)\n        .lineTo(250, 50)\n        .lineTo(100, 100)\n        .lineTo(250, 220)\n        .lineTo(50, 220)\n        .lineTo(50, 50)\n        .fill({ color: 0xff3300 })\n        .stroke({ width: 10, color: 0xffd900 });\n\n    // Draw a second shape\n    graphics\n        .moveTo(210, 300)\n        .lineTo(450, 320)\n        .lineTo(570, 350)\n        .quadraticCurveTo(600, 0, 480, 100)\n        .lineTo(330, 120)\n        .lineTo(410, 200)\n        .lineTo(210, 300)\n        .fill({ color: 0xff700b })\n        .stroke({ width: 10, color: 0xff0000, alpha: 0.8 });\n\n    // Draw a rectangle\n    graphics.rect(50, 250, 100, 100);\n    graphics.stroke({ width: 2, color: 0x0000ff });\n\n    // Draw a circle\n    graphics.circle(470, 200, 100);\n    graphics.fill({ color: 0xffff0b, alpha: 0.5 });\n\n    graphics.moveTo(30, 30);\n    graphics.lineTo(600, 300);\n    graphics.stroke({ width: 20, color: 0x33ff00 });\n\n    app.stage.addChild(graphics);\n\n    // Let's create a moving shape\n    const thing = new Graphics();\n\n    app.stage.addChild(thing);\n    thing.x = 800 / 2;\n    thing.y = 600 / 2;\n\n    let count = 0;\n\n    // Just click on the stage to draw random lines\n    window.app = app;\n    app.stage.on('pointerdown', () =>\n    {\n        graphics.moveTo(Math.random() * 800, Math.random() * 600);\n        graphics.bezierCurveTo(\n            Math.random() * 800,\n            Math.random() * 600,\n            Math.random() * 800,\n            Math.random() * 600,\n            Math.random() * 800,\n            Math.random() * 600,\n        );\n        graphics.stroke({ width: Math.random() * 30, color: Math.random() * 0xffffff });\n    });\n\n    // Animate the moving shape\n    app.ticker.add(() =>\n    {\n        count += 0.1;\n\n        thing.clear();\n\n        thing\n            .moveTo(-120 + Math.sin(count) * 20, -100 + Math.cos(count) * 20)\n            .lineTo(120 + Math.cos(count) * 20, -100 + Math.sin(count) * 20)\n            .lineTo(120 + Math.sin(count) * 20, 100 + Math.cos(count) * 20)\n            .lineTo(-120 + Math.cos(count) * 20, 100 + Math.sin(count) * 20)\n            .lineTo(-120 + Math.sin(count) * 20, -100 + Math.cos(count) * 20)\n            .fill({ color: 0xffff00, alpha: 0.5 })\n            .stroke({ width: 10, color: 0xff0000 });\n\n        thing.rotation = count * 0.1;\n    });\n})();\n",fillGradient:"import { Application, FillGradient, Graphics } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Create a color array for the linear gradient\n    const colorStops = [0xffffff, 0xff0000, 0x00ff00, 0x0000ff, 0x000000];\n\n    // Create a fill gradient\n    const gradientFill = new FillGradient(0, 0, 150, 150);\n\n    // Add the color stops to the fill gradient\n    colorStops.forEach((number, index) =>\n    {\n        const ratio = index / colorStops.length;\n\n        gradientFill.addColorStop(ratio, number);\n    });\n\n    // Create a fill graphic\n    const graphic1 = new Graphics().roundRect(0, 0, 150, 150, 50).fill(gradientFill);\n\n    // Create a stroke graphic\n    const graphic2 = new Graphics().roundRect(0, 0, 150, 150, 50).stroke({ width: 20, fill: gradientFill });\n\n    graphic1.pivot.set(75, 75);\n    graphic1.x = 150;\n    graphic1.y = 200;\n\n    graphic2.x = 350;\n    graphic2.y = 125;\n\n    app.stage.addChild(graphic1);\n    app.stage.addChild(graphic2);\n\n    let tick = 0;\n\n    // Animate the graphics\n    app.ticker.add(() =>\n    {\n        tick += 0.025;\n        graphic1.rotation += 0.01;\n        graphic2\n            .clear()\n            .roundRect(0, 0, 150, 150, 50)\n            .stroke({ width: Math.sin(tick) * 100, fill: gradientFill });\n    });\n})();\n",meshFromPath:"import { Application, buildGeometryFromPath, Graphics, GraphicsPath, Mesh, Texture } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        backgroundColor: 'brown',\n        resizeTo: window,\n        antialias: true,\n    });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const path = new GraphicsPath()\n        .rect(-50, -50, 100, 100)\n        .circle(80, 80, 50)\n        .circle(80, -80, 50)\n        .circle(-80, 80, 50)\n        .circle(-80, -80, 50);\n\n    const geometry = buildGeometryFromPath({\n        path,\n    });\n\n    const meshes = [];\n\n    for (let i = 0; i < 200; i++)\n    {\n        const x = Math.random() * app.screen.width;\n        const y = Math.random() * app.screen.height;\n\n        const mesh = new Mesh({\n            geometry,\n            texture: Texture.WHITE,\n            x,\n            y,\n            tint: Math.random() * 0xffffff,\n        });\n\n        app.stage.addChild(mesh);\n\n        meshes.push(mesh);\n    }\n\n    app.ticker.add(() =>\n    {\n        meshes.forEach((mesh) =>\n        {\n            mesh.rotation += 0.01;\n        });\n    });\n})();\n",pixelLine:"import { Application, Container, Graphics, Text } from 'pixi.js';\n\n/**\n * Creates a grid pattern using Graphics lines\n * @param graphics - The Graphics object to draw on\n * @returns The Graphics object with the grid drawn\n */\nfunction buildGrid(graphics)\n{\n    // Draw 10 vertical lines spaced 10 pixels apart\n    for (let i = 0; i < 11; i++)\n    {\n        // Move to top of each line (x = i*10, y = 0)\n        graphics\n            .moveTo(i * 10, 0)\n            // Draw down to bottom (x = i*10, y = 100)\n            .lineTo(i * 10, 100);\n    }\n\n    // Draw 10 horizontal lines spaced 10 pixels apart\n    for (let i = 0; i < 11; i++)\n    {\n        // Move to start of each line (x = 0, y = i*10)\n        graphics\n            .moveTo(0, i * 10)\n            // Draw across to end (x = 100, y = i*10)\n            .lineTo(100, i * 10);\n    }\n\n    return graphics;\n}\n\n(async () =>\n{\n    // Create and initialize a new PixiJS application\n    const app = new Application();\n\n    await app.init({ antialias: true, resizeTo: window });\n    document.body.appendChild(app.canvas);\n\n    // Create two grids - one with pixel-perfect lines and one without\n    const gridPixel = buildGrid(new Graphics()).stroke({ color: 0xffffff, pixelLine: true, width: 1 });\n\n    const grid = buildGrid(new Graphics()).stroke({ color: 0xffffff, pixelLine: false });\n\n    // Position the grids side by side\n    grid.x = -100;\n    grid.y = -50;\n    gridPixel.y = -50;\n\n    // Create a container to hold both grids\n    const container = new Container();\n\n    container.addChild(grid, gridPixel);\n\n    // Center the container on screen\n    container.x = app.screen.width / 2;\n    container.y = app.screen.height / 2;\n    app.stage.addChild(container);\n\n    // Animation variables\n    let count = 0;\n\n    // Add animation to scale the grids over time\n    app.ticker.add(() =>\n    {\n        count += 0.01;\n        container.scale = 1 + (Math.sin(count) + 1) * 2;\n    });\n\n    // Add descriptive label\n    const label = new Text({\n        text: 'Grid Comparison: Standard Lines (Left) vs Pixel-Perfect Lines (Right)',\n        style: { fill: 0xffffff },\n    });\n\n    // Position label in top-left corner\n    label.position.set(20, 20);\n    label.width = app.screen.width - 40;\n    label.scale.y = label.scale.x;\n    app.stage.addChild(label);\n})();\n",simple:"import { Application, Graphics } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ antialias: true, resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const graphics = new Graphics();\n\n    // Rectangle\n    graphics.rect(50, 50, 100, 100);\n    graphics.fill(0xde3249);\n\n    // Rectangle + line style 1\n    graphics.rect(200, 50, 100, 100);\n    graphics.fill(0x650a5a);\n    graphics.stroke({ width: 2, color: 0xfeeb77 });\n\n    // Rectangle + line style 2\n    graphics.rect(350, 50, 100, 100);\n    graphics.fill(0xc34288);\n    graphics.stroke({ width: 10, color: 0xffbd01 });\n\n    // Rectangle 2\n    graphics.rect(530, 50, 140, 100);\n    graphics.fill(0xaa4f08);\n    graphics.stroke({ width: 2, color: 0xffffff });\n\n    // Circle\n    graphics.circle(100, 250, 50);\n    graphics.fill(0xde3249, 1);\n\n    // Circle + line style 1\n    graphics.circle(250, 250, 50);\n    graphics.fill(0x650a5a, 1);\n    graphics.stroke({ width: 2, color: 0xfeeb77 });\n\n    // Circle + line style 2\n    graphics.circle(400, 250, 50);\n    graphics.fill(0xc34288, 1);\n    graphics.stroke({ width: 10, color: 0xffbd01 });\n\n    // Ellipse + line style 2\n    graphics.ellipse(600, 250, 80, 50);\n    graphics.fill(0xaa4f08, 1);\n    graphics.stroke({ width: 2, color: 0xffffff });\n\n    // Draw a shape\n    graphics.moveTo(50, 350);\n    graphics.lineTo(250, 350);\n    graphics.lineTo(100, 400);\n    graphics.lineTo(50, 350);\n    graphics.fill(0xff3300);\n    graphics.stroke({ width: 4, color: 0xffd900 });\n\n    // Draw a rounded rectangle\n    graphics.roundRect(50, 440, 100, 100, 16);\n    graphics.fill(0x650a5a, 0.25);\n    graphics.stroke({ width: 2, color: 0xff00ff });\n\n    // Draw star\n    graphics.star(360, 370, 5, 50);\n    graphics.fill(0x35cc5a);\n    graphics.stroke({ width: 2, color: 0xffffff });\n\n    // Draw star 2\n    graphics.star(280, 510, 7, 50);\n    graphics.fill(0xffcc5a);\n    graphics.stroke({ width: 2, color: 0xfffffd });\n\n    // Draw star 3\n    graphics.star(470, 450, 4, 50);\n    graphics.fill(0x55335a);\n    graphics.stroke(4, 0xffffff);\n\n    // Draw polygon\n    const path = [600, 370, 700, 460, 780, 420, 730, 570, 590, 520];\n\n    graphics.poly(path);\n    graphics.fill(0x3500fa);\n\n    app.stage.addChild(graphics);\n})();\n",svg:'import { Application, Assets, Graphics } from \'pixi.js\';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        antialias: true,\n        backgroundColor: \'white\',\n        resizeTo: window,\n    });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const graphics = new Graphics().svg(`\n            <svg height="400" width="450" xmlns="http://www.w3.org/2000/svg">\n                \x3c!-- Draw the paths --\x3e\n                <path id="lineAB" d="M 100 350 l 150 -300" stroke="red" stroke-width="4"/>\n                <path id="lineBC" d="M 250 50 l 150 300" stroke="red" stroke-width="4"/>\n                <path id="lineMID" d="M 175 200 l 150 0" stroke="green" stroke-width="4"/>\n                <path id="lineAC" d="M 100 350 q 150 -300 300 0" stroke="blue" fill="none" stroke-width="4"/>\n\n                \x3c!-- Mark relevant points --\x3e\n                <g stroke="black" stroke-width="3" fill="black">\n                    <circle id="pointA" cx="100" cy="350" r="4" />\n                    <circle id="pointB" cx="250" cy="50" r="4" />\n                    <circle id="pointC" cx="400" cy="350" r="4" />\n                </g>\n            </svg>\n        `);\n\n    app.stage.addChild(graphics);\n})();\n',svgLoad:"import { Application, Assets, Graphics } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ antialias: true, resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const tigerSvg = await Assets.load({\n        src: 'https://pixijs.com/assets/tiger.svg',\n        data: {\n            parseAsGraphicsContext: true,\n        },\n    });\n\n    const graphics = new Graphics(tigerSvg);\n\n    // line it up as this svg is not centered\n    const bounds = graphics.getLocalBounds();\n\n    graphics.pivot.set((bounds.x + bounds.width) / 2, (bounds.y + bounds.height) / 2);\n\n    graphics.position.set(app.screen.width / 2, app.screen.height / 2);\n\n    app.stage.addChild(graphics);\n\n    app.ticker.add((time) =>\n    {\n        graphics.rotation += 0.01;\n        graphics.scale.set(2 + Math.sin(graphics.rotation));\n    });\n})();\n",texture:"import { Application, Assets, Graphics, GraphicsContext } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        antialias: true,\n        backgroundColor: 'white',\n        resizeTo: window,\n    });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const pandaTexture = await Assets.load(`https://pixijs.com/assets/panda.png`);\n\n    const pandasContext = new GraphicsContext()\n        .circle(0, 0, 120)\n        .fill('green')\n        .texture(pandaTexture, 0xffffff, -pandaTexture.width / 2, -pandaTexture.height / 2)\n        // add a baby purple panda\n        .translate(100, 100)\n        .scale(0.4)\n        .texture(pandaTexture, 'yellow');\n\n    const graphics = new Graphics(pandasContext);\n\n    const graphics2 = new Graphics(pandasContext);\n\n    app.stage.addChild(graphics, graphics2);\n\n    graphics.x = app.screen.width / 2;\n    graphics.y = app.screen.height / 2;\n\n    graphics2.x = app.screen.width / 2 - 200;\n    graphics2.y = app.screen.height / 2 - 200;\n    graphics2.rotation = 0.5;\n})();\n"},events:{click:"import { Application, Assets, Sprite, settings, SCALE_MODES } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the bunny texture\n    const texture = await Assets.load('https://pixijs.com/assets/bunny.png');\n\n    // Set the texture's scale mode to nearest to preserve pixelation\n    texture.baseTexture.scaleMode = SCALE_MODES.NEAREST;\n\n    // Create the bunny sprite\n    const sprite = Sprite.from(texture);\n\n    // Set the initial position\n    sprite.anchor.set(0.5);\n    sprite.x = app.screen.width / 2;\n    sprite.y = app.screen.height / 2;\n\n    // Opt-in to interactivity\n    sprite.eventMode = 'static';\n\n    // Shows hand cursor\n    sprite.cursor = 'pointer';\n\n    // Pointers normalize touch and mouse (good for mobile and desktop)\n    sprite.on('pointerdown', onClick);\n\n    // Alternatively, use the mouse & touch events:\n    // sprite.on('click', onClick); // mouse-only\n    // sprite.on('tap', onClick); // touch-only\n\n    app.stage.addChild(sprite);\n\n    function onClick()\n    {\n        sprite.scale.x *= 1.25;\n        sprite.scale.y *= 1.25;\n    }\n})();\n",customHitarea:"import { Application, Assets, Sprite, Graphics, Polygon, Text, TextStyle } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the star texture\n    const starTexture = await Assets.load('https://pixijs.com/assets/yellowstar.png');\n\n    // Standard Sprite Button\n    const starButton1 = new Sprite(starTexture);\n\n    starButton1.position.set(50, 200);\n    starButton1.cursor = 'pointer';\n    starButton1.eventMode = 'static';\n\n    starButton1\n        .on('pointerdown', onClick, starButton1)\n        .on('pointerover', onPointerOver, starButton1)\n        .on('pointerout', onPointerOut, starButton1);\n\n    // Custom Hitarea Button\n    const starButton2 = new Sprite(starTexture);\n\n    starButton2.position.set(250, 200);\n\n    // Create a hitarea that matches the sprite, which will be used for point intersection\n    starButton2.hitArea = new Polygon([80, 0, 100, 50, 160, 55, 115, 95, 130, 150, 80, 120, 30, 150, 45, 95, 0, 55, 60, 50]);\n    starButton2.cursor = 'pointer';\n    starButton2.eventMode = 'static';\n\n    starButton2\n        .on('pointerdown', onClick, starButton2)\n        .on('pointerover', onPointerOver, starButton2)\n        .on('pointerout', onPointerOut, starButton2);\n\n    // With Mask, No Hit Area\n    const starButton3 = new Sprite(starTexture);\n\n    starButton3.position.set(450, 200);\n    starButton3.cursor = 'pointer';\n    starButton3.eventMode = 'static';\n\n    const squareMask = new Graphics().rect(starButton3.x, starButton3.y, 75, 200).fill({ color: 0xffffff });\n\n    starButton3.mask = squareMask;\n\n    starButton3\n        .on('pointerdown', onClick, starButton3)\n        .on('pointerover', onPointerOver, starButton3)\n        .on('pointerout', onPointerOut, starButton3);\n\n    // With a Mask and Hit Area\n    // Hitareas ignore masks. You can still click on a button made in this way,\n    // even from areas covered by a mask\n    const starButton4 = new Sprite(starTexture);\n\n    starButton4.position.set(600, 200);\n\n    const squareMask2 = new Graphics().rect(starButton4.x, starButton4.y, 75, 200).fill({ color: 0xffffff });\n\n    starButton4.mask = squareMask2;\n\n    // Again, hitarea for intersection checks\n    starButton4.hitArea = new Polygon([80, 0, 100, 50, 160, 55, 115, 95, 130, 150, 80, 120, 30, 150, 45, 95, 0, 55, 60, 50]);\n    starButton4.cursor = 'pointer';\n    starButton4.eventMode = 'static';\n\n    starButton4\n        .on('pointerdown', onClick, starButton4)\n        .on('pointerover', onPointerOver, starButton4)\n        .on('pointerout', onPointerOut, starButton4);\n\n    const style = new TextStyle({ fill: '#ffffff' });\n\n    const text1 = new Text({ text: 'Standard', style });\n\n    text1.x = starButton1.x + 25;\n    text1.y = starButton1.y + 170;\n\n    const text2 = new Text({ text: 'Hit Area', style });\n\n    text2.x = starButton2.x + 35;\n    text2.y = starButton2.y + 170;\n\n    const text3 = new Text({ text: 'Mask', style });\n\n    text3.x = starButton3.x + 10;\n    text3.y = starButton3.y + 170;\n\n    const text4 = new Text({ text: 'Mask + Hit Area', style });\n\n    text4.x = starButton4.x - 10;\n    text4.y = starButton4.y + 170;\n\n    // Add to stage\n    app.stage.addChild(\n        starButton2,\n        starButton1,\n        starButton3,\n        starButton4,\n        squareMask,\n        squareMask2,\n        text1,\n        text2,\n        text3,\n        text4,\n    );\n\n    function onClick()\n    {\n        this.tint = 0x333333;\n    }\n\n    function onPointerOver()\n    {\n        this.tint = 0x666666;\n    }\n\n    function onPointerOut()\n    {\n        this.tint = 0xffffff;\n    }\n})();\n",customMouseIcon:"import { Application, Assets, Sprite, Texture } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // CSS style for icons\n    const defaultIcon = 'url(\\'https://pixijs.com/assets/bunny.png\\'),auto';\n    const hoverIcon = 'url(\\'https://pixijs.com/assets/bunny_saturated.png\\'),auto';\n\n    // Load textures\n    await Assets.load([\n        'https://pixijs.com/assets/bg_button.jpg',\n        'https://pixijs.com/assets/button.png',\n        'https://pixijs.com/assets/button_down.png',\n        'https://pixijs.com/assets/button_over.png',\n    ]);\n\n    // Add custom cursor styles\n    app.renderer.events.cursorStyles.default = defaultIcon;\n    app.renderer.events.cursorStyles.hover = hoverIcon;\n\n    // Create a background...\n    const background = Sprite.from('https://pixijs.com/assets/bg_button.jpg');\n\n    background.width = app.screen.width;\n    background.height = app.screen.height;\n\n    // Add background to stage...\n    app.stage.addChild(background);\n\n    // Create some textures from an image path\n    const textureButton = Texture.from('https://pixijs.com/assets/button.png');\n    const textureButtonDown = Texture.from('https://pixijs.com/assets/button_down.png');\n    const textureButtonOver = Texture.from('https://pixijs.com/assets/button_over.png');\n\n    const buttons = [];\n\n    const buttonPositions = [175, 75, 655, 75, 410, 325, 150, 465, 685, 445];\n\n    for (let i = 0; i < 5; i++)\n    {\n        const button = new Sprite(textureButton);\n\n        button.cursor = 'hover';\n\n        button.anchor.set(0.5);\n        button.x = buttonPositions[i * 2];\n        button.y = buttonPositions[i * 2 + 1];\n\n        // Make the button interactive...\n        button.eventMode = 'static';\n\n        button\n            .on('pointerdown', onButtonDown)\n            .on('pointerup', onButtonUp)\n            .on('pointerupoutside', onButtonUp)\n            .on('pointerover', onButtonOver)\n            .on('pointerout', onButtonOut);\n\n        // Add it to the stage\n        app.stage.addChild(button);\n\n        // Add button to array\n        buttons.push(button);\n    }\n\n    // Set some silly values...\n    buttons[0].scale.set(1.2);\n    buttons[2].rotation = Math.PI / 10;\n    buttons[3].scale.set(0.8);\n    buttons[4].scale.set(0.8, 1.2);\n    buttons[4].rotation = Math.PI;\n\n    function onButtonDown()\n    {\n        this.isdown = true;\n        this.texture = textureButtonDown;\n        this.alpha = 1;\n    }\n\n    function onButtonUp()\n    {\n        this.isdown = false;\n        if (this.isOver)\n        {\n            this.texture = textureButtonOver;\n        }\n        else\n        {\n            this.texture = textureButton;\n        }\n    }\n\n    function onButtonOver()\n    {\n        this.isOver = true;\n        if (this.isdown)\n        {\n            return;\n        }\n        this.texture = textureButtonOver;\n    }\n\n    function onButtonOut()\n    {\n        this.isOver = false;\n        if (this.isdown)\n        {\n            return;\n        }\n        this.texture = textureButton;\n    }\n})();\n",dragging:"import { Application, Assets, Sprite, SCALE_MODES } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the bunny texture\n    const texture = await Assets.load('https://pixijs.com/assets/bunny.png');\n\n    // Set the texture's scale mode to nearest to preserve pixelation\n    texture.baseTexture.scaleMode = SCALE_MODES.NEAREST;\n\n    for (let i = 0; i < 10; i++)\n    {\n        createBunny(Math.floor(Math.random() * app.screen.width), Math.floor(Math.random() * app.screen.height));\n    }\n\n    function createBunny(x, y)\n    {\n        // Create our little bunny friend..\n        const bunny = new Sprite(texture);\n\n        // Enable the bunny to be interactive... this will allow it to respond to mouse and touch events\n        bunny.eventMode = 'static';\n\n        // This button mode will mean the hand cursor appears when you roll over the bunny with your mouse\n        bunny.cursor = 'pointer';\n\n        // Center the bunny's anchor point\n        bunny.anchor.set(0.5);\n\n        // Make it a bit bigger, so it's easier to grab\n        bunny.scale.set(3);\n\n        // Setup events for mouse + touch using the pointer events\n        bunny.on('pointerdown', onDragStart, bunny);\n\n        // Move the sprite to its designated position\n        bunny.x = x;\n        bunny.y = y;\n\n        // Add it to the stage\n        app.stage.addChild(bunny);\n    }\n\n    let dragTarget = null;\n\n    app.stage.eventMode = 'static';\n    app.stage.hitArea = app.screen;\n    app.stage.on('pointerup', onDragEnd);\n    app.stage.on('pointerupoutside', onDragEnd);\n\n    function onDragMove(event)\n    {\n        if (dragTarget)\n        {\n            dragTarget.parent.toLocal(event.global, null, dragTarget.position);\n        }\n    }\n\n    function onDragStart()\n    {\n        // Store a reference to the data\n        // * The reason for this is because of multitouch *\n        // * We want to track the movement of this particular touch *\n        this.alpha = 0.5;\n        dragTarget = this;\n        app.stage.on('pointermove', onDragMove);\n    }\n\n    function onDragEnd()\n    {\n        if (dragTarget)\n        {\n            app.stage.off('pointermove', onDragMove);\n            dragTarget.alpha = 1;\n            dragTarget = null;\n        }\n    }\n})();\n",hitTestingWithSpatialHash:"import * as PIXI from 'pixi.js';\n\n// This example shows how you can create your own EventBoundary to accelerate\n// hit-testing using spatial hashes. This can be used to optimize relatively\n// \"flat\" scene graphs, where  a container contains so many objects that it\n// covers the whole scene.\n\n// This special event boundary overrides the hit-testing implementation to use\n// HashingContainer's own childHash to find children near the pointer\n// location.\nclass HashingEventBoundary extends PIXI.EventBoundary\n{\n    constructor(...args)\n    {\n        super(...args);\n        // Create reusable temp rectangle for hit-testing!\n        this.tempRect = new PIXI.Rectangle();\n    }\n\n    hitTestRecursive(currentTarget, interactive, location, testFn, pruneFn)\n    {\n        // If currentTarget isn't a HashingContainer, then default to the\n        // regular hit-testing implementation provided by PixiJS.\n        if (!currentTarget || !currentTarget.visible || !currentTarget.childHash)\n        {\n            return super.hitTestRecursive(currentTarget, interactive, location, testFn, pruneFn);\n        }\n\n        // Check if the location is outside of the entire container\n        if (pruneFn(currentTarget, location)) return null;\n\n        // Time to get recursive and find the next child in the propagation\n        // path of the event, accelerated using the childHash.\n        if (currentTarget.interactiveChildren)\n        {\n            /* This is where the magic happens! */\n            const tempRect = this.tempRect;\n\n            // Store the location as a 0x0 rectangle. SpatialHash requires a\n            // rectangle for searching.\n            tempRect.x = location.x;\n            tempRect.y = location.y;\n\n            // Find all the children overlapping with tempRect a.k.a location,\n            // and then sort them by their index in the HashingContainer's\n            // children array.\n            const children = Array.from(currentTarget.childHash.search(tempRect)).sort((a, b) => a.refIndex - b.refIndex);\n\n            /* The following is copied from EventBoundary's code. */\n            for (let i = children.length - 1; i >= 0; i--)\n            {\n                const child = children[i];\n                const nestedHit = this.hitTestRecursive(child, interactive || child.interactive, location, testFn, pruneFn);\n\n                if (nestedHit)\n                {\n                    // Its a good idea to check if a child has lost its\n                    // parent. this means it has been removed whilst looping\n                    // so its best\n                    if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent)\n                    {\n                        // eslint-disable-next-line no-continue\n                        continue;\n                    }\n\n                    // Only add the current hit-test target to the hit-test\n                    // chain if the chain has already started (i.e. the event\n                    // target has been found) or if the current target is\n                    // interactive (i.e. it becomes the event target).\n                    if (nestedHit.length > 0 || currentTarget.interactive)\n                    {\n                        nestedHit.push(currentTarget);\n                    }\n\n                    return nestedHit;\n                }\n            }\n        }\n\n        /* The following is copied from EventBoundary's own implementation. */\n\n        // Finally, hit test this DisplayObject itself.\n        if (interactive && testFn(currentTarget, location))\n        {\n            // The current hit-test target is the event's target only if it\n            // is interactive. Otherwise, the first interactive ancestor will\n            // be the event's target.\n            return currentTarget.interactive ? [currentTarget] : [];\n        }\n\n        return null;\n    }\n}\n\n// HashingContainer is a special kind of container that organizes its children\n// in a spatial hash. It also sets each child's refIndex property to its index\n// in the hashing container's children array.\nclass HashingContainer extends PIXI.Container\n{\n    constructor()\n    {\n        super();\n        this.childHash = new PIXI.SpatialHash();\n    }\n\n    // Override updateTransform to update this.childHash!\n    updateTransform()\n    {\n        super.updateTransform();\n\n        // Reset childHash & re-add all the children. This will\n        // make the spatial hash re-evaluate the coverage of each child.\n        this.childHash.reset();\n        for (let i = 0; i < this.children.length; i++)\n        {\n            const child = this.children[i];\n\n            this.childHash.put(child);\n            child.refIndex = i;\n        }\n    }\n}\n\n// This is the actual program using HashingEventBoundary, HashingContainer.\nfunction main()\n{\n    // Create app. autoStart = false so that the app doesn't render until\n    // something changes - this prevents redundant spatial-hash updates.\n    const app = new PIXI.Application({\n        antialias: true,\n        autoStart: false,\n        background: '#1099bb',\n    });\n\n    document.body.appendChild(app.view);\n\n    // Install our own EventBoundary!\n    app.renderer.events.rootBoundary = new HashingEventBoundary(app.stage);\n\n    // Make the hashing container\n    const container = app.stage.addChild(new HashingContainer());\n    // Textures to choose from for each random character\n    const textures = [\n        PIXI.Texture.from('https://pixijs.com/assets/skully.png'),\n        PIXI.Texture.from('https://pixijs.com/assets/eggHead.png'),\n        PIXI.Texture.from('https://pixijs.com/assets/flowerTop.png'),\n        PIXI.Texture.from('https://pixijs.com/assets/helmlok.png'),\n    ];\n    // Rerender scene when each texture loads\n\n    textures.forEach((tex) => tex.baseTexture.once('loaded', () => app.render()));\n\n    // Populate the hashing container!\n    function makeMonster(x, y)\n    {\n        const texture = textures[Math.floor(Math.random() * textures.length)];\n        const sprite = new PIXI.Sprite(texture);\n\n        // Randomly place the character\n        sprite.position.set(\n            x || Math.random() * (app.screen.width - 64),\n            y || 64 + Math.random() * (app.screen.height - 128),\n        );\n\n        // Make character smaller so we can have a bunch of 'em\n        sprite.scale.set(0.34);\n\n        // Make the character interactive!\n        sprite.eventMode = 'static';\n\n        // Explode on clicks!\n        sprite.addEventListener('click', onMonsterClicked);\n\n        container.addChild(sprite);\n\n        return sprite;\n    }\n    function onMonsterClicked(e)\n    {\n        const monster = this;\n        const pos = monster.position;\n        const radius = Math.max(monster.width, monster.height) * 2;\n\n        // Remove monster from scene once the event finishes propagating.\n        e.manager.dispatch.once('click', () =>\n        {\n            // TODO: Fix PixiJS throwing errors since the monster is removed\n            // from scene graph while was under hover.\n\n            monster.parent.removeChild(monster);\n            PIXI.Ticker.shared.addOnce(() => app.render());\n        });\n\n        for (let i = 0; i < 8; i++)\n        {\n            const x = pos.x + radius * Math.cos((i * Math.PI) / 4);\n            const y = pos.y + radius * Math.sin((i * Math.PI) / 4);\n\n            makeMonster(x, y);\n        }\n    }\n    // Make initial set of monsters\n    for (let i = 0; i < 100; i++) makeMonster();\n\n    // Add a descriptive title\n    const title = app.stage.addChild(\n        new PIXI.Text('Click on a monster and see it explode into more!', {\n            fontSize: 12,\n        }),\n    );\n\n    title.position.set(12, 12);\n\n    // Render the stage once\n    app.render();\n}\n\n// Run our program!\nmain();\n",interactivity:"import { Application, Assets, Sprite, Texture } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load textures\n    await Assets.load([\n        'https://pixijs.com/assets/bg_button.jpg',\n        'https://pixijs.com/assets/button.png',\n        'https://pixijs.com/assets/button_down.png',\n        'https://pixijs.com/assets/button_over.png',\n    ]);\n\n    // Create a background...\n    const background = Sprite.from('https://pixijs.com/assets/bg_button.jpg');\n\n    background.width = app.screen.width;\n    background.height = app.screen.height;\n\n    // Add background to stage...\n    app.stage.addChild(background);\n\n    // Create some textures from an image path\n    const textureButton = Texture.from('https://pixijs.com/assets/button.png');\n    const textureButtonDown = Texture.from('https://pixijs.com/assets/button_down.png');\n    const textureButtonOver = Texture.from('https://pixijs.com/assets/button_over.png');\n\n    const buttons = [];\n\n    const buttonPositions = [175, 75, 655, 75, 410, 325, 150, 465, 685, 445];\n\n    for (let i = 0; i < 5; i++)\n    {\n        const button = new Sprite(textureButton);\n\n        button.anchor.set(0.5);\n        button.x = buttonPositions[i * 2];\n        button.y = buttonPositions[i * 2 + 1];\n\n        // Make the button interactive...\n        button.eventMode = 'static';\n        button.cursor = 'pointer';\n\n        button\n            // Mouse & touch events are normalized into\n            // the pointer* events for handling different\n            // button events.\n            .on('pointerdown', onButtonDown)\n            .on('pointerup', onButtonUp)\n            .on('pointerupoutside', onButtonUp)\n            .on('pointerover', onButtonOver)\n            .on('pointerout', onButtonOut);\n\n        // Use mouse-only events\n        // .on('mousedown', onButtonDown)\n        // .on('mouseup', onButtonUp)\n        // .on('mouseupoutside', onButtonUp)\n        // .on('mouseover', onButtonOver)\n        // .on('mouseout', onButtonOut)\n\n        // Use touch-only events\n        // .on('touchstart', onButtonDown)\n        // .on('touchend', onButtonUp)\n        // .on('touchendoutside', onButtonUp)\n\n        // Add it to the stage\n        app.stage.addChild(button);\n\n        // Add button to array\n        buttons.push(button);\n    }\n\n    // Set some silly values...\n    buttons[0].scale.set(1.2);\n    buttons[2].rotation = Math.PI / 10;\n    buttons[3].scale.set(0.8);\n    buttons[4].scale.set(0.8, 1.2);\n    buttons[4].rotation = Math.PI;\n\n    function onButtonDown()\n    {\n        this.isdown = true;\n        this.texture = textureButtonDown;\n        this.alpha = 1;\n    }\n\n    function onButtonUp()\n    {\n        this.isdown = false;\n        if (this.isOver)\n        {\n            this.texture = textureButtonOver;\n        }\n        else\n        {\n            this.texture = textureButton;\n        }\n    }\n\n    function onButtonOver()\n    {\n        this.isOver = true;\n        if (this.isdown)\n        {\n            return;\n        }\n        this.texture = textureButtonOver;\n    }\n\n    function onButtonOut()\n    {\n        this.isOver = false;\n        if (this.isdown)\n        {\n            return;\n        }\n        this.texture = textureButton;\n    }\n})();\n",logger:"import { Application, Assets, Text, Graphics } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ antialias: true, background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const title = app.stage.addChild(\n        new Text({\n            text: `Move your mouse slowly over the boxes to\n        see the order of pointerenter, pointerleave,\n        pointerover, pointerout events on each target!`,\n            style: {\n                fontSize: 16,\n            },\n        }),\n    );\n\n    title.x = 2;\n\n    const logs = [];\n    const logText = app.stage.addChild(\n        new Text({\n            text: '',\n            style: {\n                fontSize: 14,\n            },\n        }),\n    );\n\n    logText.y = 80;\n    logText.x = 2;\n\n    app.stage.name = 'stage';\n\n    // Mount outer black box\n    const blackBox = app.stage.addChild(new Graphics().rect(0, 0, 400, 400).fill({ color: 0 }));\n\n    blackBox.name = 'black box';\n    blackBox.x = 400;\n\n    // Mount white box inside the white one\n    const whiteBox = blackBox.addChild(new Graphics().rect(100, 100, 200, 200).fill({ color: 0xffffff }));\n\n    whiteBox.name = 'white box';\n\n    // Enable interactivity everywhere!\n    app.stage.eventMode = 'static';\n    app.stage.hitArea = app.screen;\n    whiteBox.eventMode = 'static';\n    blackBox.eventMode = 'static';\n\n    function onEvent(e)\n    {\n        const type = e.type;\n        const targetName = e.target.name;\n        const currentTargetName = e.currentTarget.name;\n\n        // Add event to top of logs\n        logs.push(`${currentTargetName} received ${type} event (target is ${targetName})`);\n\n        if (currentTargetName === 'stage' || type === 'pointerenter' || type === 'pointerleave')\n        {\n            logs.push('-----------------------------------------', '');\n        }\n\n        // Prevent logs from growing too long\n        if (logs.length > 30)\n        {\n            while (logs.length > 30)\n            {\n                logs.shift();\n            }\n        }\n\n        // Update logText\n        logText.text = logs.join('\\n');\n    }\n\n    [app.stage, whiteBox, blackBox].forEach((object) =>\n    {\n        object.addEventListener('pointerenter', onEvent);\n        object.addEventListener('pointerleave', onEvent);\n        object.addEventListener('pointerover', onEvent);\n        object.addEventListener('pointerout', onEvent);\n    });\n})();\n",pointerTracker:"import { Application, Graphics } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ antialias: true, background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Create the circle\n    const circle = app.stage.addChild(\n        new Graphics().circle(0, 0, 8).fill({ color: 0xffffff }).stroke({ color: 0x111111, alpha: 0.87, width: 1 }),\n    );\n\n    circle.position.set(app.screen.width / 2, app.screen.height / 2);\n\n    // Enable interactivity!\n    app.stage.eventMode = 'static';\n\n    // Make sure the whole canvas area is interactive, not just the circle.\n    app.stage.hitArea = app.screen;\n\n    // Follow the pointer\n    app.stage.addEventListener('pointermove', (e) =>\n    {\n        circle.position.copyFrom(e.global);\n    });\n})();\n",slider:"import { Application, Assets, Text, Graphics, Sprite, SCALE_MODES } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ antialias: true, background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const stageHeight = app.screen.height;\n    const stageWidth = app.screen.width;\n\n    // Make sure stage covers the whole scene\n    app.stage.hitArea = app.screen;\n\n    // Make the slider\n    const sliderWidth = 320;\n    const slider = new Graphics().rect(0, 0, sliderWidth, 4).fill({ color: 0x272d37 });\n\n    slider.x = (stageWidth - sliderWidth) / 2;\n    slider.y = stageHeight * 0.75;\n\n    // Draw the handle\n    const handle = new Graphics().circle(0, 0, 8).fill({ color: 0xffffff });\n\n    handle.y = slider.height / 2;\n    handle.x = sliderWidth / 2;\n    handle.eventMode = 'static';\n    handle.cursor = 'pointer';\n\n    handle.on('pointerdown', onDragStart).on('pointerup', onDragEnd).on('pointerupoutside', onDragEnd);\n\n    app.stage.addChild(slider);\n    slider.addChild(handle);\n\n    // Load the bunny texture\n    const texture = await Assets.load('https://pixijs.com/assets/bunny.png');\n\n    // Add bunny whose scale can be changed by user using slider\n    const bunny = app.stage.addChild(Sprite.from(texture));\n\n    bunny.texture.baseTexture.scaleMode = SCALE_MODES.NEAREST;\n    bunny.scale.set(3);\n    bunny.anchor.set(0.5);\n    bunny.x = stageWidth / 2;\n    bunny.y = stageHeight / 2;\n\n    // Add title\n    const title = new Text({\n        text: 'Drag the handle to change the scale of bunny.',\n        style: {\n            fill: '#272d37',\n            fontFamily: 'Roboto',\n            fontSize: 20,\n            align: 'center',\n        },\n    });\n\n    title.roundPixels = true;\n    title.x = stageWidth / 2;\n    title.y = 40;\n    title.anchor.set(0.5, 0);\n    app.stage.addChild(title);\n\n    // Listen to pointermove on stage once handle is pressed.\n    function onDragStart()\n    {\n        app.stage.eventMode = 'static';\n        app.stage.addEventListener('pointermove', onDrag);\n    }\n\n    // Stop dragging feedback once the handle is released.\n    function onDragEnd(e)\n    {\n        app.stage.eventMode = 'auto';\n        app.stage.removeEventListener('pointermove', onDrag);\n    }\n\n    // Update the handle's position & bunny's scale when the handle is moved.\n    function onDrag(e)\n    {\n        const halfHandleWidth = handle.width / 2;\n        // Set handle y-position to match pointer, clamped to (4, screen.height - 4).\n\n        handle.x = Math.max(halfHandleWidth, Math.min(slider.toLocal(e.global).x, sliderWidth - halfHandleWidth));\n        // Normalize handle position between -1 and 1.\n        const t = 2 * (handle.x / sliderWidth - 0.5);\n\n        bunny.scale.set(3 * (1.1 + t));\n    }\n})();\n"},masks:{filter:"import { Application, Assets, Sprite, Graphics, SCALE_MODES, Rectangle, BlurFilter } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Inner radius of the circle\n    const radius = 100;\n\n    // The blur amount\n    const blurSize = 32;\n\n    // Load the grass texture\n    const grassTexture = await Assets.load('https://pixijs.com/assets/bg_grass.jpg');\n\n    // Create the grass background\n    const background = new Sprite(grassTexture);\n\n    app.stage.addChild(background);\n    background.width = app.screen.width;\n    background.height = app.screen.height;\n\n    const circle = new Graphics().circle(radius + blurSize, radius + blurSize, radius).fill({ color: 0xff0000 });\n\n    circle.filters = [new BlurFilter(blurSize)];\n\n    const bounds = new Rectangle(0, 0, (radius + blurSize) * 2, (radius + blurSize) * 2);\n    const texture = app.renderer.generateTexture({\n        target: circle,\n        style: { scaleMode: SCALE_MODES.NEAREST },\n        resolution: 1,\n        frame: bounds,\n    });\n    const focus = new Sprite(texture);\n\n    app.stage.addChild(focus);\n\n    background.mask = focus;\n\n    app.stage.eventMode = 'static';\n    app.stage.hitArea = app.screen;\n    app.stage.on('pointermove', (event) =>\n    {\n        focus.position.x = event.global.x - focus.width / 2;\n        focus.position.y = event.global.y - focus.height / 2;\n    });\n})();\n",graphics:"import { Application, Assets, Container, Sprite, Graphics, Text } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ antialias: true, resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    app.stage.eventMode = 'static';\n\n    // Load textures\n    await Assets.load([\n        'https://pixijs.com/assets/bg_rotate.jpg',\n        'https://pixijs.com/assets/bg_scene_rotate.jpg',\n        'https://pixijs.com/assets/light_rotate_2.png',\n        'https://pixijs.com/assets/light_rotate_1.png',\n        'https://pixijs.com/assets/panda.png',\n    ]);\n\n    const bg = Sprite.from('https://pixijs.com/assets/bg_rotate.jpg');\n\n    bg.anchor.set(0.5);\n\n    bg.x = app.screen.width / 2;\n    bg.y = app.screen.height / 2;\n\n    app.stage.addChild(bg);\n\n    const container = new Container();\n\n    container.x = app.screen.width / 2;\n    container.y = app.screen.height / 2;\n\n    // Add a bunch of sprites\n    const bgFront = Sprite.from('https://pixijs.com/assets/bg_scene_rotate.jpg');\n\n    bgFront.anchor.set(0.5);\n\n    const light2 = Sprite.from('https://pixijs.com/assets/light_rotate_2.png');\n\n    light2.anchor.set(0.5);\n\n    const light1 = Sprite.from('https://pixijs.com/assets/light_rotate_1.png');\n\n    light1.anchor.set(0.5);\n\n    const panda = Sprite.from('https://pixijs.com/assets/panda.png');\n\n    panda.anchor.set(0.5);\n\n    container.addChild(bgFront, light2, light1, panda);\n\n    app.stage.addChild(container);\n\n    // Let's create a moving shape mask\n    const thing = new Graphics();\n\n    app.stage.addChild(thing);\n    thing.x = app.screen.width / 2;\n    thing.y = app.screen.height / 2;\n\n    container.mask = thing;\n\n    let count = 0;\n\n    app.stage.on('pointertap', () =>\n    {\n        if (!container.mask)\n        {\n            container.mask = thing;\n        }\n        else\n        {\n            container.mask = null;\n        }\n    });\n\n    const help = new Text({\n        text: 'Click or tap to turn masking on / off.',\n        style: {\n            fontFamily: 'Arial',\n            fontSize: 12,\n            fontWeight: 'bold',\n            fill: 'white',\n        },\n    });\n\n    help.y = app.screen.height - 26;\n    help.x = 10;\n    app.stage.addChild(help);\n\n    // Animate the mask\n    app.ticker.add(() =>\n    {\n        bg.rotation += 0.01;\n        bgFront.rotation -= 0.01;\n\n        light1.rotation += 0.02;\n        light2.rotation += 0.01;\n\n        panda.scale.x = 1 + Math.sin(count) * 0.04;\n        panda.scale.y = 1 + Math.cos(count) * 0.04;\n\n        count += 0.1;\n\n        thing.clear();\n        thing.moveTo(-120 + Math.sin(count) * 20, -100 + Math.cos(count) * 20);\n        thing.lineTo(120 + Math.cos(count) * 20, -100 + Math.sin(count) * 20);\n        thing.lineTo(120 + Math.sin(count) * 20, 100 + Math.cos(count) * 20);\n        thing.lineTo(-120 + Math.cos(count) * 20, 100 + Math.sin(count) * 20);\n        thing.fill({ color: 0x8bc5ff, alpha: 0.4 });\n        thing.rotation = count * 0.1;\n    });\n})();\n",inverseMask:"import { Application, Graphics } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const rect = new Graphics().rect(0, 0, 400, 400).fill('red');\n    const masky = new Graphics().star(160, 160, 5, 100).fill('yellow');\n\n    masky.width = 240;\n    masky.height = 240;\n\n    rect.setMask({\n        mask: masky,\n        inverse: true,\n    });\n\n    app.stage.addChild(rect, masky);\n    app.stage.position.set(window.innerWidth / 2 - 200, window.innerHeight / 2 - 200);\n})();\n",sprite:"import { Application, Assets, Sprite, Point } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load textures\n    await Assets.load([\n        'https://pixijs.com/assets/bg_plane.jpg',\n        'https://pixijs.com/assets/cells.png',\n        'https://pixijs.com/assets/flowerTop.png',\n    ]);\n\n    app.stage.eventMode = 'static';\n\n    const bg = Sprite.from('https://pixijs.com/assets/bg_plane.jpg');\n\n    app.stage.addChild(bg);\n\n    const cells = Sprite.from('https://pixijs.com/assets/cells.png');\n\n    cells.scale.set(1.5);\n\n    const mask = Sprite.from('https://pixijs.com/assets/flowerTop.png');\n\n    mask.anchor.set(0.5);\n    mask.x = 310;\n    mask.y = 190;\n\n    cells.mask = mask;\n\n    app.stage.addChild(mask, cells);\n\n    const target = new Point();\n\n    reset();\n\n    function reset()\n    {\n        target.x = Math.floor(Math.random() * 550);\n        target.y = Math.floor(Math.random() * 300);\n    }\n\n    // Animate the mask\n    app.ticker.add(() =>\n    {\n        mask.x += (target.x - mask.x) * 0.1;\n        mask.y += (target.y - mask.y) * 0.1;\n\n        if (Math.abs(mask.x - target.x) < 1)\n        {\n            reset();\n        }\n    });\n})();\n"},textures:{renderTextureAdvanced:"import { Application, Assets, Container, Sprite, RenderTexture } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const stageSize = {\n        width: app.screen.width,\n        height: app.screen.height,\n    };\n\n    // Create two render textures... these dynamic textures will be used to draw the scene into itself\n    let renderTexture = RenderTexture.create(stageSize);\n    let renderTexture2 = RenderTexture.create(stageSize);\n    const currentTexture = renderTexture;\n\n    // Create a new sprite that uses the render texture we created above\n    const outputSprite = new Sprite(currentTexture);\n\n    // Align the sprite\n    outputSprite.x = 400;\n    outputSprite.y = 300;\n    outputSprite.anchor.set(0.5);\n\n    // Add to stage\n    app.stage.addChild(outputSprite);\n\n    const stuffContainer = new Container();\n\n    stuffContainer.x = 400;\n    stuffContainer.y = 300;\n\n    app.stage.addChild(stuffContainer);\n\n    // Create an array of image ids..\n    const fruits = [\n        'https://pixijs.com/assets/rt_object_01.png',\n        'https://pixijs.com/assets/rt_object_02.png',\n        'https://pixijs.com/assets/rt_object_03.png',\n        'https://pixijs.com/assets/rt_object_04.png',\n        'https://pixijs.com/assets/rt_object_05.png',\n        'https://pixijs.com/assets/rt_object_06.png',\n        'https://pixijs.com/assets/rt_object_07.png',\n        'https://pixijs.com/assets/rt_object_08.png',\n    ];\n\n    // Load the textures\n    await Assets.load(fruits);\n\n    // Create an array of items\n    const items = [];\n\n    // Now create some items and randomly position them in the stuff container\n    for (let i = 0; i < 20; i++)\n    {\n        const item = Sprite.from(fruits[i % fruits.length]);\n\n        item.x = Math.random() * 400 - 200;\n        item.y = Math.random() * 400 - 200;\n        item.anchor.set(0.5);\n        stuffContainer.addChild(item);\n        items.push(item);\n    }\n\n    // Used for spinning!\n    let count = 0;\n\n    app.ticker.add(() =>\n    {\n        for (let i = 0; i < items.length; i++)\n        {\n            // rotate each item\n            const item = items[i];\n\n            item.rotation += 0.1;\n        }\n\n        count += 0.01;\n\n        // Swap the buffers ...\n        const temp = renderTexture;\n\n        renderTexture = renderTexture2;\n        renderTexture2 = temp;\n\n        // Set the new texture\n        outputSprite.texture = renderTexture;\n\n        // Twist this up!\n        stuffContainer.rotation -= 0.01;\n        outputSprite.scale.set(1 + Math.sin(count) * 0.2);\n\n        // Render the stage to the texture\n        // * The 'true' clears the texture before the content is rendered *\n        app.renderer.render({\n            container: app.stage,\n            target: renderTexture2,\n            clear: false,\n        });\n    });\n})();\n",renderTextureBasic:"import { Application, Assets, Container, Sprite, RenderTexture, SCALE_MODES } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const container = new Container();\n\n    app.stage.addChild(container);\n\n    // Load the bunny texture\n    const texture = await Assets.load('https://pixijs.com/assets/bunny.png');\n\n    for (let i = 0; i < 25; i++)\n    {\n        const bunny = new Sprite(texture);\n\n        bunny.x = (i % 5) * 30;\n        bunny.y = Math.floor(i / 5) * 30;\n        bunny.rotation = Math.random() * (Math.PI * 2);\n        container.addChild(bunny);\n    }\n\n    const rt = RenderTexture.create({\n        width: 300,\n        height: 300,\n        scaleMode: SCALE_MODES.LINEAR,\n        resolution: 1,\n    });\n\n    const sprite = new Sprite(rt);\n\n    sprite.x = 450;\n    sprite.y = 60;\n    app.stage.addChild(sprite);\n\n    /*\n     * All the bunnies are added to the container with the addChild method\n     * when you do this, all the bunnies become children of the container, and when a container moves,\n     * so do all its children.\n     * This gives you a lot of flexibility and makes it easier to position elements on the screen\n     */\n    container.x = 100;\n    container.y = 60;\n\n    app.ticker.add(() =>\n    {\n        app.renderer.render(container, { renderTexture: rt });\n    });\n})();\n",textureRotate:"import { Application, Assets, Texture, Rectangle, Sprite, Text, groupD8 } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the texture\n    const texture = await Assets.load('https://pixijs.com/assets/flowerTop.png');\n\n    // Create rotated textures\n    const textures = [texture];\n    const D8 = groupD8;\n\n    for (let rotate = 1; rotate < 16; rotate++)\n    {\n        const h = D8.isVertical(rotate) ? texture.frame.width : texture.frame.height;\n        const w = D8.isVertical(rotate) ? texture.frame.height : texture.frame.width;\n\n        const { frame } = texture;\n        const crop = new Rectangle(texture.frame.x, texture.frame.y, w, h);\n        const trim = crop;\n        let rotatedTexture;\n\n        if (rotate % 2 === 0)\n        {\n            rotatedTexture = new Texture({\n                source: texture.baseTexture,\n                frame,\n                orig: crop,\n                trim,\n                rotate,\n            });\n        }\n        else\n        {\n            rotatedTexture = new Texture({\n                source: texture.baseTexture,\n                frame,\n                orig: crop,\n                trim,\n                rotate,\n            });\n        }\n        textures.push(rotatedTexture);\n    }\n\n    const offsetX = (app.screen.width / 16) | 0;\n    const offsetY = (app.screen.height / 8) | 0;\n    const gridW = (app.screen.width / 4) | 0;\n    const gridH = (app.screen.height / 5) | 0;\n\n    // Normal rotations and mirrors\n    for (let i = 0; i < 16; i++)\n    {\n        // Create a new Sprite using rotated texture\n        const dude = new Sprite(textures[i < 8 ? i * 2 : (i - 8) * 2 + 1]);\n\n        dude.scale.x = 0.5;\n        dude.scale.y = 0.5;\n        // Show it in grid\n        dude.x = offsetX + gridW * (i % 4);\n        dude.y = offsetY + gridH * ((i / 4) | 0);\n        app.stage.addChild(dude);\n        const text = new Text({\n            text: `rotate = ${dude.texture.rotate}`,\n            style: {\n                fontFamily: 'Courier New',\n                fontSize: '12px',\n                fill: 'white',\n                align: 'left',\n            },\n        });\n\n        text.x = dude.x;\n        text.y = dude.y - 20;\n        app.stage.addChild(text);\n    }\n})();\n"},assets:{async:"import { Application, Assets, Sprite } from 'pixi.js';\n\n// Await can only be used inside an async function\nasync function init()\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const texture = await Assets.load('https://pixijs.com/assets/bunny.png');\n\n    // Create a new Sprite from the awaited loaded Texture\n    const bunny = Sprite.from(texture);\n\n    // Center the sprite's anchor point\n    bunny.anchor.set(0.5);\n\n    // Move the sprite to the center of the screen\n    bunny.x = app.screen.width / 2;\n    bunny.y = app.screen.height / 2;\n\n    app.stage.addChild(bunny);\n}\n\n// Call that async function\ninit();\n",background:"import { Application, Assets, Sprite } from 'pixi.js';\n\n// Create a new application\nconst app = new Application();\n\n// Initialize the application\napp.init({ background: '#1099bb', resizeTo: window }).then(() =>\n{\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Add the assets to load\n    Assets.add({ alias: 'flowerTop', src: 'https://pixijs.com/assets/flowerTop.png' });\n    Assets.add({ alias: 'eggHead', src: 'https://pixijs.com/assets/eggHead.png' });\n\n    // Allow the assets to load in the background\n    Assets.backgroundLoad(['flowerTop', 'eggHead']);\n\n    // If the background load hasn't loaded this asset yet, calling load forces this asset to load now.\n    Assets.load('eggHead').then((texture) =>\n    {\n        // Auxiliar flag for toggling the texture\n        let isEggHead = true;\n\n        // Create a new Sprite from the resolved loaded texture\n        const character = new Sprite(texture);\n\n        character.anchor.set(0.5);\n        character.x = app.screen.width / 2;\n        character.y = app.screen.height / 2;\n        character.eventMode = 'static';\n        character.cursor = 'pointer';\n\n        app.stage.addChild(character);\n\n        character.on('pointertap', async () =>\n        {\n            isEggHead = !isEggHead;\n            // These promise are already resolved in the cache.\n            character.texture = await Assets.load(isEggHead ? 'eggHead' : 'flowerTop');\n        });\n    });\n});\n",bundle:"import { Application, Assets, Sprite } from 'pixi.js';\n\n// Create a new application\nconst app = new Application();\n\nasync function init()\n{\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Manifest example\n    const manifestExample = {\n        bundles: [\n            {\n                name: 'load-screen',\n                assets: [\n                    {\n                        alias: 'flowerTop',\n                        src: 'https://pixijs.com/assets/flowerTop.png',\n                    },\n                ],\n            },\n            {\n                name: 'game-screen',\n                assets: [\n                    {\n                        alias: 'eggHead',\n                        src: 'https://pixijs.com/assets/eggHead.png',\n                    },\n                ],\n            },\n        ],\n    };\n\n    await Assets.init({ manifest: manifestExample });\n\n    // Bundles can be loaded in the background too!\n    Assets.backgroundLoadBundle(['load-screen', 'game-screen']);\n\n    makeLoadScreen();\n}\n\nasync function makeLoadScreen()\n{\n    // Get the assets from the load screen bundle.\n    // If the bundle was already downloaded the promise resolves instantly!\n    const loadScreenAssets = await Assets.loadBundle('load-screen');\n\n    // Create a new Sprite from the resolved loaded texture\n    const goNext = new Sprite(loadScreenAssets.flowerTop);\n\n    goNext.anchor.set(0.5);\n    goNext.x = app.screen.width / 2;\n    goNext.y = app.screen.height / 2;\n    app.stage.addChild(goNext);\n\n    goNext.eventMode = 'static';\n    goNext.cursor = 'pointer';\n\n    goNext.on('pointertap', async () =>\n    {\n        goNext.destroy();\n        makeGameScreen();\n    });\n}\n\nasync function makeGameScreen()\n{\n    // Wait here until you get the assets\n    // If the user spends enough time in the load screen by the time they reach the game screen\n    // the assets are completely loaded and the promise resolves instantly!\n    const loadScreenAssets = await Assets.loadBundle('game-screen');\n\n    // Create a new Sprite from the resolved loaded texture\n    const goBack = new Sprite(loadScreenAssets.eggHead);\n\n    goBack.anchor.set(0.5);\n    goBack.x = app.screen.width / 2;\n    goBack.y = app.screen.height / 2;\n    app.stage.addChild(goBack);\n\n    goBack.eventMode = 'static';\n    goBack.cursor = 'pointer';\n\n    goBack.on('pointertap', async () =>\n    {\n        goBack.destroy();\n        // The user can go back and the files are already downloaded\n        makeLoadScreen();\n    });\n}\n\ninit();\n",multiple:"import { Application, Assets, Sprite } from 'pixi.js';\n\n// Create a new application\nconst app = new Application();\n\n// Initialize the application\napp.init({ background: '#1099bb', resizeTo: window }).then(() =>\n{\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Add the assets to load\n    Assets.add({ alias: 'flowerTop', src: 'https://pixijs.com/assets/flowerTop.png' });\n    Assets.add({ alias: 'eggHead', src: 'https://pixijs.com/assets/eggHead.png' });\n\n    // Load the assets and get a resolved promise once both are loaded\n    const texturesPromise = Assets.load(['flowerTop', 'eggHead']); // => Promise<{flowerTop: Texture, eggHead: Texture}>\n\n    // When the promise resolves, we have the texture!\n    texturesPromise.then((textures) =>\n    {\n        // Create a new Sprite from the resolved loaded Textures\n        const flower = Sprite.from(textures.flowerTop);\n\n        flower.anchor.set(0.5);\n        flower.x = app.screen.width * 0.25;\n        flower.y = app.screen.height / 2;\n        app.stage.addChild(flower);\n\n        const egg = Sprite.from(textures.eggHead);\n\n        egg.anchor.set(0.5);\n        egg.x = app.screen.width * 0.75;\n        egg.y = app.screen.height / 2;\n        app.stage.addChild(egg);\n    });\n});\n",promise:"import { Application, Assets, Sprite } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Start loading right away and create a promise\n    const texturePromise = Assets.load('https://pixijs.com/assets/bunny.png');\n\n    // When the promise resolves, we have the texture!\n    texturePromise.then((resolvedTexture) =>\n    {\n        // create a new Sprite from the resolved loaded Texture\n        const bunny = Sprite.from(resolvedTexture);\n\n        // center the sprite's anchor point\n        bunny.anchor.set(0.5);\n\n        // move the sprite to the center of the screen\n        bunny.x = app.screen.width / 2;\n        bunny.y = app.screen.height / 2;\n\n        app.stage.addChild(bunny);\n    });\n})();\n"},offscreenCanvas:{basic:"import { Application, Assets, Container, Sprite } from 'pixi.js';\n\n// This example is the based on basic/container, but using OffscreenCanvas.\n\nconst canvas = document.createElement('canvas');\nconst view = canvas.transferControlToOffscreen();\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ view, background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(canvas);\n\n    const container = new Container();\n\n    app.stage.addChild(container);\n\n    // Load the bunny texture\n    const texture = await Assets.load('https://pixijs.com/assets/bunny.png');\n\n    // Create a 5x5 grid of bunnies\n    for (let i = 0; i < 25; i++)\n    {\n        const bunny = new Sprite(texture);\n\n        bunny.anchor.set(0.5);\n        bunny.x = (i % 5) * 40;\n        bunny.y = Math.floor(i / 5) * 40;\n        container.addChild(bunny);\n    }\n\n    // Move container to the center\n    container.x = app.screen.width / 2;\n    container.y = app.screen.height / 2;\n\n    // Center bunny sprite in local container coordinates\n    container.pivot.x = container.width / 2;\n    container.pivot.y = container.height / 2;\n\n    // Listen for animate update\n    app.ticker.add((time) =>\n    {\n        // Rotate the container!\n        // * use delta to create frame-independent transform *\n        container.rotation -= 0.01 * time.deltaTime;\n    });\n})();\n",webWorker:"import * as PIXI from '@pixi/webworker';\n\n// This example is the based on basic/container, but running in Web Worker.\n\nfunction workerSource(self)\n{\n    self.onmessage = async ({ data: { baseUrl, pixiWebWorkerUrl, options } }) =>\n    {\n        self.importScripts(new URL(pixiWebWorkerUrl, baseUrl));\n\n        const app = new PIXI.Application(options);\n\n        document.body.appendChild(app.view);\n\n        const container = new PIXI.Container();\n\n        app.stage.addChild(container);\n\n        // Create a new texture\n        const textureUrl = new URL('https://pixijs.com/assets/bunny.png', baseUrl).toString();\n        const texture = PIXI.Texture.from(textureUrl);\n\n        // Create a 5x5 grid of bunnies\n        for (let i = 0; i < 25; i++)\n        {\n            const bunny = new PIXI.Sprite(texture);\n\n            bunny.anchor.set(0.5);\n            bunny.x = (i % 5) * 40;\n            bunny.y = Math.floor(i / 5) * 40;\n            container.addChild(bunny);\n        }\n\n        // Move container to the center\n        container.x = app.screen.width / 2;\n        container.y = app.screen.height / 2;\n\n        // Center bunny sprite in local container coordinates\n        container.pivot.x = container.width / 2;\n        container.pivot.y = container.height / 2;\n\n        // Listen for animate update\n        app.ticker.add((delta) =>\n        {\n            // rotate the container!\n            // use delta to create frame-independent transform\n            container.rotation -= 0.01 * delta;\n        });\n    };\n}\n\nconst blob = new Blob(['(', workerSource, ')(self);'], { type: 'application/javascript' });\n\nconst url = URL.createObjectURL(blob);\nconst worker = new Worker(url);\n\nURL.revokeObjectURL(url);\n\nconst width = 800;\nconst height = 600;\nconst resolution = window.devicePixelRatio;\nconst canvas = document.createElement('canvas');\n\ncanvas.style.width = `${width}px`;\ncanvas.style.height = `${height}px`;\nconst view = canvas.transferControlToOffscreen();\n\nconst baseUrl = window.location.href;\nconst pixiWebWorkerUrl = window.PIXI_WEBWORKER_URL;\n\nworker.postMessage(\n    {\n        baseUrl,\n        pixiWebWorkerUrl,\n        options: {\n            width,\n            height,\n            resolution,\n            view,\n            background: 0x1099bb,\n        },\n    },\n    [view],\n);\n"},filtersBasic:{blur:"import { Application, Assets, Sprite, BlurFilter } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the textures\n    await Assets.load([\n        'https://pixijs.com/assets/pixi-filters/bg_depth_blur.jpg',\n        'https://pixijs.com/assets/pixi-filters/depth_blur_dudes.jpg',\n        'https://pixijs.com/assets/pixi-filters/depth_blur_moby.jpg',\n    ]);\n\n    const bg = Sprite.from('https://pixijs.com/assets/pixi-filters/bg_depth_blur.jpg');\n\n    bg.width = app.screen.width;\n    bg.height = app.screen.height;\n    app.stage.addChild(bg);\n\n    const littleDudes = Sprite.from('https://pixijs.com/assets/pixi-filters/depth_blur_dudes.jpg');\n\n    littleDudes.x = app.screen.width / 2 - 315;\n    littleDudes.y = 200;\n    app.stage.addChild(littleDudes);\n\n    const littleRobot = Sprite.from('https://pixijs.com/assets/pixi-filters/depth_blur_moby.jpg');\n\n    littleRobot.x = app.screen.width / 2 - 200;\n    littleRobot.y = 100;\n    app.stage.addChild(littleRobot);\n\n    // Create the blur filters\n    const blurFilter1 = new BlurFilter();\n    const blurFilter2 = new BlurFilter();\n\n    // Apply the filters to the sprites\n    littleDudes.filters = [blurFilter1];\n    littleRobot.filters = [blurFilter2];\n\n    let count = 0;\n\n    // Animate the blur filters\n    app.ticker.add(() =>\n    {\n        count += 0.005;\n\n        const blurAmount = Math.cos(count);\n        const blurAmount2 = Math.sin(count);\n\n        blurFilter1.blur = 20 * blurAmount;\n        blurFilter2.blur = 20 * blurAmount2;\n    });\n})();\n",colorMatrix:"import { Application, Assets, Container, Sprite, Text, ColorMatrixFilter } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the textures\n    await Assets.load([\n        'https://pixijs.com/assets/bg_rotate.jpg',\n        'https://pixijs.com/assets/bg_scene_rotate.jpg',\n        'https://pixijs.com/assets/light_rotate_2.png',\n        'https://pixijs.com/assets/light_rotate_1.png',\n        'https://pixijs.com/assets/panda.png',\n    ]);\n\n    app.stage.eventMode = 'static';\n\n    const bg = Sprite.from('https://pixijs.com/assets/bg_rotate.jpg');\n\n    bg.anchor.set(0.5);\n\n    bg.x = app.screen.width / 2;\n    bg.y = app.screen.height / 2;\n\n    const container = new Container();\n\n    container.x = app.screen.width / 2;\n    container.y = app.screen.height / 2;\n\n    const bgFront = Sprite.from('https://pixijs.com/assets/bg_scene_rotate.jpg');\n\n    bgFront.anchor.set(0.5);\n\n    container.addChild(bgFront);\n\n    const light2 = Sprite.from('https://pixijs.com/assets/light_rotate_2.png');\n\n    light2.anchor.set(0.5);\n    container.addChild(light2);\n\n    const light1 = Sprite.from('https://pixijs.com/assets/light_rotate_1.png');\n\n    light1.anchor.set(0.5);\n    container.addChild(light1);\n\n    const panda = Sprite.from('https://pixijs.com/assets/panda.png');\n\n    panda.anchor.set(0.5);\n\n    container.addChild(panda);\n\n    app.stage.addChild(container);\n\n    // Create a color matrix filter\n    const filter = new ColorMatrixFilter();\n\n    // Apply the Filter\n    container.filters = [filter];\n\n    let count = 0;\n    let enabled = true;\n\n    app.stage.on('pointertap', () =>\n    {\n        enabled = !enabled;\n        container.filters = enabled ? [filter] : null;\n    });\n\n    const help = new Text({\n        text: 'Click or tap to turn filters on / off.',\n        style: {\n            fontFamily: 'Arial',\n            fontSize: 12,\n            fontWeight: 'bold',\n            fill: 'white',\n        },\n    });\n\n    help.y = app.screen.height - 25;\n    help.x = 10;\n\n    app.stage.addChild(help);\n\n    app.ticker.add(() =>\n    {\n        bg.rotation += 0.01;\n        bgFront.rotation -= 0.01;\n        light1.rotation += 0.02;\n        light2.rotation += 0.01;\n\n        panda.scale.x = 1 + Math.sin(count) * 0.04;\n        panda.scale.y = 1 + Math.cos(count) * 0.04;\n\n        count += 0.1;\n\n        // Animate the filter\n        const { matrix } = filter;\n\n        matrix[1] = Math.sin(count) * 3;\n        matrix[2] = Math.cos(count);\n        matrix[3] = Math.cos(count) * 1.5;\n        matrix[4] = Math.sin(count / 3) * 2;\n        matrix[5] = Math.sin(count / 2);\n        matrix[6] = Math.sin(count / 4);\n    });\n})();\n",displacementMapCrawlies:"import { Application, Assets, Container, Rectangle, Sprite, Point, DisplacementFilter } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the textures\n    await Assets.load([\n        'https://pixijs.com/assets/maggot.png',\n        'https://pixijs.com/assets/pixi-filters/displace.png',\n        'https://pixijs.com/assets/pixi-filters/ring.png',\n        'https://pixijs.com/assets/bg_grass.jpg',\n    ]);\n\n    app.stage.eventMode = 'static';\n\n    const container = new Container();\n\n    app.stage.addChild(container);\n\n    const padding = 100;\n    const bounds = new Rectangle(-padding, -padding, app.screen.width + padding * 2, app.screen.height + padding * 2);\n    const maggots = [];\n\n    for (let i = 0; i < 20; i++)\n    {\n        const maggot = Sprite.from('https://pixijs.com/assets/maggot.png');\n\n        maggot.anchor.set(0.5);\n        container.addChild(maggot);\n\n        maggot.direction = Math.random() * Math.PI * 2;\n        maggot.speed = 1;\n        maggot.turnSpeed = Math.random() - 0.8;\n\n        maggot.x = Math.random() * bounds.width;\n        maggot.y = Math.random() * bounds.height;\n\n        maggot.scale.set(1 + Math.random() * 0.3);\n        maggot.original = new Point();\n        maggot.original.copyFrom(maggot.scale);\n        maggots.push(maggot);\n    }\n\n    const displacementSprite = Sprite.from('https://pixijs.com/assets/pixi-filters/displace.png');\n\n    // Create a displacement filter\n    const displacementFilter = new DisplacementFilter({ sprite: displacementSprite, scale: 150 });\n\n    app.stage.addChild(displacementSprite);\n\n    // Apply the filter\n    container.filters = [displacementFilter];\n\n    displacementSprite.anchor.set(0.5);\n\n    const ring = Sprite.from('https://pixijs.com/assets/pixi-filters/ring.png');\n\n    ring.anchor.set(0.5);\n\n    ring.visible = false;\n\n    app.stage.addChild(ring);\n\n    const bg = Sprite.from('https://pixijs.com/assets/bg_grass.jpg');\n\n    bg.width = app.screen.width;\n    bg.height = app.screen.height;\n\n    bg.alpha = 0.4;\n\n    container.addChild(bg);\n\n    app.stage.on('mousemove', onPointerMove).on('touchmove', onPointerMove);\n\n    function onPointerMove(eventData)\n    {\n        ring.visible = true;\n\n        displacementSprite.position.set(eventData.data.global.x - 25, eventData.data.global.y);\n        ring.position.copyFrom(displacementSprite.position);\n    }\n\n    let count = 0;\n\n    // Animate the maggots\n    app.ticker.add(() =>\n    {\n        count += 0.05;\n\n        for (let i = 0; i < maggots.length; i++)\n        {\n            const maggot = maggots[i];\n\n            maggot.direction += maggot.turnSpeed * 0.01;\n            maggot.x += Math.sin(maggot.direction) * maggot.speed;\n            maggot.y += Math.cos(maggot.direction) * maggot.speed;\n\n            maggot.rotation = -maggot.direction - Math.PI / 2;\n            maggot.scale.x = maggot.original.x + Math.sin(count) * 0.2;\n\n            // wrap the maggots around as the crawl\n            if (maggot.x < bounds.x)\n            {\n                maggot.x += bounds.width;\n            }\n            else if (maggot.x > bounds.x + bounds.width)\n            {\n                maggot.x -= bounds.width;\n            }\n\n            if (maggot.y < bounds.y)\n            {\n                maggot.y += bounds.height;\n            }\n            else if (maggot.y > bounds.y + bounds.height)\n            {\n                maggot.y -= bounds.height;\n            }\n        }\n    });\n})();\n",displacementMapFlag:"import { Application, Assets, Container, Sprite, WRAP_MODES, DisplacementFilter } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the textures\n    await Assets.load([\n        'https://pixijs.com/assets/pixi-filters/flag.png',\n        'https://pixijs.com/assets/pixi-filters/displacement_map_repeat.jpg',\n    ]);\n\n    app.stage.eventMode = 'static';\n\n    const container = new Container();\n\n    app.stage.addChild(container);\n\n    const flag = Sprite.from('https://pixijs.com/assets/pixi-filters/flag.png');\n\n    container.addChild(flag);\n    flag.x = 100;\n    flag.y = 100;\n\n    const displacementSprite = Sprite.from('https://pixijs.com/assets/pixi-filters/displacement_map_repeat.jpg');\n\n    // Make sure the sprite is wrapping.\n    displacementSprite.texture.baseTexture.wrapMode = WRAP_MODES.REPEAT;\n\n    // Create a displacement filter\n    const displacementFilter = new DisplacementFilter({ sprite: displacementSprite, scale: { x: 60, y: 120 } });\n\n    displacementFilter.padding = 10;\n\n    displacementSprite.position = flag.position;\n\n    app.stage.addChild(displacementSprite);\n\n    // Apply the filter\n    flag.filters = [displacementFilter];\n\n    app.ticker.add(() =>\n    {\n        // Offset the sprite position to make vFilterCoord update to larger value.\n        // Repeat wrapping makes sure there's still pixels on the coordinates.\n        displacementSprite.x++;\n        // Reset x to 0 when it's over width to keep values from going to very huge numbers.\n        if (displacementSprite.x > displacementSprite.width)\n        {\n            displacementSprite.x = 0;\n        }\n    });\n})();\n"},filtersAdvanced:{custom:{index:"import { Application, Assets, Sprite, Filter, GlProgram } from 'pixi.js';\nimport vertex from './custom.vert';\nimport fragment from './custom.frag';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        resizeTo: window,\n        hello: true,\n        preference: 'webgl',\n    });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the texture\n    const texture = await Assets.load('https://pixijs.com/assets/bg_grass.jpg');\n\n    // Create background image\n    const background = Sprite.from(texture);\n\n    background.width = app.screen.width;\n    background.height = app.screen.height;\n    app.stage.addChild(background);\n\n    // Create the new filter, arguments: (vertexShader, framentSource)\n    const filter = new Filter({\n        glProgram: new GlProgram({\n            fragment,\n            vertex,\n        }),\n        resources: {\n            timeUniforms: {\n                uTime: { value: 0.0, type: 'f32' },\n            },\n        },\n    });\n\n    // === WARNING ===\n    // specify uniforms in filter constructor\n    // or set them BEFORE first use\n    // filter.uniforms.customUniform = 0.0\n\n    // Add the filter\n    background.filters = [filter];\n\n    // Animate the filter\n    app.ticker.add((ticker) =>\n    {\n        filter.resources.timeUniforms.uniforms.uTime += 0.04 * ticker.deltaTime;\n    });\n})();\n","src/custom.vert":"in vec2 aPosition;\nout vec2 vTextureCoord;\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n    \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}","src/custom.frag":"in vec2 vTextureCoord;\nin vec4 vColor;\n\nuniform sampler2D uTexture;\nuniform float uTime;\n\nvoid main(void)\n{\n    vec2 uvs = vTextureCoord.xy;\n\n    vec4 fg = texture2D(uTexture, vTextureCoord);\n\n\n    fg.r = uvs.y + sin(uTime);\n\n\n    gl_FragColor = fg;\n\n}"},mouseBlending:{index:"import { Application, Assets, Container, Sprite, Rectangle, Filter, Point, GlProgram } from 'pixi.js';\nimport vertex from './mouseBlending.vert';\nimport fragment from './mouseBlending.frag';\n\n/**\n * https://github.com/pixijs/pixi.js/wiki/v5-Creating-Filters\n */\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ preference: 'webgl', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the grass texture\n    const texture = await Assets.load('https://pixijs.com/assets/bg_grass.jpg');\n\n    // Create background image\n    const background = new Sprite(texture);\n\n    background.width = app.screen.width;\n    background.height = app.screen.height;\n    app.stage.addChild(background);\n\n    // NOTE: this shader wont work on old devices where mediump precision is forced in fragment shader\n    // because v5 default vertex shader uses `inputSize` in it. Same uniform in fragment and vertex shader\n    // cant have different precision :(\n\n    const container = new Container();\n\n    container.filterArea = new Rectangle(100, 100, app.screen.width - 200, app.screen.height - 200);\n    app.stage.addChild(container);\n\n    const filter = new Filter({\n        glProgram: new GlProgram({ vertex, fragment }),\n        resources: {\n            localUniforms: {\n                uMouse: { value: new Point(), type: 'vec2<f32>' },\n            },\n        },\n    });\n\n    container.filters = [filter];\n\n    app.stage.hitArea = app.screen;\n    app.stage.eventMode = 'static';\n    app.stage.on('pointermove', (event) =>\n    {\n        filter.resources.localUniforms.uniforms.uMouse.copyFrom(event.global);\n    });\n})();\n","src/mouseBlending.vert":"in vec2 aPosition;\nout vec2 vTextureCoord;\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n    \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}","src/mouseBlending.frag":" precision highp float;\nin vec2 vTextureCoord;\nout vec4 finalColor;\n\nuniform vec2 uMouse;\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform float uTime;\n\nvoid main() {\n    vec2 screenPos = vTextureCoord * uInputSize.xy + uOutputFrame.xy;\n    if (length(uMouse - screenPos) < 25.0) {\n        finalColor = vec4(1.0, 1.0, 0.0, 1.0) * 0.7; //yellow circle, alpha=0.7\n    } else {\n        // blend with underlying image, alpha=0.5\n        finalColor = vec4( sin(uTime), (uMouse.xy - uOutputFrame.xy) / uOutputFrame.zw, 1.0) * 0.5;\n    }\n}"}},advanced:{collisionDetection:"import { Application, Assets, Point, Sprite, Texture } from 'pixi.js';\n\n// Based somewhat on this article by Spicy Yoghurt\n// URL for further reading: https://spicyyoghurt.com/tutorials/html5-javascript-game-development/collision-detection-physics\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#111', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Options for how objects interact\n    // How fast the red square moves\n    const movementSpeed = 0.05;\n\n    // Strength of the impulse push between two objects\n    const impulsePower = 5;\n\n    // Test For Hit\n    // A basic AABB check between two different squares\n    function testForAABB(object1, object2)\n    {\n        const bounds1 = object1.getBounds();\n        const bounds2 = object2.getBounds();\n\n        return (\n            bounds1.x < bounds2.x + bounds2.width\n            && bounds1.x + bounds1.width > bounds2.x\n            && bounds1.y < bounds2.y + bounds2.height\n            && bounds1.y + bounds1.height > bounds2.y\n        );\n    }\n\n    // Calculates the results of a collision, allowing us to give an impulse that\n    // shoves objects apart\n    function collisionResponse(object1, object2)\n    {\n        if (!object1 || !object2)\n        {\n            return new Point(0);\n        }\n\n        const vCollision = new Point(object2.x - object1.x, object2.y - object1.y);\n\n        const distance = Math.sqrt(\n            (object2.x - object1.x) * (object2.x - object1.x) + (object2.y - object1.y) * (object2.y - object1.y),\n        );\n\n        const vCollisionNorm = new Point(vCollision.x / distance, vCollision.y / distance);\n\n        const vRelativeVelocity = new Point(\n            object1.acceleration.x - object2.acceleration.x,\n            object1.acceleration.y - object2.acceleration.y,\n        );\n\n        const speed = vRelativeVelocity.x * vCollisionNorm.x + vRelativeVelocity.y * vCollisionNorm.y;\n\n        const impulse = (impulsePower * speed) / (object1.mass + object2.mass);\n\n        return new Point(impulse * vCollisionNorm.x, impulse * vCollisionNorm.y);\n    }\n\n    // Calculate the distance between two given points\n    function distanceBetweenTwoPoints(p1, p2)\n    {\n        const a = p1.x - p2.x;\n        const b = p1.y - p2.y;\n\n        return Math.hypot(a, b);\n    }\n\n    // The green square we will knock about\n    const greenSquare = new Sprite(Texture.WHITE);\n\n    greenSquare.position.set((app.screen.width - 100) / 2, (app.screen.height - 100) / 2);\n    greenSquare.width = 100;\n    greenSquare.height = 100;\n    greenSquare.tint = 0x00ff00;\n    greenSquare.acceleration = new Point(0);\n    greenSquare.mass = 3;\n\n    // The square you move around\n    const redSquare = new Sprite(Texture.WHITE);\n\n    redSquare.position.set(0, 0);\n    redSquare.width = 100;\n    redSquare.height = 100;\n    redSquare.tint = 0xff0000;\n    redSquare.acceleration = new Point(0);\n    redSquare.mass = 1;\n\n    const mouseCoords = { x: 0, y: 0 };\n\n    app.stage.eventMode = 'static';\n    app.stage.hitArea = app.screen;\n    app.stage.on('mousemove', (event) =>\n    {\n        mouseCoords.x = event.global.x;\n        mouseCoords.y = event.global.y;\n    });\n\n    // Listen for animate update\n    app.ticker.add((time) =>\n    {\n        const delta = time.deltaTime;\n\n        // Applied deacceleration for both squares, done by reducing the\n        // acceleration by 0.01% of the acceleration every loop\n        redSquare.acceleration.set(redSquare.acceleration.x * 0.99, redSquare.acceleration.y * 0.99);\n        greenSquare.acceleration.set(greenSquare.acceleration.x * 0.99, greenSquare.acceleration.y * 0.99);\n\n        // Check whether the green square ever moves off the screen\n        // If so, reverse acceleration in that direction\n        if (greenSquare.x < 0 || greenSquare.x > app.screen.width - 100)\n        {\n            greenSquare.acceleration.x = -greenSquare.acceleration.x;\n        }\n\n        if (greenSquare.y < 0 || greenSquare.y > app.screen.height - 100)\n        {\n            greenSquare.acceleration.y = -greenSquare.acceleration.y;\n        }\n\n        // If the green square pops out of the cordon, it pops back into the\n        // middle\n        if (\n            greenSquare.x < -30\n            || greenSquare.x > app.screen.width + 30\n            || greenSquare.y < -30\n            || greenSquare.y > app.screen.height + 30\n        )\n        {\n            greenSquare.position.set((app.screen.width - 100) / 2, (app.screen.height - 100) / 2);\n        }\n\n        // If the mouse is off screen, then don't update any further\n        if (\n            app.screen.width > mouseCoords.x\n            || mouseCoords.x > 0\n            || app.screen.height > mouseCoords.y\n            || mouseCoords.y > 0\n        )\n        {\n            // Get the red square's center point\n            const redSquareCenterPosition = new Point(\n                redSquare.x + redSquare.width * 0.5,\n                redSquare.y + redSquare.height * 0.5,\n            );\n\n            // Calculate the direction vector between the mouse pointer and\n            // the red square\n            const toMouseDirection = new Point(\n                mouseCoords.x - redSquareCenterPosition.x,\n                mouseCoords.y - redSquareCenterPosition.y,\n            );\n\n            // Use the above to figure out the angle that direction has\n            const angleToMouse = Math.atan2(toMouseDirection.y, toMouseDirection.x);\n\n            // Figure out the speed the square should be travelling by, as a\n            // function of how far away from the mouse pointer the red square is\n            const distMouseRedSquare = distanceBetweenTwoPoints(mouseCoords, redSquareCenterPosition);\n            const redSpeed = distMouseRedSquare * movementSpeed;\n\n            // Calculate the acceleration of the red square\n            redSquare.acceleration.set(Math.cos(angleToMouse) * redSpeed, Math.sin(angleToMouse) * redSpeed);\n        }\n\n        // If the two squares are colliding\n        if (testForAABB(greenSquare, redSquare))\n        {\n            // Calculate the changes in acceleration that should be made between\n            // each square as a result of the collision\n            const collisionPush = collisionResponse(greenSquare, redSquare);\n            // Set the changes in acceleration for both squares\n\n            redSquare.acceleration.set(collisionPush.x * greenSquare.mass, collisionPush.y * greenSquare.mass);\n            greenSquare.acceleration.set(-(collisionPush.x * redSquare.mass), -(collisionPush.y * redSquare.mass));\n        }\n\n        greenSquare.x += greenSquare.acceleration.x * delta;\n        greenSquare.y += greenSquare.acceleration.y * delta;\n\n        redSquare.x += redSquare.acceleration.x * delta;\n        redSquare.y += redSquare.acceleration.y * delta;\n    });\n\n    // Add to stage\n    app.stage.addChild(redSquare, greenSquare);\n})();\n",mouseTrail:"import { Application, Assets, Point, MeshRope } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the texture for rope.\n    const trailTexture = await Assets.load('https://pixijs.com/assets/trail.png');\n\n    const historyX = [];\n    const historyY = [];\n    // historySize determines how long the trail will be.\n    const historySize = 20;\n    // ropeSize determines how smooth the trail will be.\n    const ropeSize = 100;\n    const points = [];\n\n    // Create history array.\n    for (let i = 0; i < historySize; i++)\n    {\n        historyX.push(0);\n\n        historyY.push(0);\n    }\n    // Create rope points.\n    for (let i = 0; i < ropeSize; i++)\n    {\n        points.push(new Point(0, 0));\n    }\n\n    // Create the rope\n    const rope = new MeshRope({ texture: trailTexture, points });\n\n    // Set the blendmode\n    rope.blendmode = 'add';\n\n    app.stage.addChild(rope);\n\n    let mouseposition = null;\n\n    app.stage.eventMode = 'static';\n    app.stage.hitArea = app.screen;\n    app.stage.on('mousemove', (event) =>\n    {\n        mouseposition = mouseposition || { x: 0, y: 0 };\n        mouseposition.x = event.global.x;\n        mouseposition.y = event.global.y;\n    });\n\n    // Listen for animate update\n    app.ticker.add(() =>\n    {\n        if (!mouseposition) return;\n\n        // Update the mouse values to history\n        historyX.pop();\n        historyX.unshift(mouseposition.x);\n        historyY.pop();\n        historyY.unshift(mouseposition.y);\n        // Update the points to correspond with history.\n        for (let i = 0; i < ropeSize; i++)\n        {\n            const p = points[i];\n\n            // Smooth the curve with cubic interpolation to prevent sharp edges.\n            const ix = cubicInterpolation(historyX, (i / ropeSize) * historySize);\n            const iy = cubicInterpolation(historyY, (i / ropeSize) * historySize);\n\n            p.x = ix;\n            p.y = iy;\n        }\n    });\n\n    /**\n     * Cubic interpolation based on https://github.com/osuushi/Smooth.js\n     */\n    function clipInput(k, arr)\n    {\n        if (k < 0) k = 0;\n        if (k > arr.length - 1) k = arr.length - 1;\n\n        return arr[k];\n    }\n\n    function getTangent(k, factor, array)\n    {\n        return (factor * (clipInput(k + 1, array) - clipInput(k - 1, array))) / 2;\n    }\n\n    function cubicInterpolation(array, t, tangentFactor = 1)\n    {\n        const k = Math.floor(t);\n        const m = [getTangent(k, tangentFactor, array), getTangent(k + 1, tangentFactor, array)];\n        const p = [clipInput(k, array), clipInput(k + 1, array)];\n\n        t -= k;\n        const t2 = t * t;\n        const t3 = t * t2;\n\n        return (2 * t3 - 3 * t2 + 1) * p[0] + (t3 - 2 * t2 + t) * m[0] + (-2 * t3 + 3 * t2) * p[1] + (t3 - t2) * m[1];\n    }\n})();\n",scratchCard:"import { Application, Assets, Graphics, Sprite, RenderTexture, Point } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // prepare circle texture, that will be our brush\n    const brush = new Graphics().circle(0, 0, 50).fill({ color: 0xffffff });\n\n    // Create a line that will interpolate the drawn points\n    const line = new Graphics();\n\n    // Load the textures\n    await Assets.load(['https://pixijs.com/assets/bg_grass.jpg', 'https://pixijs.com/assets/bg_rotate.jpg']);\n\n    const { width, height } = app.screen;\n    const stageSize = { width, height };\n\n    const background = Object.assign(Sprite.from('https://pixijs.com/assets/bg_grass.jpg'), stageSize);\n    const imageToReveal = Object.assign(Sprite.from('https://pixijs.com/assets/bg_rotate.jpg'), stageSize);\n    const renderTexture = RenderTexture.create(stageSize);\n    const renderTextureSprite = new Sprite(renderTexture);\n\n    imageToReveal.mask = renderTextureSprite;\n\n    app.stage.addChild(background, imageToReveal, renderTextureSprite);\n\n    app.stage.eventMode = 'static';\n    app.stage.hitArea = app.screen;\n    app.stage\n        .on('pointerdown', pointerDown)\n        .on('pointerup', pointerUp)\n        .on('pointerupoutside', pointerUp)\n        .on('pointermove', pointerMove);\n\n    let dragging = false;\n    let lastDrawnPoint = null;\n\n    function pointerMove({ global: { x, y } })\n    {\n        if (dragging)\n        {\n            brush.position.set(x, y);\n            app.renderer.render({\n                container: brush,\n                target: renderTexture,\n                clear: false,\n                skipUpdateTransform: false,\n            });\n            // Smooth out the drawing a little bit to make it look nicer\n            // this connects the previous drawn point to the current one\n            // using a line\n            if (lastDrawnPoint)\n            {\n                line.clear().moveTo(lastDrawnPoint.x, lastDrawnPoint.y).lineTo(x, y).stroke({ width: 100, color: 0xffffff });\n                app.renderer.render({\n                    container: line,\n                    target: renderTexture,\n                    clear: false,\n                    skipUpdateTransform: false,\n                });\n            }\n            lastDrawnPoint = lastDrawnPoint || new Point();\n            lastDrawnPoint.set(x, y);\n        }\n    }\n\n    function pointerDown(event)\n    {\n        dragging = true;\n        pointerMove(event);\n    }\n\n    function pointerUp(event)\n    {\n        dragging = false;\n        lastDrawnPoint = null;\n    }\n})();\n",screenShot:"import { Application, Assets, Container, Sprite, Text, TextStyle } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#111', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Create and add a container to the stage\n    const container = new Container();\n\n    const containerFrame = new Container();\n\n    containerFrame.addChild(container);\n\n    app.stage.addChild(containerFrame);\n\n    // Load the bunny texture\n    const texture = await Assets.load('https://pixijs.com/assets/bunny.png');\n\n    // Create a 5x5 grid of bunnies in the container\n    for (let i = 0; i < 25; i++)\n    {\n        const bunny = new Sprite(texture);\n\n        bunny.x = (i % 5) * 40;\n        bunny.y = Math.floor(i / 5) * 40;\n        container.addChild(bunny);\n    }\n\n    // Move the container to the center\n    containerFrame.x = app.screen.width / 2;\n    containerFrame.y = app.screen.height / 2;\n\n    // Center the bunny sprites in local container coordinates\n    container.pivot.x = container.width / 2;\n    container.pivot.y = container.height / 2;\n\n    // Listen for animate update\n    app.ticker.add((time) =>\n    {\n        // Continuously rotate the container!\n        // * use delta to create frame-independent transform *\n        container.rotation -= 0.01 * time.deltaTime;\n    });\n\n    let screenshot;\n\n    // Take the screenshot and download it\n    async function takeScreenshot()\n    {\n        if (screenshot !== undefined)\n        {\n            screenshot.remove();\n        }\n\n        app.stop();\n        const url = await app.renderer.extract.base64(containerFrame);\n\n        screenshot = document.createElement('a');\n\n        document.body.append(screenshot);\n\n        screenshot.style.position = 'fixed';\n        screenshot.style.top = '20px';\n        screenshot.style.right = '20px';\n        screenshot.download = 'screenshot';\n        screenshot.href = url;\n\n        const image = new Image();\n\n        image.width = app.screen.width / 5;\n        image.src = url;\n\n        screenshot.innerHTML = image.outerHTML;\n\n        app.start();\n    }\n\n    app.stage.eventMode = 'static';\n    app.stage.hitArea = app.screen;\n    app.stage.on('pointerdown', takeScreenshot);\n\n    const style = new TextStyle({\n        fontFamily: 'Roboto',\n        fill: '#999',\n    });\n\n    const screenshotText = new Text({ text: 'Click To Take Screenshot', style });\n\n    screenshotText.x = Math.round((app.screen.width - screenshotText.width) / 2);\n    screenshotText.y = Math.round(screenshotText.height / 2);\n\n    app.stage.addChild(screenshotText);\n})();\n",slots:"import {\n    Application,\n    Assets,\n    Color,\n    Container,\n    Texture,\n    Sprite,\n    Graphics,\n    Text,\n    TextStyle,\n    BlurFilter,\n    FillGradient,\n} from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the textures\n    await Assets.load([\n        'https://pixijs.com/assets/eggHead.png',\n        'https://pixijs.com/assets/flowerTop.png',\n        'https://pixijs.com/assets/helmlok.png',\n        'https://pixijs.com/assets/skully.png',\n    ]);\n\n    const REEL_WIDTH = 160;\n    const SYMBOL_SIZE = 150;\n\n    // Create different slot symbols\n    const slotTextures = [\n        Texture.from('https://pixijs.com/assets/eggHead.png'),\n        Texture.from('https://pixijs.com/assets/flowerTop.png'),\n        Texture.from('https://pixijs.com/assets/helmlok.png'),\n        Texture.from('https://pixijs.com/assets/skully.png'),\n    ];\n\n    // Build the reels\n    const reels = [];\n    const reelContainer = new Container();\n\n    for (let i = 0; i < 5; i++)\n    {\n        const rc = new Container();\n\n        rc.x = i * REEL_WIDTH;\n        reelContainer.addChild(rc);\n\n        const reel = {\n            container: rc,\n            symbols: [],\n            position: 0,\n            previousPosition: 0,\n            blur: new BlurFilter(),\n        };\n\n        reel.blur.blurX = 0;\n        reel.blur.blurY = 0;\n        rc.filters = [reel.blur];\n\n        // Build the symbols\n        for (let j = 0; j < 4; j++)\n        {\n            const symbol = new Sprite(slotTextures[Math.floor(Math.random() * slotTextures.length)]);\n            // Scale the symbol to fit symbol area.\n\n            symbol.y = j * SYMBOL_SIZE;\n            symbol.scale.x = symbol.scale.y = Math.min(SYMBOL_SIZE / symbol.width, SYMBOL_SIZE / symbol.height);\n            symbol.x = Math.round((SYMBOL_SIZE - symbol.width) / 2);\n            reel.symbols.push(symbol);\n            rc.addChild(symbol);\n        }\n        reels.push(reel);\n    }\n    app.stage.addChild(reelContainer);\n\n    // Build top & bottom covers and position reelContainer\n    const margin = (app.screen.height - SYMBOL_SIZE * 3) / 2;\n\n    reelContainer.y = margin;\n    reelContainer.x = Math.round(app.screen.width - REEL_WIDTH * 5);\n    const top = new Graphics().rect(0, 0, app.screen.width, margin).fill({ color: 0x0 });\n    const bottom = new Graphics().rect(0, SYMBOL_SIZE * 3 + margin, app.screen.width, margin).fill({ color: 0x0 });\n\n    // Create gradient fill\n    const fill = new FillGradient(0, 0, 0, 36 * 1.7);\n\n    const colors = [0xffffff, 0x00ff99].map((color) => Color.shared.setValue(color).toNumber());\n\n    colors.forEach((number, index) =>\n    {\n        const ratio = index / colors.length;\n\n        fill.addColorStop(ratio, number);\n    });\n\n    // Add play text\n    const style = new TextStyle({\n        fontFamily: 'Arial',\n        fontSize: 36,\n        fontStyle: 'italic',\n        fontWeight: 'bold',\n        fill: { fill },\n        stroke: { color: 0x4a1850, width: 5 },\n        dropShadow: {\n            color: 0x000000,\n            angle: Math.PI / 6,\n            blur: 4,\n            distance: 6,\n        },\n        wordWrap: true,\n        wordWrapWidth: 440,\n    });\n\n    const playText = new Text('Spin the wheels!', style);\n\n    playText.x = Math.round((bottom.width - playText.width) / 2);\n    playText.y = app.screen.height - margin + Math.round((margin - playText.height) / 2);\n    bottom.addChild(playText);\n\n    // Add header text\n    const headerText = new Text('PIXI MONSTER SLOTS!', style);\n\n    headerText.x = Math.round((top.width - headerText.width) / 2);\n    headerText.y = Math.round((margin - headerText.height) / 2);\n    top.addChild(headerText);\n\n    app.stage.addChild(top);\n    app.stage.addChild(bottom);\n\n    // Set the interactivity.\n    bottom.eventMode = 'static';\n    bottom.cursor = 'pointer';\n    bottom.addListener('pointerdown', () =>\n    {\n        startPlay();\n    });\n\n    let running = false;\n\n    // Function to start playing.\n    function startPlay()\n    {\n        if (running) return;\n        running = true;\n\n        for (let i = 0; i < reels.length; i++)\n        {\n            const r = reels[i];\n            const extra = Math.floor(Math.random() * 3);\n            const target = r.position + 10 + i * 5 + extra;\n            const time = 2500 + i * 600 + extra * 600;\n\n            tweenTo(r, 'position', target, time, backout(0.5), null, i === reels.length - 1 ? reelsComplete : null);\n        }\n    }\n\n    // Reels done handler.\n    function reelsComplete()\n    {\n        running = false;\n    }\n\n    // Listen for animate update.\n    app.ticker.add(() =>\n    {\n        // Update the slots.\n        for (let i = 0; i < reels.length; i++)\n        {\n            const r = reels[i];\n            // Update blur filter y amount based on speed.\n            // This would be better if calculated with time in mind also. Now blur depends on frame rate.\n\n            r.blur.blurY = (r.position - r.previousPosition) * 8;\n            r.previousPosition = r.position;\n\n            // Update symbol positions on reel.\n            for (let j = 0; j < r.symbols.length; j++)\n            {\n                const s = r.symbols[j];\n                const prevy = s.y;\n\n                s.y = ((r.position + j) % r.symbols.length) * SYMBOL_SIZE - SYMBOL_SIZE;\n                if (s.y < 0 && prevy > SYMBOL_SIZE)\n                {\n                    // Detect going over and swap a texture.\n                    // This should in proper product be determined from some logical reel.\n                    s.texture = slotTextures[Math.floor(Math.random() * slotTextures.length)];\n                    s.scale.x = s.scale.y = Math.min(SYMBOL_SIZE / s.texture.width, SYMBOL_SIZE / s.texture.height);\n                    s.x = Math.round((SYMBOL_SIZE - s.width) / 2);\n                }\n            }\n        }\n    });\n\n    // Very simple tweening utility function. This should be replaced with a proper tweening library in a real product.\n    const tweening = [];\n\n    function tweenTo(object, property, target, time, easing, onchange, oncomplete)\n    {\n        const tween = {\n            object,\n            property,\n            propertyBeginValue: object[property],\n            target,\n            easing,\n            time,\n            change: onchange,\n            complete: oncomplete,\n            start: Date.now(),\n        };\n\n        tweening.push(tween);\n\n        return tween;\n    }\n    // Listen for animate update.\n    app.ticker.add(() =>\n    {\n        const now = Date.now();\n        const remove = [];\n\n        for (let i = 0; i < tweening.length; i++)\n        {\n            const t = tweening[i];\n            const phase = Math.min(1, (now - t.start) / t.time);\n\n            t.object[t.property] = lerp(t.propertyBeginValue, t.target, t.easing(phase));\n            if (t.change) t.change(t);\n            if (phase === 1)\n            {\n                t.object[t.property] = t.target;\n                if (t.complete) t.complete(t);\n                remove.push(t);\n            }\n        }\n        for (let i = 0; i < remove.length; i++)\n        {\n            tweening.splice(tweening.indexOf(remove[i]), 1);\n        }\n    });\n\n    // Basic lerp funtion.\n    function lerp(a1, a2, t)\n    {\n        return a1 * (1 - t) + a2 * t;\n    }\n\n    // Backout function from tweenjs.\n    // https://github.com/CreateJS/TweenJS/blob/master/src/tweenjs/Ease.js\n    function backout(amount)\n    {\n        return (t) => --t * t * ((amount + 1) * t + amount) + 1;\n    }\n})();\n",spinners:{index:"import { Application, Assets, Container, Sprite, Point, Graphics } from 'pixi.js';\nimport { generateSpinner1 } from './spinner1';\nimport { generateSpinner2 } from './spinner2';\nimport { generateSpinner3 } from './spinner3';\nimport { generateSpinner4 } from './spinner4';\nimport { generateSpinner5 } from './spinner5';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ antialias: true, background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the textures\n    await Assets.load([\n        'https://pixijs.com/assets/bg_scene_rotate.jpg',\n        'https://pixijs.com/assets/bg_rotate.jpg',\n        'https://pixijs.com/assets/circle.png',\n    ]);\n\n    const onTick = [\n        generateSpinner1(app, new Point(50, 50)),\n        generateSpinner2(app, new Point(160, 50)),\n        generateSpinner3(app, new Point(270, 50)),\n        generateSpinner4(app, new Point(380, 50)),\n        generateSpinner5(app, new Point(490, 50)),\n    ];\n\n    // Listen for animate update\n    app.ticker.add((time) =>\n    {\n        // Call tick handling for each spinner.\n        onTick.forEach((cb) =>\n        {\n            cb(time.deltaTime);\n        });\n    });\n})();\n","src/spinner1.js":"import { Container, Graphics, Sprite } from 'pixi.js';\nimport { intersect } from './intersect';\n\n/* ---------------------------------------\nSpinner 1. Square with radial completion.\n-------------------------------------- */\nexport function generateSpinner1(app, position)\n{\n    const container = new Container();\n\n    container.position = position;\n    app.stage.addChild(container);\n\n    const base = Sprite.from('https://pixijs.com/assets/bg_scene_rotate.jpg');\n    const size = 100;\n\n    base.width = size;\n    base.height = size;\n\n    const bottom = Sprite.from('https://pixijs.com/assets/bg_rotate.jpg');\n\n    bottom.width = size;\n    bottom.height = size;\n\n    const mask = new Graphics();\n\n    mask.position.set(size / 2, size / 2);\n    base.mask = mask;\n    window.mask = mask;\n\n    container.addChild(bottom);\n    container.addChild(base);\n    container.addChild(mask);\n\n    let phase = 0;\n\n    return (delta) =>\n    {\n        // Update phase\n        phase += delta / 60;\n        phase %= Math.PI * 2;\n\n        // Calculate target point.\n        const x = Math.cos(phase - Math.PI / 2) * size;\n        const y = Math.sin(phase - Math.PI / 2) * size;\n\n        const segments = [\n            [-size / 2, -size / 2, size / 2, -size / 2], // top segment\n            [size / 2, -size / 2, size / 2, size / 2], // right\n            [-size / 2, size / 2, size / 2, size / 2], // bottom\n            [-size / 2, -size / 2, -size / 2, size / 2], // left\n        ];\n\n        // Find the intersecting segment.\n        let intersection = null;\n        let winding = 0;\n\n        for (let i = 0; i < segments.length; i++)\n        {\n            const segment = segments[i];\n            const hit = intersect(0, 0, x, y, segment[0], segment[1], segment[2], segment[3]);\n\n            if (hit)\n            {\n                intersection = hit;\n                if (i === 0) winding = hit.x > 0 ? 0 : 4;\n                else winding = i;\n                break;\n            }\n        }\n\n        const corners = [\n            size / 2,\n            -size / 2, // Top right\n            size / 2,\n            size / 2, // Bottom right\n            -size / 2,\n            size / 2, // Bottom left\n            -size / 2,\n            -size / 2, // Top left,\n            0,\n            -size / 2, // End point\n        ];\n\n        // Redraw mask\n        mask.clear()\n            .moveTo(0, -size / 2)\n            .lineTo(0, 0)\n            .lineTo(intersection.x, intersection.y);\n\n        // fill the corners\n        for (let i = winding; i < corners.length / 2; i++)\n        {\n            mask.lineTo(corners[i * 2], corners[i * 2 + 1]);\n        }\n\n        mask.fill({ color: 0xff0000 });\n    };\n}\n","src/spinner2.js":"const { Container, Sprite } = require('pixi.js');\n\n/* -----------------------\nSpinner 2. Scaling balls.\n---------------------- */\nexport function generateSpinner2(app, position)\n{\n    const container = new Container();\n\n    container.position = position;\n    app.stage.addChild(container);\n\n    const size = 100;\n    const ballAmount = 7;\n    const balls = [];\n\n    for (let i = 0; i < ballAmount; i++)\n    {\n        const ball = Sprite.from('https://pixijs.com/assets/circle.png');\n\n        ball.anchor.set(0.5);\n        container.addChild(ball);\n        ball.position.set(\n            size / 2 + (Math.cos((i / ballAmount) * Math.PI * 2) * size) / 3,\n            size / 2 + (Math.sin((i / ballAmount) * Math.PI * 2) * size) / 3,\n        );\n        balls.push(ball);\n    }\n\n    let phase = 0;\n\n    return (delta) =>\n    {\n        // Update phase\n        phase += delta / 60;\n        phase %= Math.PI * 2;\n\n        // Update ball scales\n        balls.forEach((b, i) =>\n        {\n            const sin = Math.sin((i / ballAmount) * Math.PI - phase);\n            // Multiply sin with itself to get more steeper edge.\n\n            b.scale.set(Math.abs(sin * sin * sin * 0.5) + 0.5);\n        });\n    };\n}\n","src/spinner3.js":"import { Container, Graphics, Sprite } from 'pixi.js';\n\n/* ---------------------\nSpinner 3. Radial mask.\n-------------------- */\nexport function generateSpinner3(app, position)\n{\n    const container = new Container();\n\n    container.position = position;\n    app.stage.addChild(container);\n\n    const base = Sprite.from('https://pixijs.com/assets/bg_scene_rotate.jpg');\n    const size = 100;\n\n    base.width = size;\n    base.height = size;\n\n    const mask = new Graphics();\n\n    mask.position.set(size / 2, size / 2);\n    base.mask = mask;\n    window.mask = mask;\n\n    container.addChild(base);\n    container.addChild(mask);\n\n    let phase = 0;\n\n    return (delta) =>\n    {\n        // Update phase\n        phase += delta / 60;\n        phase %= Math.PI * 2;\n\n        const angleStart = 0 - Math.PI / 2;\n        const angle = phase + angleStart;\n        const radius = 50;\n\n        const x1 = Math.cos(angleStart) * radius;\n        const y1 = Math.sin(angleStart) * radius;\n\n        // Redraw mask\n        mask.clear()\n            .moveTo(0, 0)\n            .lineTo(x1, y1)\n            .arc(0, 0, radius, angleStart, angle, false)\n            .lineTo(0, 0)\n            .fill({ color: 0xff0000 });\n    };\n}\n","src/spinner4.js":"import { Container, Graphics, Sprite } from 'pixi.js';\nimport { intersect } from './intersect';\n\n/* ---------------------------------\nSpinner 4. Rounded rectangle edges.\n------------------------------- */\nexport function generateSpinner4(app, position)\n{\n    const container = new Container();\n\n    container.position = position;\n    app.stage.addChild(container);\n\n    const size = 100;\n    const arcRadius = 15;\n\n    const base = Sprite.from('https://pixijs.com/assets/bg_scene_rotate.jpg');\n\n    base.width = size;\n    base.height = size;\n\n    // For better performance having assets prerounded would be better than masking.\n    const roundingMask = new Graphics();\n\n    roundingMask.roundRect(0, 0, size, size, arcRadius).fill({ color: 0x0 });\n    base.mask = roundingMask;\n\n    // The edge could be replaced with image as well.\n    const lineSize = 5;\n    const edge = new Graphics();\n\n    edge.roundRect(0, 0, size, size, arcRadius).stroke({ width: lineSize, color: 0xff0000 });\n\n    // Mask in this example works basically the same way as in example 1.\n    // Except it is reversed and calculates the mask in straight lines in edges.\n    const mask = new Graphics();\n\n    mask.position.set(size / 2, size / 2);\n    edge.mask = mask;\n\n    container.addChild(base);\n    container.addChild(roundingMask);\n    container.addChild(edge);\n    container.addChild(mask);\n\n    let phase = 0;\n\n    return (delta) =>\n    {\n        // Update phase\n        phase += delta / 160;\n        phase %= Math.PI * 2;\n\n        // Calculate target point.\n        const x = Math.cos(phase - Math.PI / 2) * size;\n        const y = Math.sin(phase - Math.PI / 2) * size;\n        // Line segments\n        const segments = [\n            [-size / 2 + lineSize, -size / 2 + lineSize, size / 2 - lineSize, -size / 2 + lineSize], // top segment\n            [size / 2 - lineSize, -size / 2 + lineSize, size / 2 - lineSize, size / 2 - lineSize], // right\n            [-size / 2 + lineSize, size / 2 - lineSize, size / 2 - lineSize, size / 2 - lineSize], // bottom\n            [-size / 2 + lineSize, -size / 2 + lineSize, -size / 2 + lineSize, size / 2 - lineSize], // left\n        ];\n        // To which dir should mask continue at each segment\n        let outDir = [\n            [0, -1],\n            [1, 0],\n            [0, 1],\n            [-1, 0],\n        ];\n\n        // Find the intersecting segment.\n        let intersection = null;\n        let winding = 0;\n        // What direction should the line continue after hit has been found before hitting the line size\n\n        for (let i = 0; i < segments.length; i++)\n        {\n            const segment = segments[i];\n            const hit = intersect(0, 0, x, y, segment[0], segment[1], segment[2], segment[3]);\n\n            if (hit)\n            {\n                intersection = hit;\n                if (i === 0) winding = hit.x < 0 ? 0 : 4;\n                else winding = 4 - i;\n                outDir = outDir[i];\n                break;\n            }\n        }\n\n        const corners = [\n            -size / 2 - lineSize,\n            -size / 2 - lineSize, // Top left,\n            -size / 2 - lineSize,\n            size / 2 + lineSize, // Bottom left\n            size / 2 + lineSize,\n            size / 2 + lineSize, // Bottom right\n            size / 2 + lineSize,\n            -size / 2 - lineSize, // Top right\n        ];\n\n        // Redraw mask\n        mask.clear()\n            .moveTo(0, 0)\n            .moveTo(0, -size / 2 - lineSize);\n\n        // fill the corners\n        for (let i = 0; i < winding; i++)\n        {\n            mask.lineTo(corners[i * 2], corners[i * 2 + 1]);\n        }\n\n        mask.lineTo(intersection.x + outDir[0] * lineSize * 2, intersection.y + outDir[1] * lineSize * 2)\n            .lineTo(intersection.x, intersection.y)\n            .lineTo(0, 0)\n            .fill({ color: 0xff0000 });\n    };\n}\n","src/spinner5.js":"import { Container, Graphics } from 'pixi.js';\n\n/* ---------------------\nSpinner 5. Rounded rectangle fixed length spinner by jonlepage\n-------------------- */\nexport function generateSpinner5(app, position)\n{\n    const container = new Container();\n\n    container.position = position;\n    app.stage.addChild(container);\n\n    const halfCircle = new Graphics().arc(0, 0, 100, 0, Math.PI).fill({ color: 0xff0000 });\n\n    halfCircle.position.set(50, 50);\n\n    const rectangle = new Graphics().roundRect(0, 0, 100, 100, 16).stroke({ width: 2, color: 0xffffff });\n\n    rectangle.mask = halfCircle;\n\n    container.addChild(rectangle);\n    container.addChild(halfCircle);\n\n    let phase = 0;\n\n    return (delta) =>\n    {\n        // Update phase\n        phase += delta / 6;\n        phase %= Math.PI * 2;\n\n        halfCircle.rotation = phase;\n    };\n}\n","src/intersect.js":"/**\n * Helper functions\n\nline intercept math by Paul Bourke http://paulbourke.net/geometry/pointlineplane/\nDetermine the intersection point of two line segments\nReturn FALSE if the lines don't intersect\n\nCode modified from original to match pixi examples linting rules.\n*/\nexport function intersect(x1, y1, x2, y2, x3, y3, x4, y4)\n{\n    // Check if none of the lines are of length 0\n    if ((x1 === x2 && y1 === y2) || (x3 === x4 && y3 === y4))\n    {\n        return false;\n    }\n\n    const denominator = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\n\n    // Lines are parallel\n    if (denominator === 0)\n    {\n        return false;\n    }\n\n    const ua = ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) / denominator;\n    const ub = ((x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3)) / denominator;\n\n    // is the intersection along the segments\n    if (ua < 0 || ua > 1 || ub < 0 || ub > 1)\n    {\n        return false;\n    }\n\n    // Return a object with the x and y coordinates of the intersection\n    const x = x1 + ua * (x2 - x1);\n    const y = y1 + ua * (y2 - y1);\n\n    return { x, y };\n}\n"},starWarp:"import { Application, Assets, Sprite } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the star texture\n    const starTexture = await Assets.load('https://pixijs.com/assets/star.png');\n\n    const starAmount = 1000;\n    let cameraZ = 0;\n    const fov = 20;\n    const baseSpeed = 0.025;\n    let speed = 0;\n    let warpSpeed = 0;\n    const starStretch = 5;\n    const starBaseSize = 0.05;\n\n    // Create the stars\n    const stars = [];\n\n    for (let i = 0; i < starAmount; i++)\n    {\n        const star = {\n            sprite: new Sprite(starTexture),\n            z: 0,\n            x: 0,\n            y: 0,\n        };\n\n        star.sprite.anchor.x = 0.5;\n        star.sprite.anchor.y = 0.7;\n        randomizeStar(star, true);\n        app.stage.addChild(star.sprite);\n        stars.push(star);\n    }\n\n    function randomizeStar(star, initial)\n    {\n        star.z = initial ? Math.random() * 2000 : cameraZ + Math.random() * 1000 + 2000;\n\n        // Calculate star positions with radial random coordinate so no star hits the camera.\n        const deg = Math.random() * Math.PI * 2;\n        const distance = Math.random() * 50 + 1;\n\n        star.x = Math.cos(deg) * distance;\n        star.y = Math.sin(deg) * distance;\n    }\n\n    // Change flight speed every 5 seconds\n    setInterval(() =>\n    {\n        warpSpeed = warpSpeed > 0 ? 0 : 1;\n    }, 5000);\n\n    // Listen for animate update\n    app.ticker.add((time) =>\n    {\n        // Simple easing. This should be changed to proper easing function when used for real.\n        speed += (warpSpeed - speed) / 20;\n        cameraZ += time.deltaTime * 10 * (speed + baseSpeed);\n        for (let i = 0; i < starAmount; i++)\n        {\n            const star = stars[i];\n\n            if (star.z < cameraZ) randomizeStar(star);\n\n            // Map star 3d position to 2d with really simple projection\n            const z = star.z - cameraZ;\n\n            star.sprite.x = star.x * (fov / z) * app.renderer.screen.width + app.renderer.screen.width / 2;\n            star.sprite.y = star.y * (fov / z) * app.renderer.screen.width + app.renderer.screen.height / 2;\n\n            // Calculate star scale & rotation.\n            const dxCenter = star.sprite.x - app.renderer.screen.width / 2;\n            const dyCenter = star.sprite.y - app.renderer.screen.height / 2;\n            const distanceCenter = Math.sqrt(dxCenter * dxCenter + dyCenter * dyCenter);\n            const distanceScale = Math.max(0, (2000 - z) / 2000);\n\n            star.sprite.scale.x = distanceScale * starBaseSize;\n            // Star is looking towards center so that y axis is towards center.\n            // Scale the star depending on how fast we are moving, what the stretchfactor is\n            // and depending on how far away it is from the center.\n            star.sprite.scale.y\n                = distanceScale * starBaseSize\n                + (distanceScale * speed * starStretch * distanceCenter) / app.renderer.screen.width;\n            star.sprite.rotation = Math.atan2(dyCenter, dxCenter) + Math.PI / 2;\n        }\n    });\n})();\n"},meshAndShaders:{perspectiveMesh:"import { Application, PerspectiveMesh, Assets } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ background: '#1099bb', resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const texture = await Assets.load({\n        src: 'https://pixijs.com/assets/eggHead.png',\n    });\n\n    const points = [\n        { x: 0, y: 0 },\n        { x: texture.width, y: 0 },\n        { x: texture.width, y: texture.height },\n        { x: 0, y: texture.height },\n    ];\n\n    const outPoints = points.map((p) => ({ ...p }));\n\n    const mesh = app.stage.addChild(\n        new PerspectiveMesh({\n            texture,\n            pivot: {\n                x: texture.width / 2,\n                y: texture.height / 2,\n            },\n            x: app.screen.width / 2,\n            y: app.screen.height / 2,\n            width: texture.width,\n            height: texture.height,\n        }),\n    );\n\n    mesh.scale = 2;\n\n    let angleX = 0;\n    let angleY = 0;\n\n    // Function to apply 3D rotation to the points\n    function rotate3D(points, outPoints, angleX, angleY, perspective)\n    {\n        const radX = (angleX * Math.PI) / 180;\n        const radY = (angleY * Math.PI) / 180;\n        const cosX = Math.cos(radX);\n        const sinX = Math.sin(radX);\n        const cosY = Math.cos(radY);\n        const sinY = Math.sin(radY);\n\n        for (let i = 0; i < points.length; i++)\n        {\n            const src = points[i];\n            const out = outPoints[i];\n            const x = src.x - texture.width / 2;\n            const y = src.y - texture.height / 2;\n            let z = 0; // Assume initial z is 0 for this 2D plane\n\n            // Rotate around Y axis\n            const xY = cosY * x - sinY * z;\n\n            z = sinY * x + cosY * z;\n\n            // Rotate around X axis\n            const yX = cosX * y - sinX * z;\n\n            z = sinX * y + cosX * z;\n\n            // Apply perspective projection\n            const scale = perspective / (perspective - z);\n\n            out.x = xY * scale + texture.width / 2;\n            out.y = yX * scale + texture.height / 2;\n        }\n    }\n\n    app.ticker.add(() =>\n    {\n        rotate3D(points, outPoints, angleX, angleY, 300);\n        mesh.setCorners(\n            outPoints[0].x,\n            outPoints[0].y,\n            outPoints[1].x,\n            outPoints[1].y,\n            outPoints[2].x,\n            outPoints[2].y,\n            outPoints[3].x,\n            outPoints[3].y,\n        );\n    });\n\n    app.stage.hitArea = app.screen;\n    app.stage.eventMode = 'static';\n    app.stage.on('pointermove', (e) =>\n    {\n        const { x, y } = e.global;\n\n        angleY = -(x - mesh.x) / 10;\n        angleX = -(y - mesh.y) / 10;\n    });\n})();\n",instancedGeometry:{index:"import { Application, Assets, Buffer, BufferUsage, Geometry, GlProgram, Mesh, Shader } from 'pixi.js';\nimport vertex from './instancedGeometry.vert';\nimport fragment from './instancedGeometry.frag';\nimport source from './instancedGeometry.wgsl';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        resizeTo: window,\n        preference: 'webgl',\n    });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const spinnyBG = await Assets.load('https://pixijs.com/assets/bg_scene_rotate.jpg');\n\n    const totalTriangles = 1000;\n\n    // need a buffer big enough to store x, y of totalTriangles\n    const instancePositionBuffer = new Buffer({\n        data: new Float32Array(totalTriangles * 2),\n        usage: BufferUsage.VERTEX | BufferUsage.COPY_DST,\n    });\n\n    const triangles = [];\n\n    for (let i = 0; i < totalTriangles; i++)\n    {\n        triangles[i] = {\n            x: 800 * Math.random(),\n            y: 600 * Math.random(),\n            speed: 1 + Math.random() * 2,\n        };\n    }\n\n    const geometry = new Geometry({\n        attributes: {\n            aPosition: [\n                -10,\n                -10, // x, y\n                10,\n                -20, // x, y\n                10,\n                10,\n            ],\n            aUV: [\n                0,\n                0, // u, v\n                1,\n                0, // u, v\n                1,\n                1,\n                0,\n                1,\n            ],\n            aPositionOffset: {\n                buffer: instancePositionBuffer,\n                instance: true,\n            },\n        },\n        instanceCount: totalTriangles,\n    });\n\n    const gl = { vertex, fragment };\n\n    const gpu = {\n        vertex: {\n            entryPoint: 'mainVert',\n            source,\n        },\n        fragment: {\n            entryPoint: 'mainFrag',\n            source,\n        },\n    };\n\n    const shader = Shader.from({\n        gl,\n        gpu,\n        resources: {\n            uTexture: spinnyBG.source,\n            uSampler: spinnyBG.source.style,\n            waveUniforms: {\n                time: { value: 1, type: 'f32' },\n            },\n        },\n    });\n\n    const triangleMesh = new Mesh({\n        geometry,\n        shader,\n    });\n\n    // triangle.position.set(128 / 2, 128 / 2);\n\n    app.stage.addChild(triangleMesh);\n\n    app.ticker.add(() =>\n    {\n        const data = instancePositionBuffer.data;\n\n        let count = 0;\n\n        for (let i = 0; i < totalTriangles; i++)\n        {\n            const triangle = triangles[i];\n\n            triangle.x += triangle.speed;\n            triangle.x %= 800;\n\n            data[count++] = triangle.x;\n            data[count++] = triangle.y;\n        }\n\n        instancePositionBuffer.update();\n    });\n})();\n","src/instancedGeometry.vert":"in vec2 aPosition;\nin vec2 aUV;\nin vec2 aPositionOffset;\n\nout vec2 vUV;\n\nuniform mat3 uProjectionMatrix;\nuniform mat3 uWorldTransformMatrix;\nuniform mat3 uTransformMatrix;\n\n\nvoid main() {\n\n    mat3 mvp = uProjectionMatrix * uWorldTransformMatrix * uTransformMatrix;\n    gl_Position = vec4((mvp * vec3(aPosition + aPositionOffset, 1.0)).xy, 0.0, 1.0);\n\n    vUV = aUV;\n}","src/instancedGeometry.frag":"in vec2 vUV;\nuniform sampler2D uTexture;\nuniform float time;\n\nvoid main() {\n    gl_FragColor = texture(uTexture, vUV + sin( (time + (vUV.x) * 14.) ) * 0.1 );\n}","src/instancedGeometry.wgsl":"struct GlobalUniforms {\n    uProjectionMatrix:mat3x3<f32>,\n    uWorldTransformMatrix:mat3x3<f32>,\n    uWorldColorAlpha: vec4<f32>,\n    uResolution: vec2<f32>,\n}\n\nstruct LocalUniforms {\n    uTransformMatrix:mat3x3<f32>,\n    uColor:vec4<f32>,\n    uRound:f32,\n}\n\n\n@group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n@group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n\nstruct VertexOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) vUV: vec2<f32>,\n};\n\n\n@vertex\nfn mainVert(\n    @location(0) aPosition : vec2<f32>,\n    @location(1) aUV : vec2<f32>,\n    @location(2) aPositionOffset : vec2<f32>,\n) -> VertexOutput {     \n    var mvp = globalUniforms.uProjectionMatrix \n        * globalUniforms.uWorldTransformMatrix \n        * localUniforms.uTransformMatrix;\n    \n    var output: VertexOutput;\n\n    output.position = vec4<f32>(mvp * vec3<f32>(aPosition+aPositionOffset, 1.0), 1.0);\n    output.vUV = aUV;\n\n    return output; \n};\n\nstruct WaveUniforms {\n    time:f32,\n}\n\n@group(2) @binding(1) var uTexture : texture_2d<f32>;\n@group(2) @binding(2) var uSampler : sampler;\n@group(2) @binding(3) var<uniform> waveUniforms : WaveUniforms;\n\n@fragment\nfn mainFrag(\n    @location(0) vUV: vec2<f32>,\n) -> @location(0) vec4<f32> {\n    return textureSample(uTexture, uSampler, vUV + sin( (waveUniforms.time + (vUV.x) * 14.) ) * 0.1);\n};"},multipassMesh:{index:"import { Application, Assets, Container, Geometry, Mesh, RenderTexture, Shader } from 'pixi.js';\nimport vertex from './multipassMesh.vert';\nimport gridFragment from './grid.frag';\nimport rippleFragment from './ripple.frag';\nimport noiseFragment from './noise.frag';\nimport waveFragment from './wave.frag';\nimport combineFragment from './combine.frag';\n\n(async () =>\n{\n    const app = new Application();\n\n    await app.init({ height: 640, resizeTo: window, preference: 'webgl' });\n\n    document.body.appendChild(app.view);\n\n    // Build geometry.\n    const geometry = new Geometry({\n        attributes: {\n            aPosition: [\n                0,\n                0, // x, y\n                200,\n                0, // x, y\n                200,\n                200, // x, y,\n                0,\n                200, // x, y,\n            ],\n            aUV: [0, 0, 1, 0, 1, 1, 0, 1],\n        },\n        indexBuffer: [0, 1, 2, 0, 2, 3],\n    });\n\n    // Load a perlinnoise texture for one of the shaders.\n    const perlinTexture = await Assets.load('https://pixijs.com/assets/perlin.jpg');\n\n    const gridShader = Shader.from({\n        gl: {\n            // Vertex shader. Use same shader for all passes.\n            vertex,\n            // First pass, generates a grid.\n            fragment: gridFragment,\n        },\n        resources: {\n            gridUniforms: {\n                zoom: { type: 'f32', value: 10 },\n            },\n        },\n    });\n\n    // Sharing textures and meshes is possible.\n    // But for simplicity each pass has its own output texture and mesh in this example.\n    const gridTexture = RenderTexture.create({ width: 200, height: 200 });\n    const gridQuad = new Mesh({ geometry, shader: gridShader });\n    const gridContainer = new Container();\n\n    gridContainer.addChild(gridQuad);\n\n    const rippleShader = Shader.from({\n        gl: {\n            vertex,\n            // Second pass. Takes grid as input and makes it ripple.\n            fragment: rippleFragment,\n        },\n        resources: {\n            rippleUniforms: {\n                amount: { type: 'f32', value: 0.5 },\n                phase: { type: 'f32', value: 0 },\n            },\n            texIn: gridTexture.source,\n        },\n    });\n\n    const rippleTexture = RenderTexture.create({ width: 200, height: 200 });\n    const rippleQuad = new Mesh({ geometry, shader: rippleShader });\n    const rippleContainer = new Container();\n\n    rippleContainer.addChild(rippleQuad);\n\n    const noiseShader = Shader.from({\n        gl: {\n            vertex,\n            // Second effect. Generates a filtered noise.\n            fragment: noiseFragment,\n        },\n        resources: {\n            noiseUniforms: {\n                limit: { type: 'f32', value: 0.5 },\n            },\n            noise: perlinTexture.source,\n        },\n    });\n\n    const noiseTexture = RenderTexture.create({ width: 200, height: 200 });\n    const noiseQuad = new Mesh({ geometry, shader: noiseShader });\n    const noiseContainer = new Container();\n\n    noiseContainer.addChild(noiseQuad);\n\n    const waveShader = Shader.from({\n        gl: {\n            vertex,\n            // Third effect\n            fragment: waveFragment,\n        },\n        resources: {\n            waveUniforms: {\n                amplitude: { type: 'f32', value: 0.75 },\n                time: { type: 'f32', value: 0 },\n            },\n        },\n    });\n\n    const waveTexture = RenderTexture.create({ width: 200, height: 200 });\n    const waveQuad = new Mesh(geometry, waveShader);\n    const waveContainer = new Container();\n\n    waveContainer.addChild(waveQuad);\n\n    const combineShader = Shader.from({\n        gl: {\n            vertex,\n            // Final combination pass\n            fragment: combineFragment,\n        },\n        resources: {\n            texRipple: rippleTexture.source,\n            texNoise: noiseTexture.source,\n            texWave: waveTexture.source,\n        },\n    });\n\n    const combineQuad = new Mesh(geometry, combineShader);\n\n    gridContainer.position.set(10, 10);\n    rippleContainer.position.set(220, 10);\n    noiseContainer.position.set(10, 220);\n    waveContainer.position.set(10, 430);\n    combineQuad.position.set(430, 220);\n\n    // Add all phases to stage so all the phases can be seen separately.\n    app.stage.addChild(gridContainer);\n    app.stage.addChild(rippleContainer);\n    app.stage.addChild(noiseContainer);\n    app.stage.addChild(waveContainer);\n    app.stage.addChild(combineQuad);\n\n    // start the animation..\n    let time = 0;\n\n    app.ticker.add(() =>\n    {\n        time += 1 / 60;\n        gridQuad.shader.resources.gridUniforms.uniforms.zoom = Math.sin(time) * 5 + 10;\n        rippleQuad.shader.resources.rippleUniforms.phase = -time;\n        waveQuad.shader.resources.waveUniforms.uniforms.time = time;\n        noiseQuad.shader.resources.noiseUniforms.uniforms.limit = Math.sin(time * 0.5) * 0.35 + 0.5;\n\n        // Render the passes to get textures.\n        app.renderer.render({\n            container: gridQuad,\n            target: gridTexture,\n        });\n\n        app.renderer.render({\n            container: rippleQuad,\n            target: rippleTexture,\n        });\n\n        app.renderer.render({\n            container: noiseQuad,\n            target: noiseTexture,\n        });\n\n        app.renderer.render({\n            container: waveQuad,\n            target: waveTexture,\n        });\n    });\n})();\n","src/multipassMesh.vert":"precision mediump float;\n\nattribute vec2 aPosition;\nattribute vec2 aUV;\n\nuniform mat3 uProjectionMatrix;\nuniform mat3 uWorldTransformMatrix;\nuniform mat3 uTransformMatrix;\n\nvarying vec2 vUvs;\n\nvoid main() {\n    vUvs = aUV;\n    mat3 mvp = uProjectionMatrix * uWorldTransformMatrix * uTransformMatrix;\n    gl_Position = vec4((mvp * vec3(aPosition, 1.0)).xy, 0.0, 1.0);\n}","src/grid.frag":"precision mediump float;\nvarying vec2 vUvs;\nuniform float zoom;\n\nvoid main()\n{\n    //Generate a simple grid.\n    //Offset uv so that center is 0,0 and edges are -1,1\n    vec2 uv = (vUvs-vec2(0.5))*2.0;\n    vec2 gUv = floor(uv*zoom);\n    vec4 color1 = vec4(0.8, 0.8, 0.8, 1.0);\n    vec4 color2 = vec4(0.4, 0.4, 0.4, 1.0);\n    vec4 outColor = mod(gUv.x + gUv.y, 2.) < 0.5 ? color1 : color2;\n    finalColor = outColor;\n\n}","src/ripple.frag":"precision mediump float;\nvarying vec2 vUvs;\nuniform float amount;\nuniform float phase;\nuniform sampler2D texIn;\n\nvoid main()\n{\n    //Generate a simple grid.\n    vec2 uv = vUvs;\n    //Calculate distance from center\n    float distance = length( uv - vec2(0.5));\n    vec4 color = texture2D(texIn, uv);\n    color.rgb *= sin(distance*25.0+phase) * amount+1.;\n    finalColor = color;\n}","src/noise.frag":"precision mediump float;\nvarying vec2 vUvs;\nuniform float limit;\nuniform sampler2D noise;\n\nvoid main()\n{\n    float color = texture2D(noise, vUvs).r;\n    color = step(limit, color);\n    gl_FragColor = vec4(color);\n}","src/wave.frag":"precision mediump float;\nvarying vec2 vUvs;\nuniform float amplitude;\nuniform float time;\n\nvoid main()\n{\n    //Offset uv so that center is 0,0 and edges are -1,1\n    vec2 uv = (vUvs-vec2(0.5))*2.0;\n\n    vec3 outColor = vec3(0.);\n\n    //Simple wavefunctions inversed and with small offsets.\n    outColor += 5./length(uv.y*200. - 50.0*sin( uv.x*0.25+ time*0.25)*amplitude);\n    outColor += 4./length(uv.y*300. - 100.0*sin(uv.x*0.5+time*0.5)*amplitude*1.2);\n    outColor += 3./length(uv.y*400. - 150.0*sin(uv.x*0.75+time*0.75)*amplitude*1.4);\n    outColor += 2./length(uv.y*500. - 200.0*sin(uv.x+time)*amplitude*1.6);\n\n    gl_FragColor = vec4(outColor,1.0);\n}","src/combine.frag":"precision mediump float;\nvarying vec2 vUvs;\n\nuniform sampler2D texRipple;\nuniform sampler2D texNoise;\nuniform sampler2D texWave;\n\nvoid main()\n{\n    //Read color from all\n    vec4 ripple = texture2D(texRipple, vUvs);\n    vec4 noise = texture2D(texNoise, vUvs);\n    vec4 wave = texture2D(texWave, vUvs);\n\n    gl_FragColor = mix(ripple, wave,noise.r);\n}"},shaderToyMesh:{index:"import { Application, Geometry, Mesh, Shader } from 'pixi.js';\nimport vertex from './shaderToy.vert';\nimport fragment from './shaderToy.frag';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        resizeTo: window,\n        preference: 'webgl',\n    });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const quadGeometry = new Geometry({\n        attributes: {\n            aPosition: [\n                -100,\n                -100, // x, y\n                100,\n                -100, // x, y\n                100,\n                100, // x, y,\n                -100,\n                100, // x, y,\n            ],\n            aUV: [0, 0, 1, 0, 1, 1, 0, 1],\n        },\n        indexBuffer: [0, 1, 2, 0, 2, 3],\n    });\n\n    const shader = Shader.from({\n        gl: {\n            vertex,\n            fragment,\n        },\n        resources: {\n            shaderToyUniforms: {\n                iResolution: { value: [640, 360, 1], type: 'vec3<f32>' },\n                iTime: { value: 0, type: 'f32' },\n            },\n        },\n    });\n\n    const quad = new Mesh({\n        geometry: quadGeometry,\n        shader,\n    });\n\n    quad.width = app.screen.width;\n    quad.height = app.screen.height;\n    quad.x = app.screen.width / 2;\n    quad.y = app.screen.height / 2;\n\n    app.stage.addChild(quad);\n\n    app.ticker.add(() =>\n    {\n        shader.resources.shaderToyUniforms.uniforms.iTime += app.ticker.elapsedMS / 1000;\n    });\n})();\n","src/shaderToy.vert":"// code copied from here https://www.shadertoy.com/view/XcS3zK Created by liamegan\n#version 300 es\nin vec2 aPosition;\n\nuniform mat3 uProjectionMatrix;\nuniform mat3 uWorldTransformMatrix;\n\nuniform mat3 uTransformMatrix;\n\nvoid main() {\n\n    mat3 mvp = uProjectionMatrix * uWorldTransformMatrix * uTransformMatrix;\n    gl_Position = vec4((mvp * vec3(aPosition, 1.0)).xy, 0.0, 1.0);\n}","src/shaderToy.frag":"// code copied from here https://www.shadertoy.com/view/XcS3zK Created by liamegan\n#version 300 es\n#define HW_PERFORMANCE 1\nuniform vec3      iResolution;\nuniform float     iTime;\nuniform float     iChannelTime[4];\nuniform vec4      iMouse;\nuniform vec4      iDate;\nuniform float     iSampleRate;\nuniform vec3      iChannelResolution[4];\nuniform int       iFrame;\nuniform float     iTimeDelta;\nuniform float     iFrameRate;\nuniform sampler2D iChannel0;\nuniform struct {\nsampler2D sampler;\nvec3  size;\nfloat time;\nint   loaded;\n}\niCh0;\nuniform sampler2D iChannel1;\nuniform struct {\nsampler2D sampler;\nvec3  size;\nfloat time;\nint   loaded;\n}\niCh1;\nuniform sampler2D iChannel2;\nuniform struct {\nsampler2D sampler;\nvec3  size;\nfloat time;\nint   loaded;\n}\niCh2;\nuniform sampler2D iChannel3;\nuniform struct {\nsampler2D sampler;\nvec3  size;\nfloat time;\nint   loaded;\n}\niCh3;\nvoid mainImage( out vec4 c, in vec2 f );\nvoid st_assert( bool cond );\nvoid st_assert( bool cond, int v );\nout vec4 shadertoy_out_color;\nvoid st_assert( bool cond, int v ) {\nif(!cond) {\nif(v == 0)shadertoy_out_color.x = -1.0;\nelse if(v == 1)shadertoy_out_color.y = -1.0;\nelse if(v == 2)shadertoy_out_color.z = -1.0;\nelse shadertoy_out_color.w = -1.0;\n}\n\n}\nvoid st_assert( bool cond        ) {\nif(!cond)shadertoy_out_color.x = -1.0;\n}\nvoid main( void ) {\nshadertoy_out_color = vec4(1.0, 1.0, 1.0, 1.0);\nvec4 color = vec4(1e20);\nmainImage( color, gl_FragCoord.xy );\nif(shadertoy_out_color.x<0.0) color = vec4(1.0, 0.0, 0.0, 1.0);\nif(shadertoy_out_color.y<0.0) color = vec4(0.0, 1.0, 0.0, 1.0);\nif(shadertoy_out_color.z<0.0) color = vec4(0.0, 0.0, 1.0, 1.0);\nif(shadertoy_out_color.w<0.0) color = vec4(1.0, 1.0, 0.0, 1.0);\nshadertoy_out_color = vec4(color.xyz, 1.0);\n}\n/* Shading constants */\n/* --------------------- */\nconst vec3 LP = vec3(-0.6, 0.7, -0.3);  // light position\n\nconst vec3 LC = vec3(.85, 0.80, 0.70);    // light colour\n\nconst vec3 HC1 = vec3(.5, .4, .3);      // hemisphere light colour 1\n\nconst vec3 HC2 = vec3(0.1, .1, .6)*.5;    // hemisphere light colour 2\n\nconst vec3 HLD = vec3(0, 1, 0);           // hemisphere light direction\n\nconst vec3 BC = vec3(0.25, 0.25, 0.25);   // back light colour\n\nconst vec3 FC = vec3(1.30, 1.20, 1.00);   // fresnel colour\n\nconst float AS = .5;                    // ambient light strength\n\nconst float DS = 1.;                    // diffuse light strength\n\nconst float BS = .3;                    // back light strength\n\nconst float FS = .3;                    // fresnel strength\n\n/* Raymarching constants */\n/* --------------------- */\nconst float MAX_TRACE_DISTANCE = 10.;             // max trace distance\n\nconst float INTERSECTION_PRECISION = 0.0001;       // precision of the intersection\n\nconst int NUM_OF_TRACE_STEPS = 64;               // max number of trace steps\n\nconst float STEP_MULTIPLIER = 1.;                 // the step mutliplier - ie, how much further to progress on each step\n\n\n/* Structures */\n/* ---------- */\nstruct Camera {\nvec3 ro;\nvec3 rd;\nvec3 forward;\nvec3 right;\nvec3 up;\nfloat FOV;\n};\nstruct Surface {\nfloat len;\nvec3 position;\nvec3 colour;\nfloat id;\nfloat steps;\nfloat AO;\n};\nstruct Model {\nfloat dist;\nvec3 colour;\nfloat id;\n};\n/* Utilities */\n/* ---------- */\nvec2 toScreenspace(in vec2 p) {\nvec2 uv = (p - 0.5 * iResolution.xy) / min(iResolution.y, iResolution.x);\nreturn uv;\n}\nmat2 R(float a) {\nfloat c = cos(a);\nfloat s = sin(a);\nreturn mat2(c, -s, s, c);\n}\nCamera getCamera(in vec2 uv, in vec3 pos, in vec3 target) {\nvec3 f = normalize(target - pos);\nvec3 r = normalize(vec3(f.z, 0., -f.x));\nvec3 u = normalize(cross(f, r));\nfloat FOV = 1.+cos(iTime*.1)*.8;\nreturn Camera(\npos, normalize(f + FOV * uv.x * r + FOV * uv.y * u), f, r, u, FOV\n);\n}\n//--------------------------------\n// Modelling\n//--------------------------------\nfloat G( vec3 p ) {\nreturn dot(sin(p.yzx), cos(p.zxy));\n}\nModel model(vec3 p) {\nfloat t = iTime*.1;\np.xz *= R(t);\np.xy *= R(.3);\np.xy -= .5;\nfloat d = abs(-(length(vec2(p.y, length(p.xz)-2.))-1.8+cos(t)*.3));\n\n// x variability\n\n//float gs = 3.+p.x;\n//float g = G(p.yxz*gs)/max(4., gs);\n// mixing on the y\n//float g = mix(g, abs(g)-.4, cos(p.y*2.));\n// regular\nfloat g = G(p.yxz*4.)/4.;\nd = length(vec2(d, g))-.3;\nvec3 colour = vec3(g);\nreturn Model(d, colour, 1.);\n}\nModel map( vec3 p ) {\nreturn model(p);\n}\n/* Modelling utilities */\n/* ---------- */\n// I *think* I borrowed this from Shane, but probably orginally comes from IQ. \n// Calculates the normal by taking a very small distance, // remapping the function, and getting normal for that\nvec3 calcNormal( in vec3 pos ) {\nvec3 eps = vec3( 0.001, 0.0, 0.0 );\nvec3 nor = vec3(\nmap(pos+eps.xyy).dist - map(pos-eps.xyy).dist, map(pos+eps.yxy).dist - map(pos-eps.yxy).dist, map(pos+eps.yyx).dist - map(pos-eps.yyx).dist );\nreturn normalize(nor);\n}\n//--------------------------------\n// Raymarcher\n//--------------------------------\nSurface march( in Camera cam ) {\nfloat h = 1e4; // local distance\n\nfloat d = 0.; // ray depth\n\nfloat id = -1.; // surace id\n\nfloat s = 0.; // number of steps\n\nfloat ao = 0.; // march space AO. Simple weighted accumulator. Not really AO, but \xaf\\_(\u30c4)_/\xaf\n\nvec3 p; // ray position\n\nvec3 c; // surface colour\n\n\nfor( int i = 0; i< NUM_OF_TRACE_STEPS ; i++ ) {\nif( abs(h) < INTERSECTION_PRECISION || d > MAX_TRACE_DISTANCE ) break;\np = cam.ro+cam.rd*d;\nModel m = map( p );\nh = m.dist;\nd += h * STEP_MULTIPLIER;\nid = m.id;\ns += 1.;\nao += max(h, 0.);\nc = m.colour;\n}\nif( d >= MAX_TRACE_DISTANCE ) id = -1.0;\nreturn Surface( d, p, c, id, s, ao );\n}\n//--------------------------------\n// Shading\n//--------------------------------\n/*\n* Soft shadows and AO curtesy of Inigo Quilez\n* https://iquilezles.org/articles/rmshadows\n*/\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax ) {\nfloat res = 1.0;\nfloat t = mint;\nfor( int i = 0; i<16; i++ ) {\nfloat h = map( ro + rd*t ).dist;\nres = min( res, 8.0*h/t );\nt += clamp( h, 0.02, 0.10 );\nif( h<0.001 || t>tmax ) break;\n}\nreturn clamp( res, 0.0, 1.0 );\n}\nfloat AO( in vec3 pos, in vec3 nor ) {\nfloat occ = 0.0;\nfloat sca = 1.0;\nfor( int i = 0; i<5; i++ ) {\nfloat hr = 0.01 + 0.12*float(i)/4.0;\nvec3 aopos = nor * hr + pos;\nfloat dd = map( aopos ).dist;\nocc += -(dd-hr)*sca;\nsca *= 0.95;\n}\nreturn clamp( 1.0 - 3.0*occ, 0.0, 1.0 );\n}\nvec3 shade(vec3 col, vec3 pos, vec3 nor, vec3 ref, Camera cam) {\nvec3 plp = LP - pos; // point light\n\n\nfloat o = AO( pos, nor );                 // Ambient occlusion\n\nvec3  l = normalize( plp );                    // light direction\n\n\nfloat d = clamp( dot( nor, l ), 0.0, 1.0 )*DS;   // diffuse component\n\nfloat b = clamp( dot( nor, normalize(vec3(-l.x, 0, -l.z))), 0.0, 1.0 )*clamp( 1.0-pos.y, 0.0, 1.0)*BS; // back light component\n\nfloat f = pow( clamp(1.0+dot(nor, cam.rd), 0.0, 1.0), 2.0 )*FS; // fresnel component\n\n\nvec3 c = vec3(0.0);\nc += d*LC;                           // diffuse light integration\n\nc += mix(HC1, HC2, dot(nor, HLD))*AS;        // hemisphere light integration (ambient)\n\nc += b*BC*o;       // back light integration\n\nc += f*FC*o;       // fresnel integration\n\n\nreturn col*c;\n}\nvec3 render(Surface surface, Camera cam, vec2 uv) {\nvec3 colour = vec3(.04, .045, .05);\ncolour = vec3(.35, .5, .75);\nvec3 colourB = vec3(.9, .85, .8);\ncolour = mix(colourB, colour, pow(length(uv), 2.)/1.5);\nif (surface.id > -1.) {\nvec3 surfaceNormal = calcNormal( surface.position );\nvec3 ref = reflect(cam.rd, surfaceNormal);\ncolour = surfaceNormal;\nvec3 pos = surface.position;\nfloat t = iTime;\nvec3 col = mix(\nmix(\nvec3(.8, .3, .6), vec3(.6, .3, .8), dot(surfaceNormal, surfaceNormal.zxy)\n), vec3(1), smoothstep(0., .1, cos(surface.colour.r*40.))\n);\ncolour = shade(col, pos, surfaceNormal, ref, cam);\n}\nreturn colour;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\nvec3 c = vec3(0);\nfor(int x = 0; x<2; x++) {\nfor(int y = 0; y<2; y++) {\nvec2 uv = toScreenspace(fragCoord+vec2(x, y)*.5);\nCamera cam = getCamera(uv, vec3(1.5, 0, 1.5), vec3(0));\nSurface surface = march(cam);\nc += render(surface, cam, uv);\n}\n\n}\nfragColor = vec4(c*.25, 1);\n}\n#define Kpre86x"},sharedShader:{index:"import { Application, Assets, Geometry, Mesh, Shader } from 'pixi.js';\nimport vertex from './sharedShader.vert';\nimport fragment from './sharedShader.frag';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        resizeTo: window,\n        preference: 'webgl',\n    });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const quadGeometry = new Geometry({\n        attributes: {\n            aPosition: [\n                -100,\n                -100, // x, y\n                100,\n                -100, // x, y\n                100,\n                100, // x, y,\n                -100,\n                100, // x, y,\n            ],\n            aUV: [0, 0, 1, 0, 1, 1, 0, 1],\n        },\n        indexBuffer: [0, 1, 2, 0, 2, 3],\n    });\n\n    const geometry = new Geometry({\n        attributes: {\n            aPosition: [\n                -100,\n                -100, // x, y\n                100,\n                -100, // x, y\n                100,\n                100, // x, y,\n            ],\n            aUV: [0, 0, 1, 0, 1, 1],\n        },\n    });\n\n    const shader = Shader.from({\n        gl: {\n            vertex,\n            fragment,\n        },\n        resources: {\n            uTexture: (await Assets.load('https://pixijs.com/assets/bg_rotate.jpg')).source,\n        },\n    });\n\n    const quad = new Mesh({\n        geometry: quadGeometry,\n        shader,\n    });\n\n    const triangle = new Mesh({\n        geometry,\n        shader,\n    });\n\n    quad.position.set(400, 300);\n    triangle.position.set(400, 300);\n    triangle.scale.set(2);\n\n    app.stage.addChild(quad, triangle);\n\n    app.ticker.add(() =>\n    {\n        triangle.rotation += 0.01;\n        quad.rotation -= 0.01;\n    });\n})();\n","src/sharedShader.vert":"in vec2 aPosition;\nin vec2 aUV;\n\nout vec2 vUV;\n\nuniform mat3 uProjectionMatrix;\nuniform mat3 uWorldTransformMatrix;\n\nuniform mat3 uTransformMatrix;\n\n\nvoid main() {\n\n    mat3 mvp = uProjectionMatrix * uWorldTransformMatrix * uTransformMatrix;\n    gl_Position = vec4((mvp * vec3(aPosition, 1.0)).xy, 0.0, 1.0);\n\n    vUV = aUV;\n}","src/sharedShader.frag":"in vec2 vUV;\n\nuniform sampler2D uTexture;\n\nvoid main() {\n    gl_FragColor = texture2D(uTexture, vUV).bgra;\n}"},sharedGeometry:{index:"import { Application, Assets, Geometry, GlProgram, Mesh, Shader } from 'pixi.js';\nimport vertex from './sharedGeometry.vert';\nimport fragment from './sharedGeometry.frag';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        resizeTo: window,\n        preference: 'webgl',\n    });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const geometry = new Geometry({\n        attributes: {\n            aPosition: [\n                -100,\n                -100, // x, y\n                100,\n                -100, // x, y\n                100,\n                100, // x, y,\n            ],\n            aUV: [0, 0, 1, 0, 1, 1],\n        },\n    });\n\n    const glProgram = GlProgram.from({\n        vertex,\n        fragment,\n    });\n\n    const triangle = new Mesh({\n        geometry,\n        shader: new Shader({\n            glProgram,\n            resources: {\n                uTexture: (await Assets.load('https://pixijs.com/assets/bg_scene_rotate.jpg')).source,\n            },\n        }),\n    });\n\n    const triangle2 = new Mesh({\n        geometry,\n        shader: new Shader({\n            glProgram,\n            resources: {\n                uTexture: (await Assets.load('https://pixijs.com/assets/bg_rotate.jpg')).source,\n            },\n        }),\n    });\n\n    const triangle3 = new Mesh({\n        geometry,\n        shader: new Shader({\n            glProgram,\n            resources: {\n                uTexture: (await Assets.load('https://pixijs.com/assets/bg_displacement.jpg')).source,\n            },\n        }),\n    });\n\n    triangle.position.set(400, 300);\n    triangle.scale.set(2);\n\n    triangle2.position.set(200, 100);\n\n    triangle3.position.set(500, 400);\n    triangle3.scale.set(3);\n\n    app.stage.addChild(triangle3, triangle2, triangle);\n\n    app.ticker.add(() =>\n    {\n        triangle.rotation += 0.01;\n        triangle2.rotation -= 0.01;\n        triangle3.rotation -= 0.005;\n    });\n})();\n","src/sharedGeometry.vert":"in vec2 aPosition;\nin vec2 aUV;\n\nout vec2 vUV;\n\nuniform mat3 uProjectionMatrix;\nuniform mat3 uWorldTransformMatrix;\n\nuniform mat3 uTransformMatrix;\n\n\nvoid main() {\n\n    mat3 mvp = uProjectionMatrix * uWorldTransformMatrix * uTransformMatrix;\n    gl_Position = vec4((mvp * vec3(aPosition, 1.0)).xy, 0.0, 1.0);\n\n    vUV = aUV;\n}","src/sharedGeometry.frag":"in vec2 vUV;\n\nuniform sampler2D uTexture;\n\nvoid main() {\n    gl_FragColor = texture2D(uTexture, vUV);\n}"},texturedMeshAdvanced:"import { Application, Assets, Point, MeshRope, Graphics } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the snake texture\n    const texture = await Assets.load('https://pixijs.com/assets/snake.png');\n\n    let count = 0;\n\n    // Build a rope from points!\n    const ropeLength = 45;\n\n    const points = [];\n\n    for (let i = 0; i < 25; i++)\n    {\n        points.push(new Point(i * ropeLength, 0));\n    }\n\n    // Create the snake MeshRope\n    const strip = new MeshRope({ texture, points });\n\n    strip.x = -40;\n    strip.y = 300;\n\n    app.stage.addChild(strip);\n\n    const g = new Graphics();\n\n    g.x = strip.x;\n    g.y = strip.y;\n    app.stage.addChild(g);\n\n    // Start animating\n    app.ticker.add(() =>\n    {\n        count += 0.1;\n\n        // Make the snake\n        for (let i = 0; i < points.length; i++)\n        {\n            points[i].y = Math.sin(i * 0.5 + count) * 30;\n            points[i].x = i * ropeLength + Math.cos(i * 0.3 + count) * 20;\n        }\n        renderPoints();\n    });\n\n    function renderPoints()\n    {\n        g.clear();\n        g.moveTo(points[0].x, points[0].y);\n\n        for (let i = 1; i < points.length; i++)\n        {\n            g.lineTo(points[i].x, points[i].y);\n            g.stroke({ width: 2, color: 0xffc2c2 });\n        }\n\n        for (let i = 1; i < points.length; i++)\n        {\n            g.drawCircle(points[i].x, points[i].y, 10);\n            g.fill({ color: 0xff0022 });\n            g.stroke({ width: 2, color: 0xffc2c2 });\n        }\n    }\n})();\n",texturedMeshBasic:"import { Application, Assets, Point, Container, MeshRope } from 'pixi.js';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({ resizeTo: window });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    // Load the snake texture\n    const texture = await Assets.load('https://pixijs.com/assets/snake.png');\n\n    let count = 0;\n\n    // Build a rope from points!\n    const ropeLength = 918 / 20;\n    const points = [];\n\n    for (let i = 0; i < 20; i++)\n    {\n        points.push(new Point(i * ropeLength, 0));\n    }\n\n    // Create the snake MeshRope\n    const strip = new MeshRope({ texture, points });\n\n    strip.x = -459;\n\n    const snakeContainer = new Container();\n\n    snakeContainer.x = 400;\n    snakeContainer.y = 300;\n\n    snakeContainer.scale.set(800 / 1100);\n    app.stage.addChild(snakeContainer);\n\n    snakeContainer.addChild(strip);\n\n    // Animate the rope points\n    app.ticker.add(() =>\n    {\n        count += 0.1;\n\n        // make the snake\n        for (let i = 0; i < points.length; i++)\n        {\n            points[i].y = Math.sin(i * 0.5 + count) * 30;\n            points[i].x = i * ropeLength + Math.cos(i * 0.3 + count) * 20;\n        }\n    });\n})();\n",triangleColor:{index:"import { Application, Geometry, Mesh, Shader } from 'pixi.js';\nimport vertex from './triangleColor.vert';\nimport fragment from './triangleColor.frag';\nimport source from './triangleColor.wgsl';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        resizeTo: window,\n        preference: 'webgpu',\n    });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const geometry = new Geometry({\n        attributes: {\n            aPosition: [-100, -50, 100, -50, 0, 100],\n            aColor: [1, 0, 0, 0, 1, 0, 0, 0, 1],\n        },\n    });\n\n    const gl = { vertex, fragment };\n\n    const gpu = {\n        vertex: {\n            entryPoint: 'mainVert',\n            source,\n        },\n        fragment: {\n            entryPoint: 'mainFrag',\n            source,\n        },\n    };\n\n    const shader = Shader.from({\n        gl,\n        gpu,\n    });\n\n    const triangle = new Mesh({\n        geometry,\n        shader,\n    });\n\n    triangle.position.set(400, 300);\n\n    app.stage.addChild(triangle);\n\n    app.ticker.add(() =>\n    {\n        triangle.rotation += 0.01;\n    });\n})();\n","src/triangleColor.vert":"in vec2 aPosition;\nin vec3 aColor;\n\nout vec3 vColor;\nuniform mat3 uProjectionMatrix;\nuniform mat3 uWorldTransformMatrix;\n\nuniform mat3 uTransformMatrix;\n\n\nvoid main() {\n\n    mat3 mvp = uProjectionMatrix * uWorldTransformMatrix * uTransformMatrix;\n    gl_Position = vec4((mvp * vec3(aPosition, 1.0)).xy, 0.0, 1.0);\n\n    vColor = aColor;\n}","src/triangleColor.frag":"in vec3 vColor;\n\nvoid main() {\n    gl_FragColor = vec4(vColor, 1.0);\n}","src/triangleColor.wgsl":"struct GlobalUniforms {\n    projectionMatrix:mat3x3<f32>,\n    worldTransformMatrix:mat3x3<f32>,\n    worldColorAlpha: vec4<f32>,\n    uResolution: vec2<f32>,\n}\n\nstruct LocalUniforms {\n    uTransformMatrix:mat3x3<f32>,\n    uColor:vec4<f32>,\n    uRound:f32,\n}\n\n@group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n@group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n\nstruct VertexOutput {\n    @builtin(position) position : vec4<f32>,\n    @location(0) vColor : vec3<f32>,\n}\n\n@vertex\nfn mainVert(\n    @location(0) aPosition : vec2<f32>,\n    @location(1) aColor : vec3<f32>,\n) -> VertexOutput {     \n    var mvp = globalUniforms.projectionMatrix \n        * globalUniforms.worldTransformMatrix \n        * localUniforms.uTransformMatrix;\n\n    return VertexOutput(\n        vec4<f32>(mvp * vec3<f32>(aPosition, 1.0), 1.0),\n        aColor,\n    );\n};\n\n@fragment\nfn mainFrag(input: VertexOutput) -> @location(0) vec4<f32>{\n    return vec4<f32>(input.vColor, 1.0);\n}"},triangleTextured:{index:"import { Application, Assets, Geometry, Mesh, Shader } from 'pixi.js';\nimport vertex from './triangleTextured.vert';\nimport fragment from './triangleTextured.frag';\n\n(async () =>\n{\n    const texture = await Assets.load('https://pixijs.com/assets/bg_scene_rotate.jpg');\n\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        resizeTo: window,\n        preference: 'webgl',\n    });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const geometry = new Geometry({\n        attributes: {\n            aPosition: [\n                -100,\n                -100, // x, y\n                100,\n                -100, // x, y\n                100,\n                100,\n            ], // x, y,,\n            aColor: [1, 0, 0, 0, 1, 0, 0, 0, 1],\n            aUV: [0, 0, 1, 0, 1, 1],\n        },\n    });\n\n    const shader = Shader.from({\n        gl: {\n            vertex,\n            fragment,\n        },\n        resources: {\n            uTexture: texture.source,\n        },\n    });\n\n    const triangle = new Mesh({\n        geometry,\n        shader,\n    });\n\n    triangle.position.set(400, 300);\n\n    app.stage.addChild(triangle);\n\n    app.ticker.add(() =>\n    {\n        triangle.rotation += 0.01;\n    });\n})();\n","src/triangleTextured.vert":"in vec2 aPosition;\nin vec3 aColor;\nin vec2 aUV;\n\nout vec3 vColor;\nout vec2 vUV;\n\nuniform mat3 uProjectionMatrix;\nuniform mat3 uWorldTransformMatrix;\n\nuniform mat3 uTransformMatrix;\n\n\nvoid main() {\n\n    mat3 mvp = uProjectionMatrix * uWorldTransformMatrix * uTransformMatrix;\n    gl_Position = vec4((mvp * vec3(aPosition, 1.0)).xy, 0.0, 1.0);\n\n    vColor = aColor;\n    vUV = aUV;\n}","src/triangleTextured.frag":"in vec3 vColor;\nin vec2 vUV;\n\nuniform sampler2D uTexture;\n\nvoid main() {\n    gl_FragColor = texture2D(uTexture, vUV) * vec4(vColor, 1.0);\n}"},triangle:{index:"import { Application, Geometry, Mesh, Shader } from 'pixi.js';\nimport vertex from './triangle.vert';\nimport fragment from './triangle.frag';\nimport source from './triangle.wgsl';\n\n(async () =>\n{\n    // Create a new application\n    const app = new Application();\n\n    // Initialize the application\n    await app.init({\n        resizeTo: window,\n        preference: 'webgl',\n    });\n\n    // Append the application canvas to the document body\n    document.body.appendChild(app.canvas);\n\n    const geometry = new Geometry({\n        attributes: {\n            aPosition: [-100, -50, 100, -50, 0, 100],\n        },\n    });\n\n    // Webgl vertex and fragment shader source\n    const gl = { vertex, fragment };\n\n    // WebGPU vertex and fragment shader source\n    // Here vertex and fragment shader sources are inferred from the same WGSL source\n    const gpu = {\n        vertex: {\n            entryPoint: 'main',\n            source,\n        },\n        fragment: {\n            entryPoint: 'main',\n            source,\n        },\n    };\n\n    const shader = Shader.from({\n        gl,\n        gpu,\n    });\n\n    const triangle = new Mesh({\n        geometry,\n        shader,\n    });\n\n    triangle.position.set(400, 300);\n\n    app.stage.addChild(triangle);\n\n    app.ticker.add(() =>\n    {\n        triangle.rotation += 0.01;\n    });\n})();\n","src/triangle.vert":"in vec2 aPosition;\n\nuniform mat3 uProjectionMatrix;\nuniform mat3 uWorldTransformMatrix;\n\nuniform mat3 uTransformMatrix;\n\n\nvoid main() {\n\n    mat3 mvp = uProjectionMatrix * uWorldTransformMatrix * uTransformMatrix;\n    gl_Position = vec4((mvp * vec3(aPosition, 1.0)).xy, 0.0, 1.0);\n}","src/triangle.frag":"void main() {\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n}","src/triangle.wgsl":"struct GlobalUniforms {\n    projectionMatrix:mat3x3<f32>,\n    worldTransformMatrix:mat3x3<f32>,\n    worldColorAlpha: vec4<f32>,\n    uResolution: vec2<f32>,\n}\n\nstruct LocalUniforms {\n    uTransformMatrix:mat3x3<f32>,\n    uColor:vec4<f32>,\n    uRound:f32,\n}\n\n@group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n@group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n\n@vertex\nfn main(\n    @location(0) aPosition : vec2<f32>,\n) -> @builtin(position) vec4<f32> {     \n    var mvp = globalUniforms.projectionMatrix \n        * globalUniforms.worldTransformMatrix \n        * localUniforms.uTransformMatrix;\n    return vec4<f32>(mvp * vec3<f32>(aPosition, 1.0), 1.0);\n};\n\n@fragment\nfn main() -> @location(0) vec4<f32> {\n    return vec4<f32>(1.0, 0.0, 0.0, 1.0);\n}"}}},p=e=>{const t={hide:!1,usesWebWorkerLibrary:!1};return"string"==typeof e?{...t,name:e}:{...t,...e}},d=Object.entries(c).reduce(((e,t)=>{let[n,i]=t;return{...e,[n]:i.reduce(((e,t)=>{const i=p(t),{name:r,hide:o,usesWebWorkerLibrary:s}=i;return{...e,[r]:{source:h[n][r],hide:o,usesWebWorkerLibrary:s}}}),{})}}),{}),u=Object.entries(c).map((e=>{let[t,n]=e;const i=n.reduce(((e,n)=>{const{name:i,hide:r}=p(n);return r?e:e.concat({value:`${t}.${i}`,label:o(i)})}),[]);return{label:o(t),options:i}})),f={"v7.0.0":l,"v8.0.0":{entries:d,options:u}};function m(e){const t=(0,i.prerelease)(e)?`${(0,i.major)(e)}.${(0,i.minor)(e)}.${(0,i.patch)(e)}`:e,n=Object.keys(f).filter((e=>(0,i.valid)(e)&&(0,i.lte)(e,t))).sort(((e,t)=>(0,i.rcompare)(e,t)))[0];return f[n]}function g(e,t){var n;const i=m(e),[r,o]=t.split(".");return null==i||null==(n=i.entries[r])?void 0:n[o]}function O(e){const t=m(e);return null==t?void 0:t.options}},94184:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&e.push(s)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)i.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},17770:(e,t)=>{"use strict";var n="sandbox.config.json";t.t4=function(e,t){var i=t[n]||t["/"+n];if(i)try{var r=JSON.parse(i.content);if(r.template)return r.template}catch(f){}var o=e.dependencies,s=void 0===o?{}:o,a=e.devDependencies,l=void 0===a?{}:a,c=Object.keys(s).concat(Object.keys(l)),h=["nuxt","nuxt-edge"];if(c.some((function(e){return h.indexOf(e)>-1})))return"nuxt";if(c.indexOf("next")>-1)return"next";var p=["apollo-server","apollo-server-express","apollo-server-hapi","apollo-server-koa","apollo-server-lambda","apollo-server-micro"];if(c.some((function(e){return p.indexOf(e)>-1})))return"apollo";if(c.indexOf("ember-cli")>-1)return"ember";if(c.indexOf("sapper")>-1)return"sapper";var d=Object.keys(t);if(d.some((function(e){return e.endsWith(".vue")})))return"vue-cli";if(d.some((function(e){return e.endsWith(".re")})))return"reason";if(c.indexOf("gatsby")>-1)return"gatsby";if(c.indexOf("parcel-bundler")>-1)return"parcel";if(c.indexOf("react-scripts")>-1)return"create-react-app";if(c.indexOf("react-scripts-ts")>-1)return"create-react-app-typescript";if(c.indexOf("@angular/core")>-1)return"angular-cli";if(c.indexOf("preact-cli")>-1)return"preact-cli";if(c.indexOf("svelte")>-1)return"svelte";if(c.indexOf("vue")>-1)return"vue-cli";var u=["@dojo/core","@dojo/framework"];return c.some((function(e){return u.indexOf(e)>-1}))?"@dojo/cli-create-app":c.indexOf("cx")>-1?"cxjs":c.indexOf("@nestjs/core")>-1||c.indexOf("@nestjs/common")>-1?"nest":void 0}},66337:()=>{!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document,t=[],n=null,i=null;o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o._setupCrossOriginUpdater=function(){return n||(n=function(e,n){i=e&&n?h(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},o._resetCrossOriginUpdater=function(){n=null,i=null},o.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},o.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},o.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},o.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},o.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var i=this._checkForIntersections,r=null,o=null;if(this.POLL_INTERVAL?r=n.setInterval(i,this.POLL_INTERVAL):(s(n,"resize",i,!0),s(t,"scroll",i,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(o=new n.MutationObserver(i)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(r&&e.clearInterval(r),a(e,"resize",i,!0)),a(t,"scroll",i,!0),o&&o.disconnect()})),t!=(this.root&&this.root.ownerDocument||e)){var l=u(t);l&&this._monitorIntersections(l.ownerDocument)}}},o.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var i=this.root&&this.root.ownerDocument||e,r=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=i;){var r=u(n);if((n=r&&r.ownerDocument)==t)return!0}return!1}));if(!r){var o=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),o(),t!=i){var s=u(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},o.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},o.prototype._checkForIntersections=function(){if(this.root||!n||i){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var o=i.element,s=l(o),a=this._rootContainsTarget(o),c=i.entry,h=e&&a&&this._computeTargetAndRootIntersection(o,s,t),p=i.entry=new r({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:s,rootBounds:n&&!this.root?null:t,intersectionRect:h});c?e&&a?this._hasCrossedThreshold(c,p)&&this._queuedEntries.push(p):c&&c.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},o.prototype._computeTargetAndRootIntersection=function(t,r,o){if("none"!=window.getComputedStyle(t).display){for(var s,a,c,p,u,f,m,g,O=r,x=d(t),b=!1;!b&&x;){var v=null,y=1==x.nodeType?window.getComputedStyle(x):{};if("none"==y.display)return null;if(x==this.root||9==x.nodeType)if(b=!0,x==this.root||x==e)n&&!this.root?!i||0==i.width&&0==i.height?(x=null,v=null,O=null):v=i:v=o;else{var w=d(x),S=w&&l(w),k=w&&this._computeTargetAndRootIntersection(w,S,o);S&&k?(x=w,v=h(S,k)):(x=null,O=null)}else{var T=x.ownerDocument;x!=T.body&&x!=T.documentElement&&"visible"!=y.overflow&&(v=l(x))}if(v&&(s=v,a=O,c=void 0,p=void 0,u=void 0,f=void 0,m=void 0,g=void 0,c=Math.max(s.top,a.top),p=Math.min(s.bottom,a.bottom),u=Math.max(s.left,a.left),f=Math.min(s.right,a.right),g=p-c,O=(m=f-u)>=0&&g>=0&&{top:c,bottom:p,left:u,right:f,width:m,height:g}||null),!O)break;x=x&&d(x)}return O}},o.prototype._getRootRect=function(){var t;if(this.root)t=l(this.root);else{var n=e.documentElement,i=e.body;t={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},o.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,i=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==n||o==i||o<n!=o<i)return!0}},o.prototype._rootIsInDom=function(){return!this.root||p(e,this.root)},o.prototype._rootContainsTarget=function(t){return p(this.root||e,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},o.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},o.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=o,window.IntersectionObserverEntry=r}function r(e){this.time=e.time,this.target=e.target,this.rootBounds=c(e.rootBounds),this.boundingClientRect=c(e.boundingClientRect),this.intersectionRect=c(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function o(e,t){var n,i,r,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),i))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,i){"function"==typeof e.addEventListener?e.addEventListener(t,n,i||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function a(e,t,n,i){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,i||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function l(e){var t;try{t=e.getBoundingClientRect()}catch(n){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function h(e,t){var n=t.top-e.top,i=t.left-e.left;return{top:n,left:i,height:t.height,width:t.width,bottom:n+t.height,right:i+t.width}}function p(e,t){for(var n=t;n;){if(n==e)return!0;n=d(n)}return!1}function d(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?u(t):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}function u(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(t){return null}}}()},72307:(e,t,n)=>{e=n.nmd(e);var i="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",h="[object Function]",p="[object Map]",d="[object Number]",u="[object Object]",f="[object Promise]",m="[object RegExp]",g="[object Set]",O="[object String]",x="[object Symbol]",b="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",w=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[o]=k[s]=k[v]=k[a]=k[y]=k[l]=k[c]=k[h]=k[p]=k[d]=k[u]=k[m]=k[g]=k[O]=k[b]=!1;var T="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Q="object"==typeof self&&self&&self.Object===Object&&self,P=T||Q||Function("return this")(),C=t&&!t.nodeType&&t,$=C&&e&&!e.nodeType&&e,I=$&&$.exports===C,R=I&&T.process,A=function(){try{return R&&R.binding&&R.binding("util")}catch(e){}}(),M=A&&A.isTypedArray;function j(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function E(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function X(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var z,W,_,L=Array.prototype,D=Function.prototype,B=Object.prototype,U=P["__core-js_shared__"],Z=D.toString,N=B.hasOwnProperty,F=(z=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",G=B.toString,q=RegExp("^"+Z.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=I?P.Buffer:void 0,Y=P.Symbol,H=P.Uint8Array,J=B.propertyIsEnumerable,K=L.splice,ee=Y?Y.toStringTag:void 0,te=Object.getOwnPropertySymbols,ne=V?V.isBuffer:void 0,ie=(W=Object.keys,_=Object,function(e){return W(_(e))}),re=Ae(P,"DataView"),oe=Ae(P,"Map"),se=Ae(P,"Promise"),ae=Ae(P,"Set"),le=Ae(P,"WeakMap"),ce=Ae(Object,"create"),he=Xe(re),pe=Xe(oe),de=Xe(se),ue=Xe(ae),fe=Xe(le),me=Y?Y.prototype:void 0,ge=me?me.valueOf:void 0;function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new be;++t<n;)this.add(e[t])}function ye(e){var t=this.__data__=new xe(e);this.size=t.size}function we(e,t){var n=_e(e),i=!n&&We(e),r=!n&&!i&&Le(e),o=!n&&!i&&!r&&Ne(e),s=n||i||r||o,a=s?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)!t&&!N.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ee(c,l))||a.push(c);return a}function Se(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function ke(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=N.call(e,ee),n=e[ee];try{e[ee]=void 0;var i=!0}catch(o){}var r=G.call(e);i&&(t?e[ee]=n:delete e[ee]);return r}(e):function(e){return G.call(e)}(e)}function Te(e){return Ze(e)&&ke(e)==o}function Qe(e,t,n,i,r){return e===t||(null==e||null==t||!Ze(e)&&!Ze(t)?e!=e&&t!=t:function(e,t,n,i,r,h){var f=_e(e),b=_e(t),w=f?s:je(e),S=b?s:je(t),k=(w=w==o?u:w)==u,T=(S=S==o?u:S)==u,Q=w==S;if(Q&&Le(e)){if(!Le(t))return!1;f=!0,k=!1}if(Q&&!k)return h||(h=new ye),f||Ne(e)?$e(e,t,n,i,r,h):function(e,t,n,i,r,o,s){switch(n){case y:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case v:return!(e.byteLength!=t.byteLength||!o(new H(e),new H(t)));case a:case l:case d:return ze(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case O:return e==t+"";case p:var h=E;case g:var u=1&i;if(h||(h=X),e.size!=t.size&&!u)return!1;var f=s.get(e);if(f)return f==t;i|=2,s.set(e,t);var b=$e(h(e),h(t),i,r,o,s);return s.delete(e),b;case x:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,w,n,i,r,h);if(!(1&n)){var P=k&&N.call(e,"__wrapped__"),C=T&&N.call(t,"__wrapped__");if(P||C){var $=P?e.value():e,I=C?t.value():t;return h||(h=new ye),r($,I,n,i,h)}}if(!Q)return!1;return h||(h=new ye),function(e,t,n,i,r,o){var s=1&n,a=Ie(e),l=a.length,c=Ie(t),h=c.length;if(l!=h&&!s)return!1;var p=l;for(;p--;){var d=a[p];if(!(s?d in t:N.call(t,d)))return!1}var u=o.get(e);if(u&&o.get(t))return u==t;var f=!0;o.set(e,t),o.set(t,e);var m=s;for(;++p<l;){var g=e[d=a[p]],O=t[d];if(i)var x=s?i(O,g,d,t,e,o):i(g,O,d,e,t,o);if(!(void 0===x?g===O||r(g,O,n,i,o):x)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){var b=e.constructor,v=t.constructor;b==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,i,r,h)}(e,t,n,i,Qe,r))}function Pe(e){return!(!Ue(e)||function(e){return!!F&&F in e}(e))&&(De(e)?q:w).test(Xe(e))}function Ce(e){if(n=(t=e)&&t.constructor,i="function"==typeof n&&n.prototype||B,t!==i)return ie(e);var t,n,i,r=[];for(var o in Object(e))N.call(e,o)&&"constructor"!=o&&r.push(o);return r}function $e(e,t,n,i,r,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var h=-1,p=!0,d=2&n?new ve:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var u=e[h],f=t[h];if(i)var m=s?i(f,u,h,t,e,o):i(u,f,h,e,t,o);if(void 0!==m){if(m)continue;p=!1;break}if(d){if(!j(t,(function(e,t){if(s=t,!d.has(s)&&(u===e||r(u,e,n,i,o)))return d.push(t);var s}))){p=!1;break}}else if(u!==f&&!r(u,f,n,i,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function Ie(e){return function(e,t,n){var i=t(e);return _e(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Fe,Me)}function Re(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Ae(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Pe(n)?n:void 0}Oe.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},Oe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Oe.prototype.get=function(e){var t=this.__data__;if(ce){var n=t[e];return n===i?void 0:n}return N.call(t,e)?t[e]:void 0},Oe.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:N.call(t,e)},Oe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?i:t,this},xe.prototype.clear=function(){this.__data__=[],this.size=0},xe.prototype.delete=function(e){var t=this.__data__,n=Se(t,e);return!(n<0)&&(n==t.length-1?t.pop():K.call(t,n,1),--this.size,!0)},xe.prototype.get=function(e){var t=this.__data__,n=Se(t,e);return n<0?void 0:t[n][1]},xe.prototype.has=function(e){return Se(this.__data__,e)>-1},xe.prototype.set=function(e,t){var n=this.__data__,i=Se(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},be.prototype.clear=function(){this.size=0,this.__data__={hash:new Oe,map:new(oe||xe),string:new Oe}},be.prototype.delete=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t},be.prototype.get=function(e){return Re(this,e).get(e)},be.prototype.has=function(e){return Re(this,e).has(e)},be.prototype.set=function(e,t){var n=Re(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},ve.prototype.add=ve.prototype.push=function(e){return this.__data__.set(e,i),this},ve.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.clear=function(){this.__data__=new xe,this.size=0},ye.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ye.prototype.get=function(e){return this.__data__.get(e)},ye.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.set=function(e,t){var n=this.__data__;if(n instanceof xe){var i=n.__data__;if(!oe||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new be(i)}return n.set(e,t),this.size=n.size,this};var Me=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}(te(e),(function(t){return J.call(e,t)})))}:function(){return[]},je=ke;function Ee(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function Xe(e){if(null!=e){try{return Z.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ze(e,t){return e===t||e!=e&&t!=t}(re&&je(new re(new ArrayBuffer(1)))!=y||oe&&je(new oe)!=p||se&&je(se.resolve())!=f||ae&&je(new ae)!=g||le&&je(new le)!=b)&&(je=function(e){var t=ke(e),n=t==u?e.constructor:void 0,i=n?Xe(n):"";if(i)switch(i){case he:return y;case pe:return p;case de:return f;case ue:return g;case fe:return b}return t});var We=Te(function(){return arguments}())?Te:function(e){return Ze(e)&&N.call(e,"callee")&&!J.call(e,"callee")},_e=Array.isArray;var Le=ne||function(){return!1};function De(e){if(!Ue(e))return!1;var t=ke(e);return t==h||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ze(e){return null!=e&&"object"==typeof e}var Ne=M?function(e){return function(t){return e(t)}}(M):function(e){return Ze(e)&&Be(e.length)&&!!k[ke(e)]};function Fe(e){return null!=(t=e)&&Be(t.length)&&!De(t)?we(e):Ce(e);var t}e.exports=function(e,t){return Qe(e,t)}},39593:(e,t,n)=>{"use strict";const i=n(34411),r=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),h=Symbol("noDisposeOnSet"),p=Symbol("lruList"),d=Symbol("cache"),u=Symbol("updateAgeOnGet"),f=()=>1;const m=(e,t,n)=>{const i=e[d].get(t);if(i){const t=i.value;if(g(e,t)){if(x(e,i),!e[a])return}else n&&(e[u]&&(i.value.now=Date.now()),e[p].unshiftNode(i));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},O=e=>{if(e[o]>e[r])for(let t=e[p].tail;e[o]>e[r]&&null!==t;){const n=t.prev;x(e,t),t=n}},x=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[o]-=n.length,e[d].delete(n.key),e[p].removeNode(t)}};class b{constructor(e,t,n,i,r){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=r||0}}const v=(e,t,n,i)=>{let r=n.value;g(e,r)&&(x(e,n),e[a]||(r=void 0)),r&&t.call(i,r.value,r.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[r]=e.max||1/0;const t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[h]=e.noDisposeOnSet||!1,this[u]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[r]=e||1/0,O(this)}get max(){return this[r]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,O(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[o]=0,this[p].forEach((e=>{e.length=this[s](e.value,e.key),this[o]+=e.length}))),O(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[p].length}rforEach(e,t){t=t||this;for(let n=this[p].tail;null!==n;){const i=n.prev;v(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[p].head;null!==n;){const i=n.next;v(this,e,n,t),n=i}}keys(){return this[p].toArray().map((e=>e.key))}values(){return this[p].toArray().map((e=>e.value))}reset(){this[c]&&this[p]&&this[p].length&&this[p].forEach((e=>this[c](e.key,e.value))),this[d]=new Map,this[p]=new i,this[o]=0}dump(){return this[p].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[p]}set(e,t,n){if((n=n||this[l])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const i=n?Date.now():0,a=this[s](t,e);if(this[d].has(e)){if(a>this[r])return x(this,this[d].get(e)),!1;const s=this[d].get(e).value;return this[c]&&(this[h]||this[c](e,s.value)),s.now=i,s.maxAge=n,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),O(this),!0}const u=new b(e,t,a,i,n);return u.length>this[r]?(this[c]&&this[c](e,t),!1):(this[o]+=u.length,this[p].unshift(u),this[d].set(e,this[p].head),O(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!g(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[p].tail;return e?(x(this,e),e.value):null}del(e){x(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],r=i.e||0;if(0===r)this.set(i.k,i.v);else{const e=r-t;e>0&&this.set(i.k,i.v,e)}}}prune(){this[d].forEach(((e,t)=>m(this,t,!1)))}}},26961:(e,t,n)=>{var i,r=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function r(e,t){if(!i[e]){i[e]={};for(var n=0;n<e.length;n++)i[e][e.charAt(n)]=n}return i[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return r(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),i=0,r=t.length;i<r;i++){var s=t.charCodeAt(i);n[2*i]=s>>>8,n[2*i+1]=s%256}return n},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var n=new Array(t.length/2),i=0,r=n.length;i<r;i++)n[i]=256*t[2*i]+t[2*i+1];var s=[];return n.forEach((function(t){s.push(e(t))})),o.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return r(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var i,r,o,s={},a={},l="",c="",h="",p=2,d=3,u=2,f=[],m=0,g=0;for(o=0;o<e.length;o+=1)if(l=e.charAt(o),Object.prototype.hasOwnProperty.call(s,l)||(s[l]=d++,a[l]=!0),c=h+l,Object.prototype.hasOwnProperty.call(s,c))h=c;else{if(Object.prototype.hasOwnProperty.call(a,h)){if(h.charCodeAt(0)<256){for(i=0;i<u;i++)m<<=1,g==t-1?(g=0,f.push(n(m)),m=0):g++;for(r=h.charCodeAt(0),i=0;i<8;i++)m=m<<1|1&r,g==t-1?(g=0,f.push(n(m)),m=0):g++,r>>=1}else{for(r=1,i=0;i<u;i++)m=m<<1|r,g==t-1?(g=0,f.push(n(m)),m=0):g++,r=0;for(r=h.charCodeAt(0),i=0;i<16;i++)m=m<<1|1&r,g==t-1?(g=0,f.push(n(m)),m=0):g++,r>>=1}0==--p&&(p=Math.pow(2,u),u++),delete a[h]}else for(r=s[h],i=0;i<u;i++)m=m<<1|1&r,g==t-1?(g=0,f.push(n(m)),m=0):g++,r>>=1;0==--p&&(p=Math.pow(2,u),u++),s[c]=d++,h=String(l)}if(""!==h){if(Object.prototype.hasOwnProperty.call(a,h)){if(h.charCodeAt(0)<256){for(i=0;i<u;i++)m<<=1,g==t-1?(g=0,f.push(n(m)),m=0):g++;for(r=h.charCodeAt(0),i=0;i<8;i++)m=m<<1|1&r,g==t-1?(g=0,f.push(n(m)),m=0):g++,r>>=1}else{for(r=1,i=0;i<u;i++)m=m<<1|r,g==t-1?(g=0,f.push(n(m)),m=0):g++,r=0;for(r=h.charCodeAt(0),i=0;i<16;i++)m=m<<1|1&r,g==t-1?(g=0,f.push(n(m)),m=0):g++,r>>=1}0==--p&&(p=Math.pow(2,u),u++),delete a[h]}else for(r=s[h],i=0;i<u;i++)m=m<<1|1&r,g==t-1?(g=0,f.push(n(m)),m=0):g++,r>>=1;0==--p&&(p=Math.pow(2,u),u++)}for(r=2,i=0;i<u;i++)m=m<<1|1&r,g==t-1?(g=0,f.push(n(m)),m=0):g++,r>>=1;for(;;){if(m<<=1,g==t-1){f.push(n(m));break}g++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,i){var r,o,s,a,l,c,h,p=[],d=4,u=4,f=3,m="",g=[],O={val:i(0),position:n,index:1};for(r=0;r<3;r+=1)p[r]=r;for(s=0,l=Math.pow(2,2),c=1;c!=l;)a=O.val&O.position,O.position>>=1,0==O.position&&(O.position=n,O.val=i(O.index++)),s|=(a>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,l=Math.pow(2,8),c=1;c!=l;)a=O.val&O.position,O.position>>=1,0==O.position&&(O.position=n,O.val=i(O.index++)),s|=(a>0?1:0)*c,c<<=1;h=e(s);break;case 1:for(s=0,l=Math.pow(2,16),c=1;c!=l;)a=O.val&O.position,O.position>>=1,0==O.position&&(O.position=n,O.val=i(O.index++)),s|=(a>0?1:0)*c,c<<=1;h=e(s);break;case 2:return""}for(p[3]=h,o=h,g.push(h);;){if(O.index>t)return"";for(s=0,l=Math.pow(2,f),c=1;c!=l;)a=O.val&O.position,O.position>>=1,0==O.position&&(O.position=n,O.val=i(O.index++)),s|=(a>0?1:0)*c,c<<=1;switch(h=s){case 0:for(s=0,l=Math.pow(2,8),c=1;c!=l;)a=O.val&O.position,O.position>>=1,0==O.position&&(O.position=n,O.val=i(O.index++)),s|=(a>0?1:0)*c,c<<=1;p[u++]=e(s),h=u-1,d--;break;case 1:for(s=0,l=Math.pow(2,16),c=1;c!=l;)a=O.val&O.position,O.position>>=1,0==O.position&&(O.position=n,O.val=i(O.index++)),s|=(a>0?1:0)*c,c<<=1;p[u++]=e(s),h=u-1,d--;break;case 2:return g.join("")}if(0==d&&(d=Math.pow(2,f),f++),p[h])m=p[h];else{if(h!==u)return null;m=o+o.charAt(0)}g.push(m),p[u++]=o+m.charAt(0),o=m,0==--d&&(d=Math.pow(2,f),f++)}}};return o}();void 0===(i=function(){return r}.call(t,n,t,e))||(e.exports=i)},22257:(e,t,n)=>{const i=Symbol("SemVer ANY");class r{static get ANY(){return i}constructor(e,t){if(t=o(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new h(n[2],this.options.loose):this.semver=i}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"==typeof e)try{e=new h(e,this.options)}catch(t){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):(!(t=o(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=r;const o=n(12893),{safeRe:s,t:a}=n(55765),l=n(7539),c=n(74225),h=n(26376),p=n(66902)},66902:(e,t,n)=>{class i{constructor(e,t){if(t=o(t),e instanceof i)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new i(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!g(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&O(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&f)|(this.options.loose&&m))+":"+e,n=r.get(t);if(n)return n;const i=this.options.loose,o=i?c[h.HYPHENRANGELOOSE]:c[h.HYPHENRANGE];e=e.replace(o,$(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(c[h.COMPARATORTRIM],p),a("comparator trim",e),e=e.replace(c[h.TILDETRIM],d),a("tilde trim",e),e=e.replace(c[h.CARETTRIM],u),a("caret trim",e);let l=e.split(" ").map((e=>b(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));i&&(l=l.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(c[h.COMPARATORLOOSE]))))),a("range list",l);const O=new Map,x=l.map((e=>new s(e,this.options)));for(const r of x){if(g(r))return[r];O.set(r.value,r)}O.size>1&&O.has("")&&O.delete("");const v=[...O.values()];return r.set(t,v),v}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Range is required");return this.set.some((n=>x(n,t)&&e.set.some((e=>x(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(t){return!1}for(let n=0;n<this.set.length;n++)if(I(this.set[n],e,this.options))return!0;return!1}}e.exports=i;const r=new(n(39593))({max:1e3}),o=n(12893),s=n(22257),a=n(74225),l=n(26376),{safeRe:c,t:h,comparatorTrimReplace:p,tildeTrimReplace:d,caretTrimReplace:u}=n(55765),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:m}=n(83295),g=e=>"<0.0.0-0"===e.value,O=e=>""===e.value,x=(e,t)=>{let n=!0;const i=e.slice();let r=i.pop();for(;n&&i.length;)n=i.every((e=>r.intersects(e,t))),r=i.pop();return n},b=(e,t)=>(a("comp",e,t),e=S(e,t),a("caret",e),e=y(e,t),a("tildes",e),e=T(e,t),a("xrange",e),e=P(e,t),a("stars",e),e),v=e=>!e||"x"===e.toLowerCase()||"*"===e,y=(e,t)=>e.trim().split(/\s+/).map((e=>w(e,t))).join(" "),w=(e,t)=>{const n=t.loose?c[h.TILDELOOSE]:c[h.TILDE];return e.replace(n,((t,n,i,r,o)=>{let s;return a("tilde",e,t,n,i,r,o),v(n)?s="":v(i)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:v(r)?s=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${n}.${i}.${r}-${o} <${n}.${+i+1}.0-0`):s=`>=${n}.${i}.${r} <${n}.${+i+1}.0-0`,a("tilde return",s),s}))},S=(e,t)=>e.trim().split(/\s+/).map((e=>k(e,t))).join(" "),k=(e,t)=>{a("caret",e,t);const n=t.loose?c[h.CARETLOOSE]:c[h.CARET],i=t.includePrerelease?"-0":"";return e.replace(n,((t,n,r,o,s)=>{let l;return a("caret",e,t,n,r,o,s),v(n)?l="":v(r)?l=`>=${n}.0.0${i} <${+n+1}.0.0-0`:v(o)?l="0"===n?`>=${n}.${r}.0${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.0${i} <${+n+1}.0.0-0`:s?(a("replaceCaret pr",s),l="0"===n?"0"===r?`>=${n}.${r}.${o}-${s} <${n}.${r}.${+o+1}-0`:`>=${n}.${r}.${o}-${s} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${o}-${s} <${+n+1}.0.0-0`):(a("no pr"),l="0"===n?"0"===r?`>=${n}.${r}.${o}${i} <${n}.${r}.${+o+1}-0`:`>=${n}.${r}.${o}${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${o} <${+n+1}.0.0-0`),a("caret return",l),l}))},T=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>Q(e,t))).join(" ")),Q=(e,t)=>{e=e.trim();const n=t.loose?c[h.XRANGELOOSE]:c[h.XRANGE];return e.replace(n,((n,i,r,o,s,l)=>{a("xRange",e,n,i,r,o,s,l);const c=v(r),h=c||v(o),p=h||v(s),d=p;return"="===i&&d&&(i=""),l=t.includePrerelease?"-0":"",c?n=">"===i||"<"===i?"<0.0.0-0":"*":i&&d?(h&&(o=0),s=0,">"===i?(i=">=",h?(r=+r+1,o=0,s=0):(o=+o+1,s=0)):"<="===i&&(i="<",h?r=+r+1:o=+o+1),"<"===i&&(l="-0"),n=`${i+r}.${o}.${s}${l}`):h?n=`>=${r}.0.0${l} <${+r+1}.0.0-0`:p&&(n=`>=${r}.${o}.0${l} <${r}.${+o+1}.0-0`),a("xRange return",n),n}))},P=(e,t)=>(a("replaceStars",e,t),e.trim().replace(c[h.STAR],"")),C=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?h.GTE0PRE:h.GTE0],"")),$=e=>(t,n,i,r,o,s,a,l,c,h,p,d,u)=>`${n=v(i)?"":v(r)?`>=${i}.0.0${e?"-0":""}`:v(o)?`>=${i}.${r}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=v(c)?"":v(h)?`<${+c+1}.0.0-0`:v(p)?`<${c}.${+h+1}.0-0`:d?`<=${c}.${h}.${p}-${d}`:e?`<${c}.${h}.${+p+1}-0`:`<=${l}`}`.trim(),I=(e,t,n)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},26376:(e,t,n)=>{const i=n(74225),{MAX_LENGTH:r,MAX_SAFE_INTEGER:o}=n(83295),{safeRe:s,t:a}=n(55765),l=n(12893),{compareIdentifiers:c}=n(86742);class h{constructor(e,t){if(t=l(t),e instanceof h){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof h)){if("string"==typeof e&&e===this.version)return 0;e=new h(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof h||(e=new h(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],r=e.prerelease[t];if(i("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return c(n,r)}while(++t)}compareBuild(e){e instanceof h||(e=new h(e,this.options));let t=0;do{const n=this.build[t],r=e.build[t];if(i("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return c(n,r)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let i=[t,e];!1===n&&(i=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=h},13507:(e,t,n)=>{const i=n(33959);e.exports=(e,t)=>{const n=i(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},7539:(e,t,n)=>{const i=n(58718),r=n(81194),o=n(71312),s=n(25903),a=n(21544),l=n(12056);e.exports=(e,t,n,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return i(e,n,c);case"!=":return r(e,n,c);case">":return o(e,n,c);case">=":return s(e,n,c);case"<":return a(e,n,c);case"<=":return l(e,n,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},99038:(e,t,n)=>{const i=n(26376),r=n(33959),{safeRe:o,t:s}=n(55765);e.exports=(e,t)=>{if(e instanceof i)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=o[s.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),o[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;o[s.COERCERTL].lastIndex=-1}else n=e.match(o[s.COERCE]);return null===n?null:r(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},88880:(e,t,n)=>{const i=n(26376);e.exports=(e,t,n)=>{const r=new i(e,n),o=new i(t,n);return r.compare(o)||r.compareBuild(o)}},27880:(e,t,n)=>{const i=n(46269);e.exports=(e,t)=>i(e,t,!0)},46269:(e,t,n)=>{const i=n(26376);e.exports=(e,t,n)=>new i(e,n).compare(new i(t,n))},62378:(e,t,n)=>{const i=n(33959);e.exports=(e,t)=>{const n=i(e,null,!0),r=i(t,null,!0),o=n.compare(r);if(0===o)return null;const s=o>0,a=s?n:r,l=s?r:n,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c)return l.patch||l.minor?a.patch?"patch":a.minor?"minor":"major":"major";const h=c?"pre":"";return n.major!==r.major?h+"major":n.minor!==r.minor?h+"minor":n.patch!==r.patch?h+"patch":"prerelease"}},58718:(e,t,n)=>{const i=n(46269);e.exports=(e,t,n)=>0===i(e,t,n)},71312:(e,t,n)=>{const i=n(46269);e.exports=(e,t,n)=>i(e,t,n)>0},25903:(e,t,n)=>{const i=n(46269);e.exports=(e,t,n)=>i(e,t,n)>=0},20253:(e,t,n)=>{const i=n(26376);e.exports=(e,t,n,r,o)=>{"string"==typeof n&&(o=r,r=n,n=void 0);try{return new i(e instanceof i?e.version:e,n).inc(t,r,o).version}catch(s){return null}}},21544:(e,t,n)=>{const i=n(46269);e.exports=(e,t,n)=>i(e,t,n)<0},12056:(e,t,n)=>{const i=n(46269);e.exports=(e,t,n)=>i(e,t,n)<=0},38679:(e,t,n)=>{const i=n(26376);e.exports=(e,t)=>new i(e,t).major},87789:(e,t,n)=>{const i=n(26376);e.exports=(e,t)=>new i(e,t).minor},81194:(e,t,n)=>{const i=n(46269);e.exports=(e,t,n)=>0!==i(e,t,n)},33959:(e,t,n)=>{const i=n(26376);e.exports=(e,t,n=!1)=>{if(e instanceof i)return e;try{return new i(e,t)}catch(r){if(!n)return null;throw r}}},52358:(e,t,n)=>{const i=n(26376);e.exports=(e,t)=>new i(e,t).patch},57559:(e,t,n)=>{const i=n(33959);e.exports=(e,t)=>{const n=i(e,t);return n&&n.prerelease.length?n.prerelease:null}},79795:(e,t,n)=>{const i=n(46269);e.exports=(e,t,n)=>i(t,e,n)},63657:(e,t,n)=>{const i=n(88880);e.exports=(e,t)=>e.sort(((e,n)=>i(n,e,t)))},45712:(e,t,n)=>{const i=n(66902);e.exports=(e,t,n)=>{try{t=new i(t,n)}catch(r){return!1}return t.test(e)}},21100:(e,t,n)=>{const i=n(88880);e.exports=(e,t)=>e.sort(((e,n)=>i(e,n,t)))},76397:(e,t,n)=>{const i=n(33959);e.exports=(e,t)=>{const n=i(e,t);return n?n.version:null}},81249:(e,t,n)=>{const i=n(55765),r=n(83295),o=n(26376),s=n(86742),a=n(33959),l=n(76397),c=n(13507),h=n(20253),p=n(62378),d=n(38679),u=n(87789),f=n(52358),m=n(57559),g=n(46269),O=n(79795),x=n(27880),b=n(88880),v=n(21100),y=n(63657),w=n(71312),S=n(21544),k=n(58718),T=n(81194),Q=n(25903),P=n(12056),C=n(7539),$=n(99038),I=n(22257),R=n(66902),A=n(45712),M=n(51042),j=n(85775),E=n(71657),X=n(95316),z=n(89042),W=n(6826),_=n(97606),L=n(50032),D=n(82937),B=n(17908),U=n(50799);e.exports={parse:a,valid:l,clean:c,inc:h,diff:p,major:d,minor:u,patch:f,prerelease:m,compare:g,rcompare:O,compareLoose:x,compareBuild:b,sort:v,rsort:y,gt:w,lt:S,eq:k,neq:T,gte:Q,lte:P,cmp:C,coerce:$,Comparator:I,Range:R,satisfies:A,toComparators:M,maxSatisfying:j,minSatisfying:E,minVersion:X,validRange:z,outside:W,gtr:_,ltr:L,intersects:D,simplifyRange:B,subset:U,SemVer:o,re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},83295:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},74225:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},86742:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const i=t.test(e),r=t.test(n);return i&&r&&(e=+e,n=+n),e===n?0:i&&!r?-1:r&&!i?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},12893:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},55765:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:o}=n(83295),s=n(74225),a=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],h=t.t={};let p=0;const d="[a-zA-Z0-9-]",u=[["\\s",1],["\\d",o],[d,r]],f=(e,t,n)=>{const i=(e=>{for(const[t,n]of u)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),r=p++;s(e,r,t),h[e]=r,c[r]=t,a[r]=new RegExp(t,n?"g":void 0),l[r]=new RegExp(i,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${c[h.NUMERICIDENTIFIER]}|${c[h.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${c[h.NUMERICIDENTIFIERLOOSE]}|${c[h.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${c[h.PRERELEASEIDENTIFIER]}(?:\\.${c[h.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${c[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[h.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${c[h.BUILDIDENTIFIER]}(?:\\.${c[h.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${c[h.MAINVERSION]}${c[h.PRERELEASE]}?${c[h.BUILD]}?`),f("FULL",`^${c[h.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${c[h.MAINVERSIONLOOSE]}${c[h.PRERELEASELOOSE]}?${c[h.BUILD]}?`),f("LOOSE",`^${c[h.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${c[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${c[h.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:${c[h.PRERELEASE]})?${c[h.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:${c[h.PRERELEASELOOSE]})?${c[h.BUILD]}?)?)?`),f("XRANGE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAINLOOSE]}$`),f("COERCE",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?(?:$|[^\\d])`),f("COERCERTL",c[h.COERCE],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${c[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${c[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${c[h.LONECARET]}${c[h.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${c[h.LONECARET]}${c[h.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${c[h.GTLT]}\\s*(${c[h.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]}|${c[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${c[h.XRANGEPLAIN]})\\s+-\\s+(${c[h.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${c[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[h.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},97606:(e,t,n)=>{const i=n(6826);e.exports=(e,t,n)=>i(e,t,">",n)},82937:(e,t,n)=>{const i=n(66902);e.exports=(e,t,n)=>(e=new i(e,n),t=new i(t,n),e.intersects(t,n))},50032:(e,t,n)=>{const i=n(6826);e.exports=(e,t,n)=>i(e,t,"<",n)},85775:(e,t,n)=>{const i=n(26376),r=n(66902);e.exports=(e,t,n)=>{let o=null,s=null,a=null;try{a=new r(t,n)}catch(l){return null}return e.forEach((e=>{a.test(e)&&(o&&-1!==s.compare(e)||(o=e,s=new i(o,n)))})),o}},71657:(e,t,n)=>{const i=n(26376),r=n(66902);e.exports=(e,t,n)=>{let o=null,s=null,a=null;try{a=new r(t,n)}catch(l){return null}return e.forEach((e=>{a.test(e)&&(o&&1!==s.compare(e)||(o=e,s=new i(o,n)))})),o}},95316:(e,t,n)=>{const i=n(26376),r=n(66902),o=n(71312);e.exports=(e,t)=>{e=new r(e,t);let n=new i("0.0.0");if(e.test(n))return n;if(n=new i("0.0.0-0"),e.test(n))return n;n=null;for(let r=0;r<e.set.length;++r){const t=e.set[r];let s=null;t.forEach((e=>{const t=new i(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!o(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||n&&!o(n,s)||(n=s)}return n&&e.test(n)?n:null}},6826:(e,t,n)=>{const i=n(26376),r=n(22257),{ANY:o}=r,s=n(66902),a=n(45712),l=n(71312),c=n(21544),h=n(12056),p=n(25903);e.exports=(e,t,n,d)=>{let u,f,m,g,O;switch(e=new i(e,d),t=new s(t,d),n){case">":u=l,f=h,m=c,g=">",O=">=";break;case"<":u=c,f=p,m=l,g="<",O="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let i=0;i<t.set.length;++i){const n=t.set[i];let s=null,a=null;if(n.forEach((e=>{e.semver===o&&(e=new r(">=0.0.0")),s=s||e,a=a||e,u(e.semver,s.semver,d)?s=e:m(e.semver,a.semver,d)&&(a=e)})),s.operator===g||s.operator===O)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===O&&m(e,a.semver))return!1}return!0}},17908:(e,t,n)=>{const i=n(45712),r=n(46269);e.exports=(e,t,n)=>{const o=[];let s=null,a=null;const l=e.sort(((e,t)=>r(e,t,n)));for(const r of l){i(r,t,n)?(a=r,s||(s=r)):(a&&o.push([s,a]),a=null,s=null)}s&&o.push([s,null]);const c=[];for(const[i,r]of o)i===r?c.push(i):r||i!==l[0]?r?i===l[0]?c.push(`<=${r}`):c.push(`${i} - ${r}`):c.push(`>=${i}`):c.push("*");const h=c.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return h.length<p.length?h:t}},50799:(e,t,n)=>{const i=n(66902),r=n(22257),{ANY:o}=r,s=n(45712),a=n(46269),l=[new r(">=0.0.0-0")],c=[new r(">=0.0.0")],h=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=n.includePrerelease?l:c}if(1===t.length&&t[0].semver===o){if(n.includePrerelease)return!0;t=c}const i=new Set;let r,h,u,f,m,g,O;for(const o of e)">"===o.operator||">="===o.operator?r=p(r,o,n):"<"===o.operator||"<="===o.operator?h=d(h,o,n):i.add(o.semver);if(i.size>1)return null;if(r&&h){if(u=a(r.semver,h.semver,n),u>0)return null;if(0===u&&(">="!==r.operator||"<="!==h.operator))return null}for(const o of i){if(r&&!s(o,String(r),n))return null;if(h&&!s(o,String(h),n))return null;for(const e of t)if(!s(o,String(e),n))return!1;return!0}let x=!(!h||n.includePrerelease||!h.semver.prerelease.length)&&h.semver,b=!(!r||n.includePrerelease||!r.semver.prerelease.length)&&r.semver;x&&1===x.prerelease.length&&"<"===h.operator&&0===x.prerelease[0]&&(x=!1);for(const o of t){if(O=O||">"===o.operator||">="===o.operator,g=g||"<"===o.operator||"<="===o.operator,r)if(b&&o.semver.prerelease&&o.semver.prerelease.length&&o.semver.major===b.major&&o.semver.minor===b.minor&&o.semver.patch===b.patch&&(b=!1),">"===o.operator||">="===o.operator){if(f=p(r,o,n),f===o&&f!==r)return!1}else if(">="===r.operator&&!s(r.semver,String(o),n))return!1;if(h)if(x&&o.semver.prerelease&&o.semver.prerelease.length&&o.semver.major===x.major&&o.semver.minor===x.minor&&o.semver.patch===x.patch&&(x=!1),"<"===o.operator||"<="===o.operator){if(m=d(h,o,n),m===o&&m!==h)return!1}else if("<="===h.operator&&!s(h.semver,String(o),n))return!1;if(!o.operator&&(h||r)&&0!==u)return!1}return!(r&&g&&!h&&0!==u)&&(!(h&&O&&!r&&0!==u)&&(!b&&!x))},p=(e,t,n)=>{if(!e)return t;const i=a(e.semver,t.semver,n);return i>0?e:i<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,n)=>{if(!e)return t;const i=a(e.semver,t.semver,n);return i<0?e:i>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new i(e,n),t=new i(t,n);let r=!1;e:for(const i of e.set){for(const e of t.set){const t=h(i,e,n);if(r=r||null!==t,t)continue e}if(r)return!1}return!0}},51042:(e,t,n)=>{const i=n(66902);e.exports=(e,t)=>new i(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},89042:(e,t,n)=>{const i=n(66902);e.exports=(e,t)=>{try{return new i(e,t).range||"*"}catch(n){return null}}},49602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},34411:(e,t,n)=>{"use strict";function i(e){var t=this;if(t instanceof i||(t=new i),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function r(e,t,n){var i=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===i.next&&(e.tail=i),null===i.prev&&(e.head=i),e.length++,i}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,n,i){if(!(this instanceof a))return new a(e,t,n,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=i,i.Node=a,i.create=i,i.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},i.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},i.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},i.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},i.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},i.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},i.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},i.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,i=0;null!==n;i++)e.call(t,n.value,i,this),n=n.next},i.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,i=this.length-1;null!==n;i--)e.call(t,n.value,i,this),n=n.prev},i.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},i.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},i.prototype.map=function(e,t){t=t||this;for(var n=new i,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},i.prototype.mapReverse=function(e,t){t=t||this;for(var n=new i,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},i.prototype.reduce=function(e,t){var n,i=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,n=this.head.value}for(var r=0;null!==i;r++)n=e(n,i.value,r),i=i.next;return n},i.prototype.reduceReverse=function(e,t){var n,i=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,n=this.tail.value}for(var r=this.length-1;null!==i;r--)n=e(n,i.value,r),i=i.prev;return n},i.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},i.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},i.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new i;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,o=this.head;null!==o&&r<e;r++)o=o.next;for(;null!==o&&r<t;r++,o=o.next)n.push(o.value);return n},i.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new i;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,o=this.tail;null!==o&&r>t;r--)o=o.prev;for(;null!==o&&r>e;r--,o=o.prev)n.push(o.value);return n},i.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;var s=[];for(i=0;o&&i<t;i++)s.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(i=0;i<n.length;i++)o=r(this,o,n[i]);return s},i.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var i=n.prev;n.prev=n.next,n.next=i}return this.head=t,this.tail=e,this};try{n(49602)(i)}catch(l){}},11825:e=>{"use strict";e.exports=JSON.parse('[{"versionLabel":"v7.x","version":"7.4.2","releaseNotes":"https://github.com/pixijs/pixijs/releases/tag/v7.4.2","build":"https://pixijs.download/v7.4.2/pixi.min.js","docs":"https://pixijs.download/v7.4.2/docs/index.html","npm":"7.4.2","prerelease":false,"latest":false,"isCurrent":false},{"versionLabel":"v8.x","version":"8.6.4","releaseNotes":"https://github.com/pixijs/pixijs/releases/tag/v8.6.4","build":"https://pixijs.download/v8.6.4/pixi.min.js","docs":"https://pixijs.download/v8.6.4/docs/index.html","npm":"8.6.4","prerelease":false,"latest":true,"isCurrent":true}]')}}]);